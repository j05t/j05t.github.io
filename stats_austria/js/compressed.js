!function(){function _e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function jt(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function Ht(e,n){return n>e?-1:e>n?1:e>=n?0:NaN}function Un(e){return null===e?NaN:+e}function r(e){return!isNaN(e)}function e(a){return{left:function(n,t,e,l){for(3>arguments.length&&(e=0),4>arguments.length&&(l=n.length);l>e;){var o=e+l>>>1;0>a(n[o],t)?e=o+1:l=o}return e},right:function(n,t,e,l){for(3>arguments.length&&(e=0),4>arguments.length&&(l=n.length);l>e;){var o=e+l>>>1;0<a(n[o],t)?l=o:e=o+1}return e}}}function Er(e){return e.length}function Lr(e){for(var n=1;e*n%1;)n*=10;return n}function t(a,n){for(var t in n)Object.defineProperty(a.prototype,t,{value:n[t],enumerable:!1})}function Pr(){this._=Object.create(null)}function a(e){return(e+="")===xo||e[0]===bo?bo+e:e}function l(e){return(e+="")[0]===bo?e.slice(1):e}function n(e){return a(e)in this._}function o(e){return(e=a(e))in this._&&delete this._[e]}function i(){var e=[];for(var n in this._)e.push(l(n));return e}function s(){var e=0;for(var a in this._)++e;return e}function c(){for(var e in this._)return!1;return!0}function d(){this._=Object.create(null)}function qr(e){return e}function g(a,n,t){return function(){var e=t.apply(n,arguments);return e===n?a:e}}function h(a,n){if(n in a)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var l,o=0,s=_o.length;s>o;++o)if(l=_o[o]+n,l in a)return l}function p(){}function u(){}function y(a){function n(){for(var e,n=l,r=-1,o=n.length;++r<o;)(e=n[r].on)&&e.apply(this,arguments);return a}var l=[],s=new Pr;return n.on=function(e,t){var n,r=s.get(e);return 2>arguments.length?r&&r.on:(r&&(r.on=null,l=l.slice(0,n=l.indexOf(r)).concat(l.slice(n+1)),s.remove(e)),t&&l.push(s.set(e,{on:t})),a)},n}function x(){oo.event.preventDefault()}function m(){for(var e,a=oo.event;e=a.sourceEvent;)a=e;return a}function S(a){for(var n=new u,t=0,l=arguments.length;++t<l;)n[arguments[t]]=y(n);return n.of=function(t,e){return function(l){try{var r=l.sourceEvent=oo.event;l.target=a,oo.event=l,n[l.type].apply(t,e)}finally{oo.event=r}}},n}function _(e){return So(e,Ns),e}function b(e){return"function"==typeof e?e:function(){return ko(e,this)}}function E(e){return"function"==typeof e?e:function(){return qs(e,this)}}function f(l,s){function t(){this.removeAttribute(l)}function e(){this.removeAttributeNS(l.space,l.local)}function r(){this.setAttribute(l,s)}function i(){this.setAttributeNS(l.space,l.local,s)}function d(){var t=s.apply(this,arguments);null==t?this.removeAttribute(l):this.setAttribute(l,t)}function o(){var t=s.apply(this,arguments);null==t?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,t)}return l=oo.ns.qualify(l),null==s?l.local?e:t:"function"==typeof s?l.local?o:d:l.local?i:r}function v(e){return e.trim().replace(/\s+/g," ")}function w(e){return new RegExp("(?:^|\\s+)"+oo.requote(e)+"(?:\\s+|$)","g")}function k(e){return(e+"").trim().split(/^|\s+/)}function C(a,l){function t(){for(var t=-1;++t<o;)a[t](this,l)}function e(){for(var t=-1,n=l.apply(this,arguments);++t<o;)a[t](this,n)}a=k(a).map(A);var o=a.length;return"function"==typeof l?e:t}function A(a){var n=w(a);return function(t,e){if(l=t.classList)return e?l.add(a):l.remove(a);var l=t.getAttribute("class")||"";e?(n.lastIndex=0,n.test(l)||t.setAttribute("class",v(l+" "+a))):t.setAttribute("class",v(l.replace(n," ")))}}function L(a,n,t){return null==n?function(){this.style.removeProperty(a)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,t)}:function(){this.style.setProperty(a,n,t)}}function M(a,n){return null==n?function(){delete this[a]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[a]:this[a]=t}:function(){this[a]=n}}function P(a){function l(){var n=this.ownerDocument,t=this.namespaceURI;return t===Co&&n.documentElement.namespaceURI===Co?n.createElement(a):n.createElementNS(t,a)}function t(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=oo.ns.qualify(a)).local?t:l}function z(){var e=this.parentNode;e&&e.removeChild(this)}function T(e){return{__data__:e}}function q(e){return function(){return Rs(this,e)}}function R(a){return arguments.length||(a=Ht),function(n,t){return n&&t?a(n.__data__,t.__data__):!n-!t}}function N(l,n){for(var t=0,s=l.length;s>t;t++)for(var r,d=l[t],c=0,g=d.length;g>c;c++)(r=d[c])&&n(r,c,t);return l}function j(e){return So(e,Lo),e}function U(s){var n,r;return function(e,t,i){var d,c=s[i].update,a=c.length;for(i!=r&&(r=i,n=0),t>=n&&(n=t+1);!(d=c[n])&&++n<a;);return d}}function D(s,d,t){function e(){var e=this[g];e&&(this.removeEventListener(s,e,e.$),delete this[g])}function r(){var n=a(d,lo(arguments));e.call(this),this.addEventListener(s,this[g]=n,n.$=t),n._=d}function i(){var n,a=new RegExp("^__on([^.]+)"+oo.requote(s)+"$");for(var e in this)if(n=e.match(a)){var l=this[e];this.removeEventListener(n[1],l,l.$),delete this[e]}}var g="__on"+s,o=s.indexOf("."),a=O;0<o&&(s=s.slice(0,o));var h=qo.get(s);return h&&(s=h,a=F),o?d?r:e:d?p:i}function O(e,n){return function(t){var a=oo.event;oo.event=t,n[0]=this.__data__;try{e.apply(this,n)}finally{oo.event=a}}}function F(a,n){var l=O(a,n);return function(e){var n=this,t=e.relatedTarget;t&&(t===n||8&t.compareDocumentPosition(n))||l.call(n,e)}}function H(t){var e=".dragsuppress-"+ ++js,n="click"+e,l=oo.select(jt(t)).on("touchmove"+e,x).on("dragstart"+e,x).on("selectstart"+e,x);if(null==To&&(To=!("onselectstart"in t)&&h(t.style,"userSelect")),To){var r=_e(t).style,o=r[To];r[To]="none"}return function(a){if(l.on(e,null),To&&(r[To]=o),a){var i=function(){l.on(n,null)};l.on(n,function(){x(),i()},!0),setTimeout(i,0)}}}function I(t,n){n.changedTouches&&(n=n.changedTouches[0]);var l=t.ownerSVGElement||t;if(l.createSVGPoint){var s=l.createSVGPoint();if(0>Us){var d=jt(t);if(d.scrollX||d.scrollY){l=oo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var c=l[0][0].getScreenCTM();Us=!(c.f||c.e),l.remove()}}return Us?(s.x=n.pageX,s.y=n.pageY):(s.x=n.clientX,s.y=n.clientY),s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function Y(){return oo.event.changedTouches[0].identifier}function B(e){return 0<e?1:0>e?-1:0}function V(a,n,t){return(n[0]-a[0])*(t[1]-a[1])-(n[1]-a[1])*(t[0]-a[0])}function Z(e){return 1<e?0:-1>e?jo:Math.acos(e)}function G(e){return 1<e?Ho:-1>e?-Ho:Math.asin(e)}function X(e){return((e=Math.exp(e))-1/e)/2}function W(e){return((e=Math.exp(e))+1/e)/2}function $(e){return((e=Math.exp(2*e))-1)/(e+1)}function J(e){return(e=Math.sin(e/2))*e}function K(){}function Q(a,n,t){return this instanceof Q?(this.h=+a,this.s=+n,void(this.l=+t)):2>arguments.length?a instanceof Q?new Q(a.h,a.s,a.l):un(""+a,yn,Q):new Q(a,n,t)}function en(a,l,s){function d(e){return 360<e?e-=360:0>e&&(e+=360),60>e?i+(c-i)*e/60:180>e?c:240>e?i+(c-i)*(240-e)/60:i}function r(e){return Math.round(255*d(e))}var i,c;return a=isNaN(a)?0:0>(a%=360)?a+360:a,l=isNaN(l)?0:0>l?0:1<l?1:l,s=0>s?0:1<s?1:s,c=.5>=s?s*(1+l):s+l-s*l,i=2*s-c,new cn(r(a+120),r(a),r(a-120))}function tn(a,l,t){return this instanceof tn?(this.h=+a,this.c=+l,void(this.l=+t)):2>arguments.length?a instanceof tn?new tn(a.h,a.c,a.l):a instanceof an?rn(a.l,a.a,a.b):rn((a=mn((a=oo.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new tn(a,l,t)}function nn(a,l,r){return isNaN(a)&&(a=0),isNaN(l)&&(l=0),new an(r,Math.cos(a*=Io)*l,Math.sin(a)*l)}function an(a,l,t){return this instanceof an?(this.l=+a,this.a=+l,void(this.b=+t)):2>arguments.length?a instanceof an?new an(a.l,a.a,a.b):a instanceof tn?nn(a.h,a.c,a.l):mn((a=cn(a)).r,a.g,a.b):new an(a,l,t)}function ln(a,n,t){var e=(a+16)/116,l=e+n/500,o=e-t/200;return l=on(l)*Qo,e=on(e)*na,o=on(o)*ta,new cn(dn(3.2404542*l-1.5371385*e-.4985314*o),dn(-.969266*l+1.8760108*e+.041556*o),dn(.0556434*l-.2040259*e+1.0572252*o))}function rn(a,n,t){return 0<a?new tn(Math.atan2(t,n)*Yo,Math.sqrt(n*n+t*t),a):new tn(NaN,NaN,a)}function on(e){return .206893034<e?e*e*e:(e-4/29)/7.787037}function sn(e){return .008856<e?Math.pow(e,1/3):7.787037*e+4/29}function dn(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function cn(a,n,t){return this instanceof cn?(this.r=~~a,this.g=~~n,void(this.b=~~t)):2>arguments.length?a instanceof cn?new cn(a.r,a.g,a.b):un(""+a,cn,en):new cn(a,n,t)}function gn(e){return new cn(e>>16,255&e>>8,255&e)}function hn(e){return gn(e)+""}function pn(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function un(s,d,t){var e,c,g,h=0,p=0,y=0;if(e=/([a-z]+)\((.*)\)/.exec(s=s.toLowerCase()))switch(c=e[2].split(","),e[1]){case"hsl":return t(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);case"rgb":return d(xn(c[0]),xn(c[1]),xn(c[2]));}return(g=ia.get(s))?d(g.r,g.g,g.b):(null==s||"#"!==s.charAt(0)||isNaN(g=parseInt(s.slice(1),16))||(4===s.length?(h=(3840&g)>>4,h=h>>4|h,p=240&g,p=p>>4|p,y=15&g,y=y<<4|y):7===s.length&&(h=(16711680&g)>>16,p=(65280&g)>>8,y=255&g)),d(h,p,y))}function yn(s,d,c){var g,h,p=Math.min(s/=255,d/=255,c/=255),u=Math.max(s,d,c),o=u-p,a=(u+p)/2;return o?(h=.5>a?o/(u+p):o/(2-u-p),g=s==u?(d-c)/o+(c>d?6:0):d==u?(c-s)/o+2:(s-d)/o+4,g*=60):(g=NaN,h=0<a&&1>a?0:g),new Q(g,h,a)}function mn(a,l,o){a=fn(a),l=fn(l),o=fn(o);var s=sn((.4124564*a+.3575761*l+.1804375*o)/Qo),r=sn((.2126729*a+.7151522*l+.072175*o)/na),i=sn((.0193339*a+.119192*l+.9503041*o)/ta);return an(116*r-16,500*(s-r),200*(r-i))}function fn(e){return .04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xn(e){var n=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*n):n}function _n(e){return"function"==typeof e?e:function(){return e}}function bn(a){return function(n,t,l){return 2===arguments.length&&"function"==typeof t&&(l=t,t=null),vn(n,t,a,l)}}function vn(s,d,g,n){function r(){var e,l=a.status;if(!l&&wn(a)||200<=l&&300>l||304===l){try{e=g.call(h,a)}catch(e){return void p.error.call(h,e)}p.load.call(h,e)}else p.error.call(h,a)}var h={},p=oo.dispatch("beforesend","progress","load","error"),o={},a=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(s)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=r:a.onreadystatechange=function(){3<a.readyState&&r()},a.onprogress=function(e){var n=oo.event;oo.event=e;try{p.progress.call(h,a)}finally{oo.event=n}},h.header=function(e,a){return e=(e+"").toLowerCase(),2>arguments.length?o[e]:(null==a?delete o[e]:o[e]=a+"",h)},h.mimeType=function(e){return arguments.length?(d=null==e?null:e+"",h):d},h.responseType=function(e){return arguments.length?(u=e,h):u},h.response=function(e){return g=e,h},["get","post"].forEach(function(e){h[e]=function(){return h.send.apply(h,[e].concat(lo(arguments)))}}),h.send=function(t,e,l){if(2===arguments.length&&"function"==typeof e&&(l=e,e=null),a.open(t,s,!0),null==d||"accept"in o||(o.accept=d+",*/*"),a.setRequestHeader)for(var n in o)a.setRequestHeader(n,o[n]);return null!=d&&a.overrideMimeType&&a.overrideMimeType(d),null!=u&&(a.responseType=u),null!=l&&h.on("error",l).on("load",function(e){l(null,e)}),p.beforesend.call(h,a),a.send(null==e?null:e),h},h.abort=function(){return a.abort(),h},oo.rebind(h,p,"on"),null==n?h:h.get(En(n))}function En(a){return 1===a.length?function(n,t){a(null==n?t:null)}:a}function wn(e){var n=e.responseType;return n&&"text"!==n?e.response:e.responseText}function Sn(a,n,l){var o=arguments.length;2>o&&(n=0),3>o&&(l=Date.now());var r=l+n,i={c:a,t:r,n:null};return Hs?Hs.n=i:ua=i,Hs=i,Is||(Ys=clearTimeout(Ys),Is=1,Bs(kn)),i}function kn(){var e=Cn(),n=An()-e;24<n?(isFinite(n)&&(clearTimeout(Ys),Ys=setTimeout(kn,n)),Is=0):(Is=1,Bs(kn))}function Cn(){for(var e=Date.now(),n=ua;n;)e>=n.t&&n.c(e-n.t)&&(n.c=null),n=n.n;return e}function An(){for(var a,l=ua,r=1/0;l;)l.c?(l.t<r&&(r=l.t),l=(a=l).n):l=a?a.n=l.n:ua=l.n;return Hs=a,r}function Ln(e,n){return n-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Mn(a){var E=a.decimal,s=a.thousands,e=a.grouping,t=a.currency,C=e&&s?function(r,n){for(var t=r.length,d=[],c=0,g=e[0],h=0;0<t&&0<g&&(h+g+1>n&&(g=Math.max(1,n-h)),d.push(r.substring(t-=g,t+g)),!((h+=g+1)>n));)g=e[c=(c+1)%e.length];return d.reverse().join(s)}:qr;return function(i){var n=sa.exec(i),u=n[1]||" ",A=n[2]||">",L=n[3]||"-",e=n[4]||"",a=n[5],P=+n[6],f=n[7],z=n[8],T=n[9],q=1,R="",N="",j=!1,l=!0;switch(z&&(z=+z.substring(1)),(a||"0"===u&&"="===A)&&(a=u="0",A="="),T){case"n":f=!0,T="g";break;case"%":q=100,N="%",T="f";break;case"p":q=100,N="%",T="r";break;case"b":case"o":case"x":case"X":"#"===e&&(R="0"+T.toLowerCase());case"c":l=!1;case"d":j=!0,z=0;break;case"s":q=-1,T="r";}"$"===e&&(R=t[0],N=t[1]),"r"!=T||z||(T="g"),null!=z&&("g"==T?z=Math.max(1,Math.min(21,z)):"e"!=T&&"f"!=T||(z=Math.max(0,Math.min(20,z)))),T=ha.get(T)||Pn;var U=a&&f;return function(t){var r=N;if(j&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===L?"":L;if(0>q){var s=oo.formatPrefix(t,z);t=s.scale(t),r=s.symbol+N}else t*=q;t=T(t,z);var d,c,g=t.lastIndexOf(".");if(0>g){var h=l?t.lastIndexOf("e"):-1;0>h?(d=t,c=""):(d=t.substring(0,h),c=t.substring(h))}else d=t.substring(0,g),c=E+t.substring(g+1);!a&&f&&(d=C(d,1/0));var p=R.length+d.length+c.length+(U?0:o.length),y=P>p?Array(p=P-p+1).join(u):"";return U&&(d=C(y+d,y.length?P-c.length:1/0)),o+=R,t=d+c,("<"===A?o+t+y:">"===A?y+o+t:"^"===A?y.substring(0,p>>=1)+o+t+y.substring(p):o+(U?t:y+t))+r}}}function Pn(e){return e+""}function zn(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Tn(a,s,t){function e(l){var t=a(l),e=n(t,1);return e-l>l-t?t:e}function d(t){return s(t=a(new ga(t-1)),1),t}function n(t,a){return s(t=new ga(+t),a),t}function i(e,n,l){var r=d(e),o=[];if(1<l)for(;n>r;)t(r)%l||o.push(new Date(+r)),s(r,1);else for(;n>r;)o.push(new Date(+r)),s(r,1);return o}a.floor=a,a.round=e,a.ceil=d,a.offset=n,a.range=i;var r=a.utc=qn(a);return r.floor=r,r.round=qn(e),r.ceil=qn(d),r.offset=qn(n),r.range=function(a,n,t){try{ga=zn;var e=new zn;return e._=a,i(e,n,t)}finally{ga=Date}},a}function qn(a){return function(n,t){try{ga=zn;var e=new zn;return e._=n,a(e,t)._}finally{ga=Date}}}function Rn(a){function l(s){function e(r){for(var t,d,c,g=[],o=-1,h=0;++o<n;)37===s.charCodeAt(o)&&(g.push(s.slice(h,o)),null!=(d=da[t=s.charAt(++o)])&&(t=s.charAt(++o)),(c=v[t])&&(t=c(r,null==d?"e"===t?" ":"0":d)),g.push(t),h=o+1);return g.push(s.slice(h,o)),g.join("")}var n=s.length;return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},n=c(t,s,e,0);if(n!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var a=null!=t.Z&&ga!==zn,l=new(a?zn:ga);return"j"in t?l.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),l.setFullYear(t.y,0,1),l.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(l.getDay()+5)%7:t.w+7*t.U-(l.getDay()+6)%7)):l.setFullYear(t.y,t.m,t.d),l.setHours(t.H+(0|t.Z/100),t.M+t.Z%100,t.S,t.L),a?l._:l},e.toString=function(){return s},e}function c(s,n,t,e){for(var d,g,h,p=0,y=n.length,l=t.length;y>p;){if(e>=l)return-1;if(d=n.charCodeAt(p++),37===d){if(h=n.charAt(p++),g=E[h in da?n.charAt(p++):h],!g||0>(e=g(s,t,e)))return-1;}else if(d!=t.charCodeAt(e++))return-1}return e}function e(a,n,t){y.lastIndex=0;var e=y.exec(n.slice(t));return e?(a.w=m.get(e[0].toLowerCase()),t+e[0].length):-1}var t=a.dateTime,n=a.date,r=a.time,o=a.periods,i=a.days,s=a.shortDays,d=a.months,g=a.shortMonths;l.utc=function(t){function n(a){try{ga=zn;var n=new ga;return n._=a,e(n)}finally{ga=Date}}var e=l(t);return n.parse=function(a){try{ga=zn;var n=e.parse(a);return n&&n._}finally{ga=Date}},n.toString=e.toString,n},l.multi=l.utc.multi=lt;var h=oo.map(),p=jn(i),u=Dn(i),y=jn(s),m=Dn(s),f=jn(d),x=Dn(d),_=jn(g),b=Dn(g);o.forEach(function(e,n){h.set(e.toLowerCase(),n)});var v={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return g[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:l(t),d:function(e,n){return Nn(e.getDate(),n,2)},e:function(e,n){return Nn(e.getDate(),n,2)},H:function(e,n){return Nn(e.getHours(),n,2)},I:function(e,n){return Nn(e.getHours()%12||12,n,2)},j:function(e,n){return Nn(1+pa.dayOfYear(e),n,3)},L:function(e,n){return Nn(e.getMilliseconds(),n,3)},m:function(e,n){return Nn(e.getMonth()+1,n,2)},M:function(e,n){return Nn(e.getMinutes(),n,2)},p:function(e){return o[+(12<=e.getHours())]},S:function(e,n){return Nn(e.getSeconds(),n,2)},U:function(e,n){return Nn(pa.sundayOfYear(e),n,2)},w:function(e){return e.getDay()},W:function(e,n){return Nn(pa.mondayOfYear(e),n,2)},x:l(n),X:l(r),y:function(e,n){return Nn(e.getFullYear()%100,n,2)},Y:function(e,n){return Nn(e.getFullYear()%1e4,n,4)},Z:ot,"%":function(){return"%"}},E={a:e,A:function(a,n,t){p.lastIndex=0;var e=p.exec(n.slice(t));return e?(a.w=u.get(e[0].toLowerCase()),t+e[0].length):-1},b:function(a,n,t){_.lastIndex=0;var e=_.exec(n.slice(t));return e?(a.m=b.get(e[0].toLowerCase()),t+e[0].length):-1},B:function(a,n,t){f.lastIndex=0;var e=f.exec(n.slice(t));return e?(a.m=x.get(e[0].toLowerCase()),t+e[0].length):-1},c:function(e,n,t){return c(e,v.c.toString(),n,t)},d:nt,e:nt,H:et,I:et,j:tt,L:ut,m:Zn,M:rt,p:function(a,n,t){var l=h.get(n.slice(t,t+=2).toLowerCase());return null==l?-1:(a.p=l,t)},S:it,U:Fn,w:On,W:Hn,x:function(e,n,t){return c(e,v.x.toString(),n,t)},X:function(e,n,t){return c(e,v.X.toString(),n,t)},y:Yn,Y:In,Z:Bn,"%":at};return l}function Nn(a,n,t){var e=0>a?"-":"",l=(e?-a:a)+"",r=l.length;return e+(t>r?Array(t-r+1).join(n)+l:l)}function jn(e){return new RegExp("^(?:"+e.map(oo.requote).join("|")+")","i")}function Dn(a){for(var n=new Pr,t=-1,l=a.length;++t<l;)n.set(a[t].toLowerCase(),t);return n}function On(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+1));return e?(a.w=+e[0],t+e[0].length):-1}function Fn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t));return e?(a.U=+e[0],t+e[0].length):-1}function Hn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t));return e?(a.W=+e[0],t+e[0].length):-1}function In(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+4));return e?(a.y=+e[0],t+e[0].length):-1}function Yn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.y=Vn(+e[0]),t+e[0].length):-1}function Bn(a,n,l){return /^[+-]\d{4}$/.test(n=n.slice(l,l+5))?(a.Z=-n,l+5):-1}function Vn(e){return e+(68<e?1900:2e3)}function Zn(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.m=e[0]-1,t+e[0].length):-1}function nt(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.d=+e[0],t+e[0].length):-1}function tt(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+3));return e?(a.j=+e[0],t+e[0].length):-1}function et(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.H=+e[0],t+e[0].length):-1}function rt(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.M=+e[0],t+e[0].length):-1}function it(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+2));return e?(a.S=+e[0],t+e[0].length):-1}function ut(a,n,t){ya.lastIndex=0;var e=ya.exec(n.slice(t,t+3));return e?(a.L=+e[0],t+e[0].length):-1}function ot(a){var n=a.getTimezoneOffset(),t=0<n?"-":"+",e=0|Mo(n)/60,l=Mo(n)%60;return t+Nn(e,"0",2)+Nn(l,"0",2)}function at(a,n,t){ma.lastIndex=0;var e=ma.exec(n.slice(t,t+1));return e?t+e[0].length:-1}function lt(a){for(var n=a.length,t=-1;++t<n;)a[t][0]=this(a[t][0]);return function(n){for(var t=0,l=a[t];!l[1](n);)l=a[++t];return l[0](n)}}function ct(){}function ft(a,n,t){var e=t.s=a+n,l=e-a;t.t=a-(e-l)+(n-l)}function st(e,n){e&&_a.hasOwnProperty(e.type)&&_a[e.type](e,n)}function ht(a,n,t){var e,l=-1,o=a.length-t;for(n.lineStart();++l<o;)e=a[l],n.point(e[0],e[1],e[2]);n.lineEnd()}function pt(a,n){var t=-1,l=a.length;for(n.polygonStart();++t<l;)ht(a[t],n,1);n.polygonEnd()}function gt(){function l(r,i){r*=Io,i=i*Io/2+jo/4;var u=r-d,e=0<=u?1:-1,o=e*u,a=Math.cos(i),l=Math.sin(i),c=p*l,y=g*a+c*Math.cos(o),s=c*e*Math.sin(o);Zs.add(Math.atan2(s,y)),d=r,g=a,p=l}var n,s,d,g,p;ka.point=function(e,t){ka.point=l,d=(n=e)*Io,g=Math.cos(t=(s=t)*Io/2+jo/4),p=Math.sin(t)},ka.lineEnd=function(){l(n,s)}}function vt(a){var n=a[0],t=a[1],e=Math.cos(t);return[e*Math.cos(n),e*Math.sin(n),Math.sin(t)]}function dt(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function yt(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function mt(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function Mt(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function xt(e){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function bt(e){return[Math.atan2(e[1],e[0]),G(e[2])]}function _t(e,n){return Mo(e[0]-n[0])<Ds&&Mo(e[1]-n[1])<Ds}function wt(a,l){a*=Io;var r=Math.cos(l*=Io);St(r*Math.cos(a),r*Math.sin(a),Math.sin(l))}function St(a,n,t){++Na,Xs+=(a-Xs)/Na,Ws+=(n-Ws)/Na,$s+=(t-$s)/Na}function kt(){function a(e,t){e*=Io;var r=Math.cos(t*=Io),h=r*Math.cos(e),o=r*Math.sin(e),a=Math.sin(t),l=Math.atan2(Math.sqrt((l=d*a-g*o)*l+(l=g*h-s*a)*l+(l=s*o-d*h)*l),s*h+d*o+g*a);Gs+=l,Js+=l*(s+(s=h)),Ks+=l*(d+(d=o)),Qs+=l*(g+(g=a)),St(s,d,g)}var s,d,g;ad.point=function(e,t){e*=Io;var n=Math.cos(t*=Io);s=n*Math.cos(e),d=n*Math.sin(e),g=Math.sin(t),ad.point=a,St(s,d,g)}}function Nt(){ad.point=wt}function Et(){function s(r,i){r*=Io;var d=Math.cos(i*=Io),e=d*Math.cos(r),o=d*Math.sin(r),a=Math.sin(i),l=m*a-x*o,c=x*e-y*a,u=y*o-m*e,s=Math.sqrt(l*l+c*c+u*u),h=y*e+m*o+x*a,p=s&&-Z(h)/s,g=Math.atan2(s,h);ed+=p*l,td+=p*c,nd+=p*u,Gs+=g,Js+=g*(y+(y=e)),Ks+=g*(m+(m=o)),Qs+=g*(x+(x=a)),St(y,m,x)}var n,d,y,m,x;ad.point=function(e,t){n=e,d=t,ad.point=s,e*=Io;var r=Math.cos(t*=Io);y=r*Math.cos(e),m=r*Math.sin(e),x=Math.sin(t),St(y,m,x)},ad.lineEnd=function(){s(n,d),ad.lineEnd=Nt,ad.point=wt}}function At(a,n){function t(t,l){return t=a(t,l),n(t[0],t[1])}return a.invert&&n.invert&&(t.invert=function(t,l){return t=n.invert(t,l),t&&a.invert(t[0],t[1])}),t}function Ct(){return!0}function zt(d,n,t,e,r){var i=[],u=[];if(d.forEach(function(o){if(!(0>=(n=o.length-1))){var n,s=o[0],d=o[n];if(_t(s,d)){r.lineStart();for(var g=0;n>g;++g)r.point((s=o[g])[0],s[1]);return void r.lineEnd()}var h=new qt(s,o,null,!0),p=new qt(s,null,h,!1);h.o=p,i.push(h),u.push(p),h=new qt(d,o,null,!1),p=new qt(d,null,h,!0),h.o=p,i.push(h),u.push(p)}}),u.sort(n),Lt(i),Lt(u),i.length){for(var o=0,y=t,m=u.length;m>o;++o)u[o].e=y=!y;for(var x,_,b=i[0];;){for(var h=b,v=!0;h.v;)if((h=h.n)===b)return;x=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(var o=0,m=x.length;m>o;++o)r.point((_=x[o])[0],_[1]);else e(h.x,h.n.x,1,r);h=h.n}else{if(v){x=h.p.z;for(var o=x.length-1;0<=o;--o)r.point((_=x[o])[0],_[1])}else e(h.x,h.p.x,-1,r);h=h.p}h=h.o,x=h.z,v=!v}while(!h.v);r.lineEnd()}}}function Lt(a){if(n=a.length){for(var n,l,o=0,s=a[0];++o<n;)s.n=l=a[o],l.p=s,s=l;s.n=l=a[0],l.p=s}}function qt(a,n,t,e){this.x=a,this.z=n,this.o=t,this.e=e,this.v=!1,this.n=this.p=null}function Tt(a,n,t,e){return function(_,E){function r(n,l){var o=_(n,l);a(n=o[0],l=o[1])&&E.point(n,l)}function o(a,n){var t=_(a,n);S.point(t[0],t[1])}function i(){y.point=o,S.lineStart()}function l(){y.point=r,S.lineEnd()}function c(a,n){w.push([a,n]);var t=_(a,n);k.point(t[0],t[1])}function u(){k.lineStart(),w=[]}function s(){c(w[0][0],w[0][1]),k.lineEnd();var a,l=k.clean(),t=m.buffer(),e=t.length;if(w.pop(),f.push(w),w=null,e)if(1&l){a=t[0];var s,e=a.length-1,d=-1;if(0<e){for(x||(E.polygonStart(),x=!0),E.lineStart();++d<e;)E.point((s=a[d])[0],s[1]);E.lineEnd()}}else 1<e&&2&l&&t.push(t.pop().concat(t.shift())),h.push(t.filter(Rt))}var h,f,w,S=n(E),d=_.invert(e[0],e[1]),y={point:r,lineStart:i,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=u,y.lineEnd=s,h=[],f=[]},polygonEnd:function(){y.point=r,y.lineStart=i,y.lineEnd=l,h=oo.merge(h);var e=Ft(d,f);h.length?(x||(E.polygonStart(),x=!0),zt(h,Pt,e,t,E)):e&&(x||(E.polygonStart(),x=!0),E.lineStart(),t(null,null,1,E),E.lineEnd()),x&&(E.polygonEnd(),x=!1),h=f=null},sphere:function(){E.polygonStart(),E.lineStart(),t(null,null,1,E),E.lineEnd(),E.polygonEnd()}},m=Dt(),k=n(m),x=!1;return y}}function Rt(e){return 1<e.length}function Dt(){var a,l=[];return{lineStart:function(){l.push(a=[])},point:function(n,t){a.push([n,t])},lineEnd:p,buffer:function(){var t=l;return l=[],a=null,t},rejoin:function(){1<l.length&&l.push(l.pop().concat(l.shift()))}}}function Pt(e,a){return(0>(e=e.x)[0]?e[1]-Ho-Ds:Ho-e[1])-(0>(a=a.x)[0]?a[1]-Ho-Ds:Ho-a[1])}function Ut(a,n,t,e){var l,r,s=Math.sin(a-t);return Mo(s)>Ds?Math.atan((Math.sin(n)*(r=Math.cos(e))*Math.sin(t)-Math.sin(e)*(l=Math.cos(n))*Math.sin(a))/(l*r*s)):(n+e)/2}function Ft(C,L){var t=C[0],e=C[1],r=[Math.sin(t),-Math.cos(t),0],i=0,P=0;Zs.reset();for(var z=0,T=L.length;T>z;++z){var l=L[z],c=l.length;if(c)for(var f=l[0],q=f[0],R=f[1]/2+jo/4,p=Math.sin(R),j=Math.cos(R),U=1;;){U===c&&(U=0),C=l[U];var D=C[0],y=C[1]/2+jo/4,m=Math.sin(y),M=Math.cos(y),x=D-q,b=0<=x?1:-1,_=b*x,w=_>jo,S=p*m;if(Zs.add(Math.atan2(S*b*Math.sin(_),j*M+S*Math.cos(_))),i+=w?x+b*Fo:x,w^q>=t^D>=t){var k=yt(vt(f),vt(C));xt(k);var N=yt(r,k);xt(N);var E=(w^0<=x?-1:1)*G(N[2]);(e>E||e===E&&(k[0]||k[1]))&&(P+=w^0<=x?1:-1)}if(!U++)break;q=D,p=m,j=M,f=C}}return(-Ds>i||Ds>i&&-Ds>Zs)^1&P}function Ot(s){function c(e,n){return Math.cos(e)*Math.cos(n)>h}function t(t){var n,a,i,x,_;return{lineStart:function(){x=i=!1,_=1},point:function(e,l){var s,h=[e,l],g=c(e,l),u=f?g?0:r(e,l):g?r(e+(0>e?jo:-jo),l):0;if(!n&&(x=i=g)&&t.lineStart(),g!==i&&(s=m(n,h),(_t(n,s)||_t(h,s))&&(h[0]+=Ds,h[1]+=Ds,g=c(h[0],h[1]))),g!==i)_=0,g?(t.lineStart(),s=m(h,n),t.point(s[0],s[1])):(s=m(n,h),t.point(s[0],s[1]),t.lineEnd()),n=s;else if(o&&n&&f^g){var d;u&a||!(d=m(h,n,!0))||(_=0,f?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1])))}!g||n&&_t(n,h)||t.point(h[0],h[1]),n=h,i=g,a=u},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return _|(x&&i)<<1}}}function m(s,n,t){var e=vt(s),r=vt(n),i=[1,0,0],o=yt(e,r),a=dt(o,o),l=o[0],c=a-l*l;if(!c)return!t&&s;var u=yt(i,o),p=Mt(i,h*a/c),g=Mt(o,-h*l/c);mt(p,g);var f=u,d=dt(p,f),y=dt(f,f),m=d*d-y*(dt(p,p)-1);if(!(0>m)){var v=Math.sqrt(m),x=Mt(f,(-d-v)/y);if(mt(x,p),x=bt(x),!t)return x;var C,L=s[0],M=n[0],P=s[1],T=n[1];L>M&&(C=L,L=M,M=C);var q=M-L,E=Mo(q-jo)<Ds;if(!E&&P>T&&(C=P,P=T,T=C),E||Ds>q?E?0<P+T^x[1]<(Mo(x[0]-L)<Ds?P:T):P<=x[1]&&x[1]<=T:q>jo^(L<=x[0]&&x[0]<=M)){var A=Mt(f,(-d+v)/y);return mt(A,p),[x,bt(A)]}}}function r(n,t){var e=f?s:jo-s,a=0;return-e>n?a|=1:n>e&&(a|=2),-e>t?a|=4:t>e&&(a|=8),a}var h=Math.cos(s),f=0<h,o=Mo(h)>Ds,e=ge(s,6*Io);return Tt(c,t,e,f?[0,-s]:[-jo,s-jo])}function It(d,n,t,e){return function(r){var i,y=r.a,o=r.b,a=y.x,l=y.y,c=o.x,m=o.y,s=0,f=1,x=c-a,g=m-l;if(i=d-a,x||!(0<i)){if(i/=x,0>x){if(s>i)return;f>i&&(f=i)}else if(0<x){if(i>f)return;i>s&&(s=i)}if(i=t-a,x||!(0>i)){if(i/=x,0>x){if(i>f)return;i>s&&(s=i)}else if(0<x){if(s>i)return;f>i&&(f=i)}if(i=n-l,g||!(0<i)){if(i/=g,0>g){if(s>i)return;f>i&&(f=i)}else if(0<g){if(i>f)return;i>s&&(s=i)}if(i=e-l,g||!(0>i)){if(i/=g,0>g){if(i>f)return;i>s&&(s=i)}else if(0<g){if(s>i)return;f>i&&(f=i)}return 0<s&&(r.a={x:a+s*x,y:l+s*g}),1>f&&(r.b={x:a+f*x,y:l+f*g}),r}}}}}}function Yt(L,n,t,P){function d(e,a){return Mo(e[0]-L)<Ds?0<a?0:3:Mo(e[0]-t)<Ds?0<a?2:1:Mo(e[1]-n)<Ds?0<a?1:0:0<a?3:2}function r(a,n){return e(a.x,n.x)}function e(a,n){var t=d(a,1),e=d(n,1);return t===e?0===t?n[1]-a[1]:1===t?a[0]-n[0]:2===t?a[1]-n[1]:n[0]-a[0]:t-e}return function(o){function u(s){for(var n=0,d=f.length,e=s[1],r=0;d>r;++r)for(var g,h=1,p=f[r],a=p.length,l=p[0];a>h;++h)g=p[h],l[1]<=e?g[1]>e&&0<V(l,g,s)&&++n:g[1]<=e&&0>V(l,g,s)&&--n,l=g;return 0!=n}function l(r,o,a,l){var i=0,c=0;if(null==r||(i=d(r,a))!==(c=d(o,a))||0>e(r,o)^0<a)do l.point(0===i||3===i?L:t,1<i?P:n);while((i=(i+a+4)%4)!==c);else l.point(o[0],o[1])}function i(e,a){return e>=L&&t>=e&&a>=n&&P>=a}function c(e,n){i(e,n)&&o.point(e,n)}function s(){A.point=p,f&&f.push(z=[]),O=!0,D=!1,j=U=NaN}function h(){g&&(p(T,q),R&&D&&N.rejoin(),g.push(N.buffer())),A.point=c,D&&o.lineEnd()}function p(a,l){a=Math.max(-Fa,Math.min(Fa,a)),l=Math.max(-Fa,Math.min(Fa,l));var s=i(a,l);if(f&&z.push([a,l]),O)T=a,q=l,R=s,O=!1,s&&(o.lineStart(),o.point(a,l));else if(s&&D)o.point(a,l);else{var e={a:{x:j,y:U},b:{x:a,y:l}};E(e)?(D||(o.lineStart(),o.point(e.a.x,e.a.y)),o.point(e.b.x,e.b.y),s||o.lineEnd(),F=!1):s&&(o.lineStart(),o.point(a,l),F=!1)}j=a,U=l,D=s}var g,f,z,T,q,R,j,U,D,O,F,H=o,N=Dt(),E=It(L,n,t,P),A={point:c,lineStart:s,lineEnd:h,polygonStart:function(){o=N,g=[],f=[],F=!0},polygonEnd:function(){o=H,g=oo.merge(g);var n=u([L,P]),t=F&&n,e=g.length;(t||e)&&(o.polygonStart(),t&&(o.lineStart(),l(null,null,1,o),o.lineEnd()),e&&zt(g,r,n,l,o),o.polygonEnd()),g=f=z=null}};return A}}function Zt(a){var l=0,o=jo/3,s=oe(a),n=s(l,o);return n.parallels=function(e){return arguments.length?s(l=e[0]*jo/180,o=e[1]*jo/180):[180*(l/jo),180*(o/jo)]},n}function Vt(a,n){function t(a,o){var t=Math.sqrt(r-2*l*Math.sin(o))/l;return[t*Math.sin(a*=l),i-t*Math.cos(a)]}var e=Math.sin(a),l=(e+Math.sin(n))/2,r=1+e*(2*l-e),i=Math.sqrt(r)/l;return t.invert=function(a,n){var t=i-n;return[Math.atan2(a,t)/l,G((r-(a*a+t*t)*l*l)/(2*l))]},t}function Xt(){function a(e,n){ld+=d*e-s*n,s=e,d=n}var n,l,s,d;dd.point=function(e,t){dd.point=a,n=s=e,l=d=t},dd.lineEnd=function(){a(n,l)}}function $t(e,n){rd>e&&(rd=e),e>id&&(id=e),od>n&&(od=n),n>sd&&(sd=n)}function Bt(){function l(e,n){i.push("M",e,",",n,r)}function n(e,n){i.push("M",e,",",n),d.point=s}function s(e,n){i.push("L",e,",",n)}function e(){d.point=l}function t(){i.push("Z")}var r=Wt(4.5),i=[],d={point:l,lineStart:function(){d.point=n},lineEnd:e,polygonStart:function(){d.lineEnd=t},polygonEnd:function(){d.lineEnd=e,d.point=l},pointRadius:function(e){return r=Wt(e),d},result:function(){if(i.length){var e=i.join("");return i=[],e}}};return d}function Wt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Jt(e,n){Xs+=e,Ws+=n,++$s}function Gt(){function a(e,t){var n=e-l,a=t-s,r=Math.sqrt(n*n+a*a);Js+=r*(l+e)/2,Ks+=r*(s+t)/2,Qs+=r,Jt(l=e,s=t)}var l,s;Ba.point=function(e,t){Ba.point=a,Jt(l=e,s=t)}}function Kt(){Ba.point=Jt}function Qt(){function a(a,n){var t=a-s,e=n-d,l=Math.sqrt(t*t+e*e);Js+=l*(s+a)/2,Ks+=l*(d+n)/2,Qs+=l,l=d*a-s*n,ed+=l*(s+a),td+=l*(d+n),nd+=3*l,Jt(s=a,d=n)}var n,l,s,d;Ba.point=function(e,t){Ba.point=a,Jt(n=s=e,l=d=t)},Ba.lineEnd=function(){a(n,l)}}function ne(l){function n(n,t){l.moveTo(n+i,t),l.arc(n,t,i,0,Fo)}function t(n,t){l.moveTo(n,t),d.point=s}function s(n,t){l.lineTo(n,t)}function e(){d.point=n}function r(){l.closePath()}var i=4.5,d={point:n,lineStart:function(){d.point=t},lineEnd:e,polygonStart:function(){d.lineEnd=r},polygonEnd:function(){d.lineEnd=e,d.point=n},pointRadius:function(e){return i=e,d},result:p};return d}function te(P){function l(a){return(c?e:t)(a)}function t(n){return ie(n,function(t,a){t=P(t,a),n.point(t[0],t[1])})}function e(a){function t(t,n){t=P(t,n),a.point(t[0],t[1])}function e(){q=NaN,D.point=r,a.lineStart()}function r(t,e){var l=vt([t,e]),r=P(t,e);n(q,R,T,N,j,U,q=r[0],R=r[1],T=t,N=l[0],j=l[1],U=l[2],c,a),a.point(q,R)}function i(){D.point=t,a.lineEnd()}function o(){e(),D.point=l,D.lineEnd=u}function l(e,n){r(f=e,E=n),k=q,C=R,A=N,L=j,z=U,D.point=r}function u(){n(q,R,T,N,j,U,k,C,f,A,L,z,c,a),D.lineEnd=i,i()}var f,E,k,C,A,L,z,T,q,R,N,j,U,D={point:t,lineStart:e,lineEnd:i,polygonStart:function(){a.polygonStart(),D.lineStart=o},polygonEnd:function(){a.polygonEnd(),D.lineStart=e}};return D}function n(o,t,e,r,a,l,c,u,s,h,p,g,f,v){var y=c-o,m=u-t,M=y*y+m*m;if(M>4*i&&f--){var x=r+h,R=a+p,j=l+g,U=Math.sqrt(x*x+R*R+j*j),S=Math.asin(j/=U),k=Mo(Mo(j)-1)<Ds||Mo(e-s)<Ds?(e+s)/2:Math.atan2(R,x),N=P(k,S),E=N[0],A=N[1],C=E-o,z=A-t,L=m*C-y*z;(L*L/M>i||.3<Mo((y*C+m*z)/M-.5)||T>r*h+a*p+l*g)&&(n(o,t,e,r,a,l,E,A,k,x/=U,R/=U,j,f,v),v.point(E,A),n(E,A,k,x,R,j,c,u,s,h,p,g,f,v))}}var i=.5,T=Math.cos(30*Io),c=16;return l.precision=function(e){return arguments.length?(c=0<(i=e*e)&&16,l):Math.sqrt(i)},l}function ee(a){var e=te(function(n,t){return a([n*Yo,t*Yo])});return function(t){return ae(e(t))}}function re(e){this.stream=e}function ie(e,n){return{point:n,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ue(e){return oe(function(){return e})()}function oe(m){function n(e){return e=k(e[0]*Io,e[1]*Io),[e[0]*s+C,A-e[1]*s]}function t(e){return e=k.invert((e[0]-C)/s,(A-e[1])/s),e&&[e[0]*Yo,e[1]*Yo]}function e(){k=At(E=fe(N,j,U),i);var e=i(q,R);return C=z-e[0]*s,A=T+e[1]*s,r()}function r(){return L&&(L.valid=!1,L=null),n}var i,E,k,C,A,L,P=te(function(e,a){return e=i(e,a),[e[0]*s+C,A-e[1]*s]}),s=150,z=480,T=250,q=0,R=0,N=0,j=0,U=0,D=ja,O=qr,F=null,H=null;return n.stream=function(e){return L&&(L.valid=!1),L=ae(D(E,P(O(e)))),L.valid=!0,L},n.clipAngle=function(e){return arguments.length?(D=null==e?(F=e,ja):Ot((F=+e)*Io),r()):F},n.clipExtent=function(e){return arguments.length?(H=e,O=e?Yt(e[0][0],e[0][1],e[1][0],e[1][1]):qr,r()):H},n.scale=function(t){return arguments.length?(s=+t,e()):s},n.translate=function(t){return arguments.length?(z=+t[0],T=+t[1],e()):[z,T]},n.center=function(t){return arguments.length?(q=t[0]%360*Io,R=t[1]%360*Io,e()):[q*Yo,R*Yo]},n.rotate=function(t){return arguments.length?(N=t[0]%360*Io,j=t[1]%360*Io,U=2<t.length?t[2]%360*Io:0,e()):[N*Yo,j*Yo,U*Yo]},oo.rebind(n,P,"precision"),function(){return i=m.apply(this,arguments),n.invert=i.invert&&t,e()}}function ae(a){return ie(a,function(n,t){a.point(n*Io,t*Io)})}function le(e,n){return[e,n]}function ce(e,n){return[e>jo?e-Fo:-jo>e?e+Fo:e,n]}function fe(a,n,t){return a?n||t?At(he(a),pe(n,t)):he(a):n||t?pe(n,t):ce}function se(a){return function(n,l){return n+=a,[n>jo?n-Fo:-jo>n?n+Fo:n,l]}}function he(e){var n=se(e);return n.invert=se(-e),n}function pe(a,n){function t(o,n){var t=Math.cos(n),e=Math.cos(o)*t,a=Math.sin(o)*t,l=Math.sin(n),c=l*s+e*r;return[Math.atan2(a*i-c*d,e*s-l*r),G(c*i+a*d)]}var s=Math.cos(a),r=Math.sin(a),i=Math.cos(n),d=Math.sin(n);return t.invert=function(o,n){var t=Math.cos(n),e=Math.cos(o)*t,a=Math.sin(o)*t,l=Math.sin(n),c=l*i-a*d;return[Math.atan2(a*i+l*d,e*s+c*r),G(c*s-e*r)]},t}function ge(s,n){var t=Math.cos(s),e=Math.sin(s);return function(r,d,g,o){var a=g*n;null==r?(r=s+g*Fo,d=s-.5*a):(r=ve(t,r),d=ve(t,d),(0<g?d>r:r>d)&&(r+=g*Fo));for(var l,h=r;0<g?h>d:d>h;h-=a)o.point((l=bt([t,-e*Math.cos(h),-e*Math.sin(h)]))[0],l[1])}}function ve(a,n){var t=vt(n);t[0]-=a,xt(t);var e=Z(-t[1]);return((0>-t[2]?-e:e)+2*Math.PI-Ds)%(2*Math.PI)}function de(a,n,t){var e=oo.range(a,n-Ds,t).concat(n);return function(a){return e.map(function(e){return[a,e]})}}function ye(a,n,t){var e=oo.range(a,n-Ds,t).concat(n);return function(a){return e.map(function(e){return[e,a]})}}function me(e){return e.source}function Me(e){return e.target}function xe(d,n,t,e){var r=Math.cos(n),y=Math.sin(n),i=Math.cos(e),o=Math.sin(e),a=r*Math.cos(d),l=r*Math.sin(d),c=i*Math.cos(t),u=i*Math.sin(t),s=2*Math.asin(Math.sqrt(J(e-n)+r*i*J(t-d))),h=1/Math.sin(s),p=s?function(d){var g=Math.sin(d*=s)*h,t=Math.sin(s-d)*h,e=t*a+g*c,r=t*l+g*u;return[Math.atan2(r,e)*Yo,Math.atan2(t*y+g*o,Math.sqrt(e*e+r*r))*Yo]}:function(){return[d*Yo,n*Yo]};return p.distance=s,p}function be(a,l){function t(n,t){var e=Math.cos(n),l=Math.cos(t),r=a(e*l);return[r*l*Math.sin(n),r*Math.sin(t)]}return t.invert=function(t,n){var e=Math.sqrt(t*t+n*n),a=l(e),r=Math.sin(a),i=Math.cos(a);return[Math.atan2(t*r,e*i),Math.asin(e&&n*r/e)]},t}function we(a,n){function t(a,n){0<s?-Ho+Ds>n&&(n=-Ho+Ds):n>Ho-Ds&&(n=Ho-Ds);var r=s/Math.pow(l(n),i);return[r*Math.sin(i*a),s-r*Math.cos(i*a)]}var e=Math.cos(a),l=function(e){return Math.tan(jo/4+e/2)},i=a===n?Math.sin(a):Math.log(e/Math.cos(n))/Math.log(l(n)/l(a)),s=e*Math.pow(l(a),i)/i;return i?(t.invert=function(a,n){var t=s-n,e=B(i)*Math.sqrt(a*a+t*t);return[Math.atan2(a,t)/i,2*Math.atan(Math.pow(s/e,1/i))-Ho]},t):ke}function Se(a,n){function t(a,n){var t=r-n;return[t*Math.sin(l*a),r-t*Math.cos(l*a)]}var e=Math.cos(a),l=a===n?Math.sin(a):(e-Math.cos(n))/(n-a),r=e/l+a;return Mo(l)<Ds?le:(t.invert=function(a,n){var t=r-n;return[Math.atan2(a,t)/l,r-B(l)*Math.sqrt(a*a+t*t)]},t)}function ke(e,n){return[e,Math.log(Math.tan(jo/4+n/2))]}function Ne(a){var s,d=ue(a),e=d.scale,r=d.translate,i=d.clipExtent;return d.scale=function(){var t=e.apply(d,arguments);return t===d?s?d.clipExtent(null):d:t},d.translate=function(){var e=r.apply(d,arguments);return e===d?s?d.clipExtent(null):d:e},d.clipExtent=function(t){var n=i.apply(d,arguments);if(!(n===d))s&&(n=null);else if(s=null==t){var c=jo*e(),a=r();i([[a[0]-c,a[1]-c],[a[0]+c,a[1]+c]])}return n},d.clipExtent(null)}function Ee(e,n){return[Math.log(Math.tan(jo/4+n/2)),-e]}function Ae(e){return e[0]}function Ce(e){return e[1]}function ze(a){for(var n=a.length,t=[0,1],e=2,l=2;n>l;l++){for(;1<e&&0>=V(a[t[e-2]],a[t[e-1]],a[l]);)--e;t[e++]=l}return t.slice(0,e)}function Le(e,n){return e[0]-n[0]||e[1]-n[1]}function qe(a,n,t){return(t[0]-n[0])*(a[1]-n[1])<(t[1]-n[1])*(a[0]-n[0])}function Te(d,n,t,e){var r=d[0],i=t[0],g=n[0]-r,o=e[0]-i,a=d[1],l=t[1],c=n[1]-a,p=e[1]-l,s=(o*(a-l)-p*(r-i))/(p*g-o*c);return[r+s*g,a+s*c]}function Re(a){var n=a[0],t=a[a.length-1];return!(n[0]-t[0]||n[1]-t[1])}function De(){Wn(this),this.edge=this.site=this.circle=null}function Pe(e){var n=yd.pop()||new De;return n.site=e,n}function Ue(e){$e(e),hd.remove(e),yd.push(e),Wn(e)}function je(d){var n=d.circle,t=n.x,e=n.cy,r={x:t,y:e},i=d.P,g=d.N,h=[d];Ue(d);for(var a=i;a.circle&&Mo(t-a.circle.x)<Ds&&Mo(e-a.circle.cy)<Ds;)i=a.P,h.unshift(a),Ue(a),a=i;h.unshift(a),$e(a);for(var p=g;p.circle&&Mo(t-p.circle.x)<Ds&&Mo(e-p.circle.cy)<Ds;)g=p.N,h.push(p),Ue(p),p=g;h.push(p),$e(p);var y,m=h.length;for(y=1;m>y;++y)p=h[y],a=h[y-1],Qe(p.edge,a.site,p.site,r);a=h[0],p=h[m-1],p.edge=Ge(a.site,p.site,null,r),Xe(a),Xe(p)}function Fe(_){for(var n,b,E,w,S=_.x,u=_.y,o=hd._;o;)if(E=He(o,u)-S,E>Ds)o=o.L;else{if(w=S-Oe(o,u),!(w>Ds)){E>-Ds?(n=o.P,b=o):w>-Ds?(n=o,b=o.N):n=b=o;break}if(!o.R){n=o;break}o=o.R}var k=Pe(_);if(hd.insert(n,k),n||b){if(n===b)return $e(n),b=Pe(n.site),hd.insert(k,b),k.edge=b.edge=Ge(n.site,k.site),Xe(n),void Xe(b);if(!b)return void(k.edge=Ge(n.site,k.site));$e(n),$e(b);var l=n.site,c=l.x,f=l.y,s=_.x-c,h=_.y-f,p=b.site,g=p.x-c,v=p.y-f,d=2*(s*v-h*g),y=s*s+h*h,m=g*g+v*v,C={x:(v*y-h*m)/d+c,y:(s*m-g*y)/d+f};Qe(b.edge,l,p,C),k.edge=Ge(l,_,null,C),b.edge=Ge(_,p,null,C),Xe(n),Xe(b)}}function He(d,n){var t=d.site,g=t.x,r=t.y,i=r-n;if(!i)return g;var p=d.P;if(!p)return-(1/0);t=p.site;var o=t.x,a=t.y,l=a-n;if(!l)return o;var c=o-g,u=1/i-1/l,s=c/l;return u?(-s+Math.sqrt(s*s-2*u*(c*c/(-2*l)-a+l/2+r-i/2)))/u+g:(g+o)/2}function Oe(a,n){var t=a.N;if(t)return He(t,n);var e=a.site;return e.y===n?e.x:1/0}function Ie(e){this.site=e,this.edges=[]}function Ye(y){for(var n,m,x,_,b,E,w,S,k,C,A=y[0][0],s=y[1][0],h=y[0][1],p=y[1][1],g=gd,v=g.length;v--;)if(b=g[v],b&&b.prepare())for(w=b.edges,S=w.length,E=0;S>E;)C=w[E].end(),x=C.x,_=C.y,k=w[++E%S].start(),n=k.x,m=k.y,(Mo(x-n)>Ds||Mo(_-m)>Ds)&&(w.splice(E,0,new Gn(Ke(b.site,C,Mo(x-A)<Ds&&p-_>Ds?{x:A,y:Mo(n-A)<Ds?m:p}:Mo(_-p)<Ds&&s-x>Ds?{x:Mo(m-p)<Ds?n:s,y:p}:Mo(x-s)<Ds&&_-h>Ds?{x:s,y:Mo(n-s)<Ds?m:h}:Mo(_-h)<Ds&&x-A>Ds?{x:Mo(m-h)<Ds?n:A,y:h}:null),b.site,null)),++S)}function Ze(e,n){return n.angle-e.angle}function Ve(){Wn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(x){var n=x.P,t=x.N;if(n&&t){var e=n.site,r=x.site,i=t.site;if(e!==i){var u=r.x,o=r.y,a=e.x-u,l=e.y-o,c=i.x-u,f=i.y-o,_=2*(a*f-l*c);if(!(_>=-Uo)){var h=a*a+l*l,p=c*c+f*f,g=(f*h-l*p)/_,b=(a*p-c*h)/_,f=b+o,d=cl.pop()||new Ve;d.arc=x,d.site=r,d.x=g+u,d.y=f+Math.sqrt(g*g+b*b),d.cy=f,x.circle=d;for(var y=null,v=ud._;v;)if(d.y<v.y||d.y===v.y&&d.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}ud.insert(y,d),y||(pd=d)}}}}function $e(e){var n=e.circle;n&&(n.P||(pd=n.N),ud.remove(n),cl.push(n),Wn(n),e.circle=null)}function Be(a){for(var n,l=rl,e=It(a[0][0],a[0][1],a[1][0],a[1][1]),r=l.length;r--;)n=l[r],(!We(n,a)||!e(n)||Mo(n.a.x-n.b.x)<Ds&&Mo(n.a.y-n.b.y)<Ds)&&(n.a=n.b=null,l.splice(r,1))}function We(y,n){var t=y.b;if(t)return!0;var m,x,_=y.a,b=n[0][0],o=n[1][0],a=n[0][1],l=n[1][1],c=y.l,f=y.r,s=c.x,h=c.y,p=f.x,g=f.y,v=(s+p)/2;if(g===h){if(b>v||v>=o)return;if(s>p){if(!_)_={x:v,y:a};else if(_.y>=l)return;t={x:v,y:l}}else{if(!_)_={x:v,y:l};else if(_.y<a)return;t={x:v,y:a}}}else if(m=(s-p)/(g-h),x=(h+g)/2-m*v,-1>m||1<m){if(s>p){if(!_)_={x:(a-x)/m,y:a};else if(_.y>=l)return;t={x:(l-x)/m,y:l}}else{if(!_)_={x:(l-x)/m,y:l};else if(_.y<a)return;t={x:(a-x)/m,y:a}}}else if(g>h){if(!_)_={x:b,y:m*b+x};else if(_.x>=o)return;t={x:o,y:m*o+x}}else{if(!_)_={x:o,y:m*o+x};else if(_.x<b)return;t={x:b,y:m*b+x}}return y.a=_,y.b=t,!0}function Je(e,n){this.l=e,this.r=n,this.a=this.b=null}function Ge(a,n,t,e){var l=new Je(a,n);return rl.push(l),t&&Qe(l,a,n,t),e&&Qe(l,n,a,e),gd[a.i].edges.push(new Gn(l,a,n)),gd[n.i].edges.push(new Gn(l,n,a)),l}function Ke(a,n,t){var e=new Je(a,null);return e.a=n,e.b=t,rl.push(e),e}function Qe(a,n,t,e){a.a||a.b?a.l===t?a.b=e:a.a=e:(a.a=e,a.l=n,a.r=t)}function Gn(a,n,t){var e=a.a,l=a.b;this.edge=a,this.site=n,this.angle=t?Math.atan2(t.y-n.y,t.x-n.x):a.l===n?Math.atan2(l.x-e.x,e.y-l.y):Math.atan2(e.x-l.x,l.y-e.y)}function Xn(){this._=null}function Wn(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function $n(a,n){var t=n,e=n.R,l=t.U;l?l.L===t?l.L=e:l.R=e:a._=e,e.U=l,t.U=e,t.R=e.L,t.R&&(t.R.U=t),e.L=t}function Jn(a,n){var t=n,e=n.L,l=t.U;l?l.L===t?l.L=e:l.R=e:a._=e,e.U=l,t.U=e,t.L=e.R,t.L&&(t.L.U=t),e.R=t}function Kn(e){for(;e.L;)e=e.L;return e}function Qn(a,n){var t,l,s,d=a.sort(er).pop();for(rl=[],gd=Array(a.length),hd=new Xn,ud=new Xn;;)if(s=pd,d&&(!s||d.y<s.y||d.y===s.y&&d.x<s.x))d.x===t&&d.y===l||(gd[d.i]=new Ie(d),Fe(d),t=d.x,l=d.y),d=a.pop();else{if(!s)break;je(s.arc)}n&&(Be(n),Ye(n));var c={cells:gd,edges:rl};return hd=ud=rl=gd=null,c}function er(e,n){return n.y-e.y||n.x-e.x}function tr(a,n,t){return(a.x-t.x)*(n.y-a.y)-(a.x-n.x)*(t.y-a.y)}function nr(e){return e.x}function ar(e){return e.y}function lr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function rr(s,n,t,e,r,i){if(!s(n,t,e,r,i)){var d=.5*(t+r),o=.5*(e+i),a=n.nodes;a[0]&&rr(s,a[0],t,e,d,o),a[1]&&rr(s,a[1],d,e,r,o),a[2]&&rr(s,a[2],t,o,d,i),a[3]&&rr(s,a[3],d,o,r,i)}}function or(s,_,t,e,E,w,C){var n,c=1/0;return function a(l,r,o,i,s){if(!(r>w||o>C||e>i||E>s)){if(h=l.point){var h,p=_-l.x,u=t-l.y,d=p*p+u*u;if(c>d){var y=Math.sqrt(c=d);e=_-y,E=t-y,w=_+y,C=t+y,n=h}}for(var m=l.nodes,f=.5*(r+i),x=.5*(o+s),b=(t>=x)<<1|_>=f,v=b+4;v>b;++b)if(l=m[3&b])switch(3&b){case 0:a(l,r,o,f,x);break;case 1:a(l,f,o,i,x);break;case 2:a(l,r,x,f,s);break;case 3:a(l,f,x,i,s);}}}(s,e,E,w,C),n}function ir(l,s){l=oo.rgb(l),s=oo.rgb(s);var d=l.r,e=l.g,r=l.b,i=s.r-d,c=s.g-e,o=s.b-r;return function(t){return"#"+pn(Math.round(d+i*t))+pn(Math.round(e+c*t))+pn(Math.round(r+o*t))}}function sr(a,n){var t,l={},r={};for(t in a)t in n?l[t]=gr(a[t],n[t]):r[t]=a[t];for(t in n)t in a||(r[t]=n[t]);return function(e){for(t in l)r[t]=l[t](e);return r}}function dr(a,l){return a=+a,l=+l,function(t){return a*(1-t)+l*t}}function cr(s,d){var c,g,h,p=sl.lastIndex=hl.lastIndex=0,y=-1,m=[],a=[];for(s+="",d+="";(c=sl.exec(s))&&(g=hl.exec(d));)(h=g.index)>p&&(h=d.slice(p,h),m[y]?m[y]+=h:m[++y]=h),(c=c[0])===(g=g[0])?m[y]?m[y]+=g:m[++y]=g:(m[++y]=null,a.push({i:y,x:dr(c,g)})),p=hl.lastIndex;return p<d.length&&(h=d.slice(p),m[y]?m[y]+=h:m[++y]=h),2>m.length?a[0]?(d=a[0].x,function(e){return d(e)+""}):function(){return d}:(d=a.length,function(t){for(var n,l=0;d>l;++l)m[(n=a[l]).i]=n.x(t);return m.join("")})}function gr(a,n){for(var t,l=oo.interpolators.length;0<=--l&&!(t=oo.interpolators[l](a,n)););return t}function hr(l,n){var t,s=[],r=[],i=l.length,d=n.length,o=Math.min(l.length,n.length);for(t=0;o>t;++t)s.push(gr(l[t],n[t]));for(;i>t;++t)r[t]=l[t];for(;d>t;++t)r[t]=n[t];return function(e){for(t=0;o>t;++t)r[t]=s[t](e);return r}}function pr(e){return function(n){return 0>=n?0:1<=n?1:e(n)}}function ur(e){return function(n){return 1-e(1-n)}}function yr(e){return function(n){return .5*(.5>n?e(2*n):2-e(2-2*n))}}function mr(e){return e*e}function fr(e){return e*e*e}function xr(a){if(0>=a)return 0;if(1<=a)return 1;var n=a*a,t=n*a;return 4*(.5>a?t:3*(a-n)+t-.75)}function _r(e){return 1-Math.cos(e*Ho)}function br(e){return Math.pow(2,10*(e-1))}function vr(e){return 1-Math.sqrt(1-e*e)}function wr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Sr(a,n){return n-=a,function(t){return Math.round(a+n*t)}}function kr(a){var n=[a.a,a.b],t=[a.c,a.d],e=Ar(n),l=Cr(n,t),o=Ar(Mr(t,n,-l))||0;n[0]*t[1]<t[0]*n[1]&&(n[0]*=-1,n[1]*=-1,e*=-1,l*=-1),this.rotate=(e?Math.atan2(n[1],n[0]):Math.atan2(-t[0],t[1]))*Yo,this.translate=[a.e,a.f],this.scale=[e,o],this.skew=o?Math.atan2(l,o)*Yo:0}function Cr(e,n){return e[0]*n[0]+e[1]*n[1]}function Ar(e){var n=Math.sqrt(Cr(e,e));return n&&(e[0]/=n,e[1]/=n),n}function Mr(a,n,t){return a[0]+=t*n[0],a[1]+=t*n[1],a}function zr(e){return e.length?e.pop()+",":""}function Tr(a,n,t,e){if(a[0]!==n[0]||a[1]!==n[1]){var l=t.push("translate(",null,",",null,")");e.push({i:l-4,x:dr(a[0],n[0])},{i:l-2,x:dr(a[1],n[1])})}else(n[0]||n[1])&&t.push("translate("+n+")")}function Rr(a,l,o,e){a===l?l&&o.push(zr(o)+"rotate("+l+")"):(180<a-l?l+=360:180<l-a&&(a+=360),e.push({i:o.push(zr(o)+"rotate(",null,")")-2,x:dr(a,l)}))}function Nr(a,n,t,e){a===n?n&&t.push(zr(t)+"skewX("+n+")"):e.push({i:t.push(zr(t)+"skewX(",null,")")-2,x:dr(a,n)})}function jr(a,n,t,e){if(a[0]!==n[0]||a[1]!==n[1]){var l=t.push(zr(t)+"scale(",null,",",null,")");e.push({i:l-4,x:dr(a[0],n[0])},{i:l-2,x:dr(a[1],n[1])})}else 1===n[0]&&1===n[1]||t.push(zr(t)+"scale("+n+")")}function Ur(a,l){var o=[],e=[];return a=oo.transform(a),l=oo.transform(l),Tr(a.translate,l.translate,o,e),Rr(a.rotate,l.rotate,o,e),Nr(a.skew,l.skew,o,e),jr(a.scale,l.scale,o,e),a=l=null,function(a){for(var n,l=-1,r=e.length;++l<r;)o[(n=e[l]).i]=n.x(a);return o.join("")}}function Dr(a,l){return l=(l-=a=+a)||1/l,function(t){return(t-a)/l}}function Or(a,l){return l=(l-=a=+a)||1/l,function(t){return Math.max(0,Math.min(1,(t-a)/l))}}function Fr(a){for(var n=a.source,l=a.target,o=Ir(n,l),r=[n];n!==o;)n=n.parent,r.push(n);for(var i=r.length;l!==o;)r.splice(i,0,l),l=l.parent;return r}function Hr(a){for(var l=[],t=a.parent;null!=t;)l.push(a),a=t,t=t.parent;return l.push(a),l}function Ir(a,n){if(a===n)return a;for(var t=Hr(a),e=Hr(n),l=t.pop(),r=e.pop(),s=null;l===r;)s=l,l=t.pop(),r=e.pop();return s}function Yr(e){e.fixed|=2}function Br(e){e.fixed&=-7}function Vr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Zr(e){e.fixed&=-5}function Gr(s,n,t){var e=0,d=0;if(s.charge=0,!s.leaf)for(var g,h=s.nodes,o=h.length,a=-1;++a<o;)g=h[a],null!=g&&(Gr(g,n,t),s.charge+=g.charge,e+=g.charge*g.cx,d+=g.charge*g.cy);if(s.point){s.leaf||(s.point.x+=Math.random()-.5,s.point.y+=Math.random()-.5);var p=n*t[s.point.index];s.charge+=s.pointCharge=p,e+=p*s.point.x,d+=p*s.point.y}s.cx=e/s.charge,s.cy=d/s.charge}function Xr(e,n){return oo.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=so,e}function Wr(a,l){for(var t=[a];null!=(a=t.pop());)if(l(a),(o=a.children)&&(e=o.length))for(var e,o;0<=--e;)t.push(o[e])}function $r(a,l){for(var t=[a],e=[];null!=(a=t.pop());)if(e.push(a),(s=a.children)&&(r=s.length))for(var r,s,d=-1;++d<r;)t.push(s[d]);for(;null!=(a=e.pop());)l(a)}function Jr(e){return e.children}function Kr(e){return e.value}function Qr(e,n){return n.value-e.value}function so(e){return oo.merge(e.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}function ho(e){return e.x}function Oo(e){return e.y}function Xo(a,n,t){a.y0=n,a.y=t}function $o(e){return oo.range(e.length)}function ei(a){for(var n=-1,l=a[0].length,e=[];++n<l;)e[n]=0;return e}function ti(a){for(var n,l=1,o=0,s=a[0][1],d=a.length;d>l;++l)(n=a[l][1])>s&&(o=l,s=n);return o}function ni(e){return e.reduce(ai,0)}function ai(e,n){return e+n[1]}function li(e,n){return ri(e,Math.ceil(Math.log(n.length)/Math.LN2+1))}function ri(a,n){for(var t=-1,l=+a[0],r=(a[1]-l)/n,o=[];++t<=n;)o[t]=r*t+l;return o}function oi(e){return[oo.min(e),oo.max(e)]}function ii(e,n){return e.value-n.value}function si(a,n){var t=a._pack_next;a._pack_next=n,n._pack_prev=a,n._pack_next=t,t._pack_prev=n}function di(e,n){e._pack_next=n,n._pack_prev=e}function ci(a,n){var t=n.x-a.x,e=n.y-a.y,l=a.r+n.r;return .999*l*l>t*t+e*e}function gi(x){function n(e){A=Math.min(e.x-e.r,A),L=Math.max(e.x+e.r,L),P=Math.min(e.y-e.r,P),z=Math.max(e.y+e.r,z)}if((t=x.children)&&(C=t.length)){var t,_,b,E,w,S,k,C,A=1/0,L=-(1/0),P=1/0,z=-(1/0);if(t.forEach(hi),_=t[0],_.x=-_.r,_.y=0,n(_),1<C&&(b=t[1],b.x=b.r,b.y=0,n(b),2<C))for(E=t[2],yi(_,b,E),n(E),si(_,E),_._pack_prev=E,si(E,b),b=_._pack_next,w=3;C>w;w++){yi(_,b,E=t[w]);var T=0,q=1,R=1;for(S=b._pack_next;S!==b;S=S._pack_next,q++)if(ci(S,E)){T=1;break}if(1==T)for(k=_._pack_prev;k!==S._pack_prev&&!ci(k,E);k=k._pack_prev,R++);T?(R>q||q==R&&b.r<_.r?di(_,b=S):di(_=k,b),w--):(si(_,E),b=E,n(E))}var N=(A+L)/2,y=(P+z)/2,m=0;for(w=0;C>w;w++)E=t[w],E.x-=N,E.y-=y,m=Math.max(m,E.r+Math.sqrt(E.x*E.x+E.y*E.y));x.r=m,t.forEach(pi)}}function hi(e){e._pack_next=e._pack_prev=e}function pi(e){delete e._pack_next,delete e._pack_prev}function ui(a,n,l,s){var r=a.children;if(a.x=n+=s*a.x,a.y=l+=s*a.y,a.r*=s,r)for(var i=-1,d=r.length;++i<d;)ui(r[i],n,l,s)}function yi(s,n,t){var e=s.r+t.r,d=n.x-s.x,i=n.y-s.y;if(e&&(d||i)){var g=n.r+t.r,h=d*d+i*i;g*=g,e*=e;var a=.5+(e-g)/(2*h),l=Math.sqrt(Math.max(0,2*g*(e+h)-(e-=h)*e-g*g))/(2*h);t.x=s.x+a*d+l*i,t.y=s.y+a*i-l*d}else t.x=s.x+e,t.y=s.y}function mi(e,n){return e.parent==n.parent?1:2}function fi(e){var n=e.children;return n.length?n[0]:e.t}function xi(a){var n,l=a.children;return(n=l.length)?l[n-1]:a.t}function _i(a,n,t){var e=t/(n.i-a.i);n.c-=e,n.s+=t,a.c+=e,n.z+=t,n.m+=t}function bi(a){for(var n,l=0,o=0,s=a.children,i=s.length;0<=--i;)n=s[i],n.z+=l,n.m+=l,l+=n.s+(o+=n.c)}function vi(a,n,t){return a.a.parent===n.parent?a.a:t}function Ei(e){return 1+oo.max(e,function(e){return e.y})}function wi(e){return e.reduce(function(e,n){return e+n.x},0)/e.length}function Si(e){var n=e.children;return n&&n.length?Si(n[0]):e}function ki(a){var n,l=a.children;return l&&(n=l.length)?ki(l[n-1]):a}function Ci(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ai(a,n){var t=a.x+n[3],l=a.y+n[0],o=a.dx-n[1]-n[3],s=a.dy-n[0]-n[2];return 0>o&&(t+=o/2,o=0),0>s&&(l+=s/2,s=0),{x:t,y:l,dx:o,dy:s}}function Li(a){var n=a[0],t=a[a.length-1];return t>n?[n,t]:[t,n]}function Mi(e){return e.rangeExtent?e.rangeExtent():Li(e.range())}function Pi(a,n,t,e){var l=t(a[0],a[1]),r=e(n[0],n[1]);return function(e){return r(l(e))}}function zi(a,n){var t,l=0,s=a.length-1,d=a[l],c=a[s];return d>c&&(t=l,l=s,s=t,t=d,d=c,c=t),a[l]=n.floor(d),a[s]=n.ceil(c),a}function Ti(e){return e?{floor:function(n){return Math.floor(n/e)*e},ceil:function(n){return Math.ceil(n/e)*e}}:wl}function qi(l,s,d,e){var r=[],i=[],c=0,g=Math.min(l.length,s.length)-1;for(l[g]<l[0]&&(l=l.slice().reverse(),s=s.slice().reverse());++c<=g;)r.push(d(l[c-1],l[c])),i.push(e(s[c-1],s[c]));return function(n){var t=oo.bisect(l,n,1,g)-1;return i[t](r[t](n))}}function Ri(s,d,c,g){function l(){var e=2<Math.min(s.length,d.length)?qi:Pi,t=g?Or:Dr;return p=e(s,d,t,c),u=e(d,s,t,gr),h}function h(e){return p(e)}var p,u;return h.invert=function(e){return u(e)},h.domain=function(e){return arguments.length?(s=e.map(Number),l()):s},h.range=function(e){return arguments.length?(d=e,l()):d},h.rangeRound=function(e){return h.range(e).interpolate(Sr)},h.clamp=function(e){return arguments.length?(g=e,l()):g},h.interpolate=function(e){return arguments.length?(c=e,l()):c},h.ticks=function(e){return Di(s,e)},h.tickFormat=function(n,t){return Oi(s,n,t)},h.nice=function(e){return ji(s,e),l()},h.copy=function(){return Ri(s,d,c,g)},l()}function Ni(e,n){return oo.rebind(e,n,"range","rangeRound","interpolate","clamp")}function ji(e,n){return zi(e,Ti(Ui(e,n)[2])),zi(e,Ti(Ui(e,n)[2])),e}function Ui(a,n){null==n&&(n=10);var l=Li(a),e=l[1]-l[0],r=Math.pow(10,Math.floor(Math.log(e/n)/Math.LN10)),o=n/e*r;return .15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),l[0]=Math.ceil(l[0]/r)*r,l[1]=Math.floor(l[1]/r)*r+.5*r,l[2]=r,l}function Di(e,n){return oo.range.apply(oo,Ui(e,n))}function Oi(a,n,t){var l=Ui(a,n);if(t){var r=sa.exec(t);if(r.shift(),"s"===r[8]){var o=oo.formatPrefix(Math.max(Mo(l[0]),Mo(l[1])));return r[7]||(r[7]="."+Fi(o.scale(l[2]))),r[8]="f",t=oo.format(r.join("")),function(e){return t(o.scale(e))+o.symbol}}r[7]||(r[7]="."+Hi(r[8],l)),t=r.join("")}else t=",."+Fi(l[2])+"f";return oo.format(t)}function Fi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Hi(a,n){var t=Fi(n[2]);return a in Sl?Math.abs(t-Fi(Math.max(Mo(n[0]),Mo(n[1]))))+ +("e"!==a):t-2*("%"===a)}function Ii(a,d,g,p){function y(e){return(g?Math.log(0>e?0:e):-Math.log(0<e?0:-e))/Math.log(d)}function l(e){return g?Math.pow(d,e):-Math.pow(d,-e)}function i(e){return a(y(e))}return i.invert=function(e){return l(a.invert(e))},i.domain=function(e){return arguments.length?(g=0<=e[0],a.domain((p=e.map(Number)).map(y)),i):p},i.base=function(t){return arguments.length?(d=+t,a.domain(p.map(y)),i):d},i.nice=function(){var e=zi(p.map(y),g?Math:Nl);return a.domain(e),p=e.map(l),i},i.ticks=function(){var e=Li(p),t=[],n=e[0],a=e[1],r=Math.floor(y(n)),i=Math.ceil(y(a)),u=d%1?2:d;if(isFinite(i-r)){if(g){for(;i>r;r++)for(var s=1;u>s;s++)t.push(l(r)*s);t.push(l(r))}else for(t.push(l(r));r++<i;)for(var s=u-1;0<s;s--)t.push(l(r)*s);for(r=0;t[r]<n;r++);for(i=t.length;t[i-1]>a;i--);t=t.slice(r,i)}return t},i.tickFormat=function(t,a){if(!arguments.length)return kl;2>arguments.length?a=kl:"function"!=typeof a&&(a=oo.format(a));var s=Math.max(1,d*t/i.ticks().length);return function(e){var t=e/l(Math.round(y(e)));return d-.5>t*d&&(t*=d),s>=t?a(e):""}},i.copy=function(){return Ii(a.copy(),d,g,p)},Ni(i,a)}function Yi(a,n,l){function s(e){return a(r(e))}var r=Bi(n),d=Bi(1/n);return s.invert=function(e){return d(a.invert(e))},s.domain=function(e){return arguments.length?(a.domain((l=e.map(Number)).map(r)),s):l},s.ticks=function(e){return Di(l,e)},s.tickFormat=function(e,n){return Oi(l,e,n)},s.nice=function(e){return s.domain(ji(l,e))},s.exponent=function(e){return arguments.length?(r=Bi(n=e),d=Bi(1/n),a.domain(l.map(r)),s):n},s.copy=function(){return Yi(a.copy(),n,l)},Ni(s,a)}function Bi(e){return function(n){return 0>n?-Math.pow(-n,e):Math.pow(n,e)}}function Vi(d,g){function p(t){return r[((l.get(t)||("range"===g.t?l.set(t,d.push(t)):NaN))-1)%r.length]}function e(a,t){return oo.range(d.length).map(function(e){return a+t*e})}var l,r,y;return p.domain=function(e){if(!arguments.length)return d;d=[],l=new Pr;for(var t,n=-1,r=e.length;++n<r;)l.has(t=e[n])||l.set(t,d.push(t));return p[g.t].apply(p,g.a)},p.range=function(e){return arguments.length?(r=e,y=0,g={t:"range",a:arguments},p):r},p.rangePoints=function(t,n){2>arguments.length&&(n=0);var o=t[0],i=t[1],s=2>d.length?(o=(o+i)/2,0):(i-o)/(d.length-1+n);return r=e(o+s*n/2,s),y=0,g={t:"rangePoints",a:arguments},p},p.rangeRoundPoints=function(t,n){2>arguments.length&&(n=0);var o=t[0],i=t[1],s=2>d.length?(o=i=Math.round((o+i)/2),0):0|(i-o)/(d.length-1+n);return r=e(o+Math.round(s*n/2+(i-o-(d.length-1+n)*s)/2),s),y=0,g={t:"rangeRoundPoints",a:arguments},p},p.rangeBands=function(t,n,o){2>arguments.length&&(n=0),3>arguments.length&&(o=n);var i=t[1]<t[0],c=t[i-0],u=t[1-i],s=(u-c)/(d.length-n+2*o);return r=e(c+s*o,s),i&&r.reverse(),y=s*(1-n),g={t:"rangeBands",a:arguments},p},p.rangeRoundBands=function(t,n,o){2>arguments.length&&(n=0),3>arguments.length&&(o=n);var i=t[1]<t[0],c=t[i-0],u=t[1-i],s=Math.floor((u-c)/(d.length-n+2*o));return r=e(c+Math.round((u-c-(d.length-n)*s)/2),s),i&&r.reverse(),y=Math.round(s*(1-n)),g={t:"rangeRoundBands",a:arguments},p},p.rangeBand=function(){return y},p.rangeExtent=function(){return Li(g.a[0])},p.copy=function(){return Vi(d,g)},p.domain(d)}function Zi(l,i){function e(){var t=0,n=i.length;for(o=[];++t<n;)o[t-1]=oo.quantile(l,t/n);return s}function s(e){return isNaN(e=+e)?void 0:i[oo.bisect(o,e)]}var o;return s.domain=function(n){return arguments.length?(l=n.map(Un).filter(r).sort(Ht),e()):l},s.range=function(t){return arguments.length?(i=t,e()):i},s.quantiles=function(){return o},s.invertExtent=function(t){return t=i.indexOf(t),0>t?[NaN,NaN]:[0<t?o[t-1]:l[0],t<o.length?o[t]:l[l.length-1]]},s.copy=function(){return Zi(l,i)},e()}function Gi(a,l,s){function d(e){return s[Math.max(0,Math.min(c,Math.floor(i*(e-a))))]}function r(){return i=s.length/(l-a),c=s.length-1,d}var i,c;return d.domain=function(t){return arguments.length?(a=+t[0],l=+t[t.length-1],r()):[a,l]},d.range=function(e){return arguments.length?(s=e,r()):s},d.invertExtent=function(e){return e=s.indexOf(e),e=0>e?NaN:e/i+a,[e,e+1/i]},d.copy=function(){return Gi(a,l,s)},r()}function Xi(a,l){function r(t){return t>=t?l[oo.bisect(a,t)]:void 0}return r.domain=function(e){return arguments.length?(a=e,r):a},r.range=function(e){return arguments.length?(l=e,r):l},r.invertExtent=function(t){return t=l.indexOf(t),[a[t-1],a[t]]},r.copy=function(){return Xi(a,l)},r}function Wi(a){function l(e){return+e}return l.invert=l,l.domain=l.range=function(t){return arguments.length?(a=t.map(l),l):a},l.ticks=function(e){return Di(a,e)},l.tickFormat=function(n,t){return Oi(a,n,t)},l.copy=function(){return Wi(a)},l}function $i(){return 0}function Ji(e){return e.innerRadius}function Ki(e){return e.outerRadius}function Qi(e){return e.startAngle}function es(e){return e.endAngle}function ts(e){return e&&e.padAngle}function ns(a,n,t,e){return 0<(a-t)*n-(n-e)*a?0:1}function as(L,n,t,e,r){var i=L[0]-n[0],u=L[1]-n[1],o=(r?e:-e)/Math.sqrt(i*i+u*u),a=o*u,l=-o*i,c=L[0]+a,f=L[1]+l,s=n[0]+a,h=n[1]+l,p=(c+s)/2,g=(f+h)/2,v=s-c,d=h-f,y=v*v+d*d,m=t-e,M=c*h-s*f,x=(0>d?-1:1)*Math.sqrt(Math.max(0,m*m*y-M*M)),b=(M*d-v*x)/y,P=(-M*v-d*x)/y,z=(M*d+v*x)/y,S=(-M*v+d*x)/y,k=b-p,T=P-g,E=z-p,A=S-g;return k*k+T*T>E*E+A*A&&(b=z,P=S),[[b-a,P-l],[b*t/m,P*t/m]]}function ls(l){function s(e){function n(){r.push("M",t(l(o),h))}for(var a,r=[],o=[],i=-1,u=e.length,m=_n(d),p=_n(c);++i<u;)y.call(this,a=e[i],i)?o.push([+m.call(this,a,i),+p.call(this,a,i)]):o.length&&(n(),o=[]);return o.length&&n(),r.length?r.join(""):null}var d=Ae,c=Ce,y=Ct,t=rs,g=t.key,h=.7;return s.x=function(e){return arguments.length?(d=e,s):d},s.y=function(e){return arguments.length?(c=e,s):c},s.defined=function(e){return arguments.length?(y=e,s):y},s.interpolate=function(e){return arguments.length?(g="function"==typeof e?t=e:(t=ql.get(e)||rs).key,s):g},s.tension=function(e){return arguments.length?(h=e,s):h},s}function rs(e){return 1<e.length?e.join("L"):e+"Z"}function os(e){return e.join("L")+"Z"}function is(a){for(var n=0,l=a.length,e=a[0],o=[e[0],",",e[1]];++n<l;)o.push("V",(e=a[n])[1],"H",e[0]);return o.join("")}function ss(a){for(var n=0,l=a.length,e=a[0],o=[e[0],",",e[1]];++n<l;)o.push("H",(e=a[n])[0],"V",e[1]);return o.join("")}function ds(s,n){if(1>n.length||s.length!=n.length&&s.length!=n.length+2)return rs(s);var t=s.length!=n.length,e="",d=s[0],g=s[1],h=n[0],o=h,p=1;if(t&&(e+="Q"+(g[0]-2*h[0]/3)+","+(g[1]-2*h[1]/3)+","+g[0]+","+g[1],d=s[1],p=2),1<n.length){o=n[1],g=s[p],p++,e+="C"+(d[0]+h[0])+","+(d[1]+h[1])+","+(g[0]-o[0])+","+(g[1]-o[1])+","+g[0]+","+g[1];for(var y=2;y<n.length;y++,p++)g=s[p],o=n[y],e+="S"+(g[0]-o[0])+","+(g[1]-o[1])+","+g[0]+","+g[1]}if(t){var m=s[p];e+="Q"+(g[0]+2*o[0]/3)+","+(g[1]+2*o[1]/3)+","+m[0]+","+m[1]}return e}function cs(s,n){for(var t,d=[],r=(1-n)/2,i=s[0],c=s[1],g=1,h=s.length;++g<h;)t=i,i=c,c=s[g],d.push([r*(c[0]-t[0]),r*(c[1]-t[1])]);return d}function gs(s){if(3>s.length)return rs(s);var n=1,d=s.length,e=s[0],c=e[0],i=e[1],g=[c,c,c,(e=s[1])[0]],o=[i,i,i,e[1]],a=[c,",",i,"L",hs(Dl,g),",",hs(Dl,o)];for(s.push(s[d-1]);++n<=d;)e=s[n],g.shift(),g.push(e[0]),o.shift(),o.push(e[1]),ps(a,g,o);return s.pop(),a.push("L",e),a.join("")}function hs(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]}function ps(a,n,t){a.push("C",hs(Tl,n),",",hs(Tl,t),",",hs(Rl,n),",",hs(Rl,t),",",hs(Dl,n),",",hs(Dl,t))}function us(e,n){return(n[1]-e[1])/(n[0]-e[0])}function ys(a){for(var n=0,l=a.length-1,e=[],r=a[0],s=a[1],d=e[0]=us(r,s);++n<l;)e[n]=(d+(d=us(r=s,s=a[n+1])))/2;return e[n]=d,e}function ms(s){for(var n,d,c,g,h=[],p=ys(s),o=-1,u=s.length-1;++o<u;)n=us(s[o],s[o+1]),Mo(n)<Ds?p[o]=p[o+1]=0:(d=p[o]/n,c=p[o+1]/n,g=d*d+c*c,9<g&&(g=3*n/Math.sqrt(g),p[o]=g*d,p[o+1]=g*c));for(o=-1;++o<=u;)g=(s[Math.min(u,o+1)][0]-s[Math.max(0,o-1)][0])/(6*(1+p[o]*p[o])),h.push([g||0,p[o]*g||0]);return h}function fs(a){for(var n,l,o,s=-1,d=a.length;++s<d;)n=a[s],l=n[0],o=n[1]-Ho,n[0]=l*Math.cos(o),n[1]=l*Math.sin(o);return a}function xs(g){function d(e){function n(){o.push("M",t(g(s),x),m,p(g(i.reverse()),x),"Z")}for(var a,l,r,o=[],i=[],s=[],c=-1,u=e.length,f=_n(v),A=_n(S),b=v===E?function(){return l}:_n(E),_=S===k?function(){return r}:_n(k);++c<u;)C.call(this,a=e[c],c)?(i.push([l=+f.call(this,a,c),r=+A.call(this,a,c)]),s.push([+b.call(this,a,c),+_.call(this,a,c)])):i.length&&(n(),i=[],s=[]);return i.length&&n(),o.length?o.join(""):null}var v=Ae,E=Ae,S=0,k=Ce,C=Ct,t=rs,h=t.key,p=t,m="L",x=.7;return d.x=function(e){return arguments.length?(v=E=e,d):E},d.x0=function(e){return arguments.length?(v=e,d):v},d.x1=function(e){return arguments.length?(E=e,d):E},d.y=function(e){return arguments.length?(S=k=e,d):k},d.y0=function(e){return arguments.length?(S=e,d):S},d.y1=function(e){return arguments.length?(k=e,d):k},d.defined=function(e){return arguments.length?(C=e,d):C},d.interpolate=function(e){return arguments.length?(h="function"==typeof e?t=e:(t=ql.get(e)||rs).key,p=t.reverse||t,m=t.closed?"M":"L",d):h},d.tension=function(e){return arguments.length?(x=e,d):x},d}function _s(e){return e.radius}function bs(e){return[e.x,e.y]}function vs(a){return function(){var n=a.apply(this,arguments),t=n[0],e=n[1]-Ho;return[t*Math.cos(e),t*Math.sin(e)]}}function Es(){return 64}function ws(){return"circle"}function Ss(e){var n=Math.sqrt(e/jo);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function ks(a){return function(){var n,l,o;(n=this[a])&&(o=n[l=n.active])&&(o.timer.c=null,o.timer.t=NaN,--n.count?delete n[l]:delete this[a],n.active+=.5,o.event&&o.event.interrupt.call(this,this.__data__,o.index))}}function Cs(a,n,t){return So(a,Il),a.namespace=n,a.id=t,a}function As(a,l,t,s){var r=a.id,i=a.namespace;return N(a,"function"==typeof t?function(e,n,o){e[i][r].tween.set(l,s(t.call(e,e.__data__,n,o)))}:(t=s(t),function(e){e[i][r].tween.set(l,t)}))}function Ls(e){return null==e&&(e=""),function(){this.textContent=e}}function Ms(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ps(d,n,t,y,e){function r(e){var n=g.delay;return x.t=n+a,e>=n?c(e-n):void(x.c=c)}function c(t){var e=w.active,l=w[e];for(var r in l&&(l.timer.c=null,l.timer.t=NaN,--w.count,delete w[e],l.event&&l.event.interrupt.call(d,d.__data__,l.index)),w)if(y>+r){var o=w[r];o.timer.c=null,o.timer.t=NaN,--w.count,delete w[r]}x.c=m,Sn(function(){return x.c&&m(t||1)&&(x.c=null,x.t=NaN),1},0,a),w.active=y,g.event&&g.event.start.call(d,d.__data__,n),E=[],g.tween.forEach(function(t,e){(e=e.call(d,d.__data__,n))&&E.push(e)}),b=g.ease,_=g.duration}function m(e){for(var l=e/_,r=b(l),o=E.length;0<o;)E[--o].call(d,r);return 1<=l?(g.event&&g.event.end.call(d,d.__data__,n),--w.count?delete w[y]:delete d[t],1):void 0}var a,x,_,b,E,w=d[t]||(d[t]={active:0,count:0}),g=w[y];g||(a=e.time,x=Sn(r,0,a),g=w[y]={tween:new Pr,time:a,timer:x,delay:e.delay,duration:e.duration,ease:e.ease,index:n},e=null,++w.count)}function zs(a,l,t){a.attr("transform",function(e){var n=l(e);return"translate("+(isFinite(n)?n:t(e))+",0)"})}function no(a,l,t){a.attr("transform",function(e){var n=l(e);return"translate(0,"+(isFinite(n)?n:t(e))+")"})}function to(e){return e.toISOString()}function eo(a,l,t){function s(e){return a(e)}function r(t,n){var e=t[1]-t[0],a=e/n,r=oo.bisect(Gl,a);return r==Gl.length?[l.year,Ui(t.map(function(e){return e/31536e6}),n)[2]]:r?l[a/Gl[r-1]<Gl[r]/a?r-1:r]:[_d,Ui(t,n)[2]]}return s.invert=function(e){return ro(a.invert(e))},s.domain=function(e){return arguments.length?(a.domain(e),s):a.domain().map(ro)},s.nice=function(l,i){function d(t){return!isNaN(t)&&!l.range(t,ro(+t+1),i).length}var e=s.domain(),c=Li(e),o=null==l?r(c,10):"number"==typeof l&&r(c,l);return o&&(l=o[0],i=o[1]),s.domain(zi(e,1<i?{floor:function(e){for(;d(e=l.floor(e));)e=ro(e-1);return e},ceil:function(e){for(;d(e=l.ceil(e));)e=ro(+e+1);return e}}:l))},s.ticks=function(a,l){var o=Li(s.domain()),e=null==a?r(o,10):"number"==typeof a?r(o,a):!a.range&&[{range:a},l];return e&&(a=e[0],l=e[1]),a.range(o[0],ro(+o[1]+1),1>l?1:l)},s.tickFormat=function(){return t},s.copy=function(){return eo(a.copy(),l,t)},Ni(s,a)}function ro(e){return new Date(e)}function io(e){return JSON.parse(e.responseText)}function uo(e){var n=Ts.createRange();return n.selectNode(Ts.body),n.createContextualFragment(e.responseText)}var oo={version:"3.5.17"},ao=[].slice,lo=function(e){return ao.call(e)},Ts=this.document;if(Ts)try{lo(Ts.documentElement.childNodes)[0].nodeType}catch(e){lo=function(a){for(var n=a.length,l=Array(n);n--;)l[n]=a[n];return l}}if(Date.now||(Date.now=function(){return+new Date}),Ts)try{Ts.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var fo=this.Element.prototype,po=fo.setAttribute,go=fo.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;fo.setAttribute=function(e,n){po.call(this,e,n+"")},fo.setAttributeNS=function(a,n,t){go.call(this,a,n,t+"")},vo.setProperty=function(a,n,t){yo.call(this,a,n+"",t)}}oo.ascending=Ht,oo.descending=function(e,n){return e>n?-1:n>e?1:n>=e?0:NaN},oo.min=function(a,n){var t,l,o=-1,s=a.length;if(1===arguments.length){for(;++o<s;)if(null!=(l=a[o])&&l>=l){t=l;break}for(;++o<s;)null!=(l=a[o])&&t>l&&(t=l)}else{for(;++o<s;)if(null!=(l=n.call(a,a[o],o))&&l>=l){t=l;break}for(;++o<s;)null!=(l=n.call(a,a[o],o))&&t>l&&(t=l)}return t},oo.max=function(a,n){var t,l,o=-1,s=a.length;if(1===arguments.length){for(;++o<s;)if(null!=(l=a[o])&&l>=l){t=l;break}for(;++o<s;)null!=(l=a[o])&&l>t&&(t=l)}else{for(;++o<s;)if(null!=(l=n.call(a,a[o],o))&&l>=l){t=l;break}for(;++o<s;)null!=(l=n.call(a,a[o],o))&&l>t&&(t=l)}return t},oo.extent=function(a,n){var t,l,s,d=-1,c=a.length;if(1===arguments.length){for(;++d<c;)if(null!=(l=a[d])&&l>=l){t=s=l;break}for(;++d<c;)null!=(l=a[d])&&(t>l&&(t=l),l>s&&(s=l))}else{for(;++d<c;)if(null!=(l=n.call(a,a[d],d))&&l>=l){t=s=l;break}for(;++d<c;)null!=(l=n.call(a,a[d],d))&&(t>l&&(t=l),l>s&&(s=l))}return[t,s]},oo.sum=function(a,n){var t,l=0,i=a.length,s=-1;if(1===arguments.length)for(;++s<i;)r(t=+a[s])&&(l+=t);else for(;++s<i;)r(t=+n.call(a,a[s],s))&&(l+=t);return l},oo.mean=function(i,n){var t,s=0,d=i.length,o=-1,c=d;if(1===arguments.length)for(;++o<d;)r(t=Un(i[o]))?s+=t:--c;else for(;++o<d;)r(t=Un(n.call(i,i[o],o)))?s+=t:--c;return c?s/c:void 0},oo.quantile=function(a,n){var t=(a.length-1)*n+1,e=Math.floor(t),l=+a[e-1],r=t-e;return r?l+r*(a[e]-l):l},oo.median=function(e,n){var t,i=[],o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)r(t=Un(e[a]))&&i.push(t);else for(;++a<o;)r(t=Un(n.call(e,e[a],a)))&&i.push(t);return i.length?oo.quantile(i.sort(Ht),.5):void 0},oo.variance=function(i,n){var t,s,d=i.length,o=0,g=0,h=-1,p=0;if(1===arguments.length)for(;++h<d;)r(t=Un(i[h]))&&(s=t-o,o+=s/++p,g+=s*(t-o));else for(;++h<d;)r(t=Un(n.call(i,i[h],h)))&&(s=t-o,o+=s/++p,g+=s*(t-o));return 1<p?g/(p-1):void 0},oo.deviation=function(){var e=oo.variance.apply(this,arguments);return e?Math.sqrt(e):e};var mo=e(Ht);oo.bisectLeft=mo.left,oo.bisect=oo.bisectRight=mo.right,oo.bisector=function(a){return e(1===a.length?function(e,t){return Ht(a(e),t)}:a)},oo.shuffle=function(a,n,l){3>(d=arguments.length)&&(l=a.length,2>d&&(n=0));for(var o,s,d=l-n;d;)s=0|Math.random()*d--,o=a[d+n],a[d+n]=a[s+n],a[s+n]=o;return a},oo.permute=function(a,n){for(var t=n.length,l=Array(t);t--;)l[t]=a[n[t]];return l},oo.pairs=function(a){for(var n,l=0,o=a.length-1,r=a[0],s=Array(0>o?0:o);o>l;)s[l]=[n=r,r=a[++l]];return s},oo.transpose=function(l){if(!(r=l.length))return[];for(var n=-1,o=oo.min(l,Er),e=Array(o);++n<o;)for(var r,s=-1,d=e[n]=Array(r);++s<r;)d[s]=l[s][n];return e},oo.zip=function(){return oo.transpose(arguments)},oo.keys=function(a){var n=[];for(var t in a)n.push(t);return n},oo.values=function(a){var n=[];for(var t in a)n.push(a[t]);return n},oo.entries=function(a){var n=[];for(var t in a)n.push({key:t,value:a[t]});return n},oo.merge=function(a){for(var n,l,s,d=a.length,c=-1,g=0;++c<d;)g+=a[c].length;for(l=Array(g);0<=--d;)for(s=a[d],n=s.length;0<=--n;)l[--g]=s[n];return l};var Mo=Math.abs;oo.range=function(a,l,s){if(3>arguments.length&&(s=1,2>arguments.length&&(l=a,a=0)),(l-a)/s==1/0)throw new Error("infinite range");var d,c=[],i=Lr(Mo(s)),g=-1;if(a*=i,l*=i,s*=i,0>s)for(;(d=a+s*++g)>l;)c.push(d/i);else for(;(d=a+s*++g)<l;)c.push(d/i);return c},oo.map=function(a,n){var l=new Pr;if(a instanceof Pr)a.forEach(function(e,n){l.set(e,n)});else if(Array.isArray(a)){var e,t=-1,s=a.length;if(1===arguments.length)for(;++t<s;)l.set(t,a[t]);else for(;++t<s;)l.set(n.call(a,e=a[t],t),e)}else for(var d in a)l.set(d,a[d]);return l};var xo="__proto__",bo="\0";t(Pr,{has:n,get:function(e){return this._[a(e)]},set:function(e,n){return this._[a(e)]=n},remove:o,keys:i,values:function(){var e=[];for(var n in this._)e.push(this._[n]);return e},entries:function(){var e=[];for(var n in this._)e.push({key:l(n),value:this._[n]});return e},size:s,empty:c,forEach:function(e){for(var n in this._)e.call(this,l(n),this._[n])}}),oo.nest=function(){function l(n,e,t){if(t>=x.length)return y?y.call(m,e):c?e.sort(c):e;for(var r,o,i,u,_=-1,b=e.length,g=x[t++],v=new Pr;++_<b;)(u=v.get(r=g(o=e[_])))?u.push(o):v.set(r,[o]);return n?(o=n(),i=function(a,e){o.set(a,l(n,e,t))}):(o={},i=function(a,e){o[a]=l(n,e,t)}),v.forEach(i),o}function a(l,o){if(o>=x.length)return l;var s=[],r=t[o++];return l.forEach(function(e,t){s.push({key:e,values:a(t,o)})}),r?s.sort(function(e,n){return r(e.key,n.key)}):s}var c,y,m={},x=[],t=[];return m.map=function(n,t){return l(t,n,0)},m.entries=function(t){return a(l(oo.map,t,0),0)},m.key=function(e){return x.push(e),m},m.sortKeys=function(e){return t[x.length-1]=e,m},m.sortValues=function(e){return c=e,m},m.rollup=function(e){return y=e,m},m},oo.set=function(a){var n=new d;if(a)for(var t=0,l=a.length;l>t;++t)n.add(a[t]);return n},t(d,{has:n,add:function(e){return this._[a(e+="")]=!0,e},remove:o,values:i,size:s,empty:c,forEach:function(e){for(var n in this._)e.call(this,l(n))}}),oo.behavior={},oo.rebind=function(a,n){for(var t,l=1,o=arguments.length;++l<o;)a[t=arguments[l]]=g(a,n,n[t]);return a};var _o=["webkit","ms","moz","Moz","o","O"];oo.dispatch=function(){for(var a=new u,n=-1,l=arguments.length;++n<l;)a[arguments[n]]=y(a);return a},u.prototype.on=function(a,l){var t=a.indexOf("."),e="";if(0<=t&&(e=a.slice(t+1),a=a.slice(0,t)),a)return 2>arguments.length?this[a].on(e):this[a].on(e,l);if(2===arguments.length){if(null==l)for(a in this)this.hasOwnProperty(a)&&this[a].on(e,null);return this}},oo.event=null,oo.requote=function(e){return e.replace(wo,"\\$&")};var wo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,So={}.__proto__?function(e,n){e.__proto__=n}:function(a,n){for(var t in n)a[t]=n[t]},ko=function(e,n){return n.querySelector(e)},qs=function(e,n){return n.querySelectorAll(e)},Rs=function(a,n){var l=a.matches||a[h(a,"matchesSelector")];return(Rs=function(e,n){return l.call(e,n)})(a,n)};"function"==typeof Sizzle&&(ko=function(e,n){return Sizzle(e,n)[0]||null},qs=Sizzle,Rs=Sizzle.matchesSelector),oo.selection=function(){return oo.select(Ts.documentElement)};var Ns=oo.selection.prototype=[];Ns.select=function(s){var d,g,h,p,y=[];s=b(s);for(var u=-1,m=this.length;++u<m;){y.push(d=[]),d.parentNode=(h=this[u]).parentNode;for(var a=-1,f=h.length;++a<f;)(p=h[a])?(d.push(g=s.call(p,p.__data__,a,u)),g&&"__data__"in p&&(g.__data__=p.__data__)):d.push(null)}return _(y)},Ns.selectAll=function(s){var d,c,g=[];s=E(s);for(var r=-1,h=this.length;++r<h;)for(var p=this[r],o=-1,u=p.length;++o<u;)(c=p[o])&&(g.push(d=lo(s.call(c,c.__data__,o,r))),d.parentNode=c);return _(g)};var Co="http://www.w3.org/1999/xhtml",zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};oo.ns={prefix:zo,qualify:function(a){var l=a.indexOf(":"),t=a;return 0<=l&&"xmlns"!==(t=a.slice(0,l))&&(a=a.slice(l+1)),zo.hasOwnProperty(t)?{space:zo[t],local:a}:a}},Ns.attr=function(a,l){if(2>arguments.length){if("string"==typeof a){var r=this.node();return a=oo.ns.qualify(a),a.local?r.getAttributeNS(a.space,a.local):r.getAttribute(a)}for(l in a)this.each(f(l,a[l]));return this}return this.each(f(a,l))},Ns.classed=function(a,l){if(2>arguments.length){if("string"==typeof a){var o=this.node(),e=(a=k(a)).length,r=-1;if(l=o.classList){for(;++r<e;)if(!l.contains(a[r]))return!1;}else for(l=o.getAttribute("class");++r<e;)if(!w(a[r]).test(l))return!1;return!0}for(l in a)this.each(C(l,a[l]));return this}return this.each(C(a,l))},Ns.style=function(t,n,a){var l=arguments.length;if(3>l){if("string"!=typeof t){for(a in 2>l&&(n=""),t)this.each(L(a,t[a],n));return this}if(2>l){var o=this.node();return jt(o).getComputedStyle(o,null).getPropertyValue(t)}a=""}return this.each(L(t,n,a))},Ns.property=function(e,n){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(n in e)this.each(M(n,e[n]));return this}return this.each(M(e,n))},Ns.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ns.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ns.append=function(e){return e=P(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ns.insert=function(e,a){return e=P(e),a=b(a),this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})},Ns.remove=function(){return this.each(z)},Ns.data=function(s,c){function t(t,n){var e,f,_,b=t.length,o=n.length,s=Math.min(b,o),h=Array(o),p=Array(o),g=Array(b);if(c){var v,E=new Pr,y=Array(b);for(e=-1;++e<b;)(f=t[e])&&(E.has(v=c.call(f,f.__data__,e))?g[e]=f:E.set(v,f),y[e]=v);for(e=-1;++e<o;)(f=E.get(v=c.call(n,_=n[e],e)))?!0!==f&&(h[e]=f,f.__data__=_):p[e]=T(_),E.set(v,!0);for(e=-1;++e<b;)e in y&&!0!==E.get(y[e])&&(g[e]=t[e])}else{for(e=-1;++e<s;)f=t[e],_=n[e],f?(f.__data__=_,h[e]=f):p[e]=T(_);for(;o>e;++e)p[e]=T(n[e]);for(;b>e;++e)g[e]=t[e]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,x.push(p),a.push(h),l.push(g)}var e,d,g=-1,h=this.length;if(!arguments.length){for(s=Array(h=(e=this[0]).length);++g<h;)(d=e[g])&&(s[g]=d.__data__);return s}var x=j([]),a=_([]),l=_([]);if("function"==typeof s)for(;++g<h;)t(e=this[g],s.call(e,e.parentNode.__data__,g));else for(;++g<h;)t(e=this[g],s);return a.enter=function(){return x},a.exit=function(){return l},a},Ns.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ns.filter=function(s){var d,c,g,h=[];"function"!=typeof s&&(s=q(s));for(var i=0,p=this.length;p>i;i++){h.push(d=[]),d.parentNode=(c=this[i]).parentNode;for(var o=0,y=c.length;y>o;o++)(g=c[o])&&s.call(g,g.__data__,o,i)&&d.push(g)}return _(h)},Ns.order=function(){for(var a=-1,l=this.length;++a<l;)for(var t,o=this[a],r=o.length-1,s=o[r];0<=--r;)(t=o[r])&&(s&&s!==t.nextSibling&&s.parentNode.insertBefore(t,s),s=t);return this},Ns.sort=function(a){a=R.apply(this,arguments);for(var l=-1,r=this.length;++l<r;)this[l].sort(a);return this.order()},Ns.each=function(a){return N(this,function(n,t,e){a.call(n,n.__data__,t,e)})},Ns.call=function(e){var n=lo(arguments);return e.apply(n[0]=this,n),this},Ns.empty=function(){return!this.node()},Ns.node=function(){for(var a=0,l=this.length;l>a;a++)for(var t,o=this[a],e=0,s=o.length;s>e;e++)if(t=o[e],t)return t;return null},Ns.size=function(){var e=0;return N(this,function(){++e}),e};var Lo=[];oo.selection.enter=j,oo.selection.enter.prototype=Lo,Lo.append=Ns.append,Lo.empty=Ns.empty,Lo.node=Ns.node,Lo.call=Ns.call,Lo.size=Ns.size,Lo.select=function(s){for(var n,d,g,h,p,y=[],o=-1,m=this.length;++o<m;){g=(h=this[o]).update,y.push(n=[]),n.parentNode=h.parentNode;for(var l=-1,x=h.length;++l<x;)(p=h[l])?(n.push(g[l]=d=s.call(h.parentNode,p.__data__,l,o)),d.__data__=p.__data__):n.push(null)}return _(y)},Lo.insert=function(e,n){return 2>arguments.length&&(n=U(this)),Ns.insert.call(this,e,n)},oo.select=function(n){var t;return"string"==typeof n?(t=[ko(n,Ts)],t.parentNode=Ts.documentElement):(t=[n],t.parentNode=_e(n)),_([t])},oo.selectAll=function(e){var n;return"string"==typeof e?(n=lo(qs(e,Ts)),n.parentNode=Ts.documentElement):(n=lo(e),n.parentNode=null),_([n])},Ns.on=function(a,n,l){var o=arguments.length;if(3>o){if("string"!=typeof a){for(l in 2>o&&(n=!1),a)this.each(D(l,a[l],n));return this}if(2>o)return(o=this.node()["__on"+a])&&o._;l=!1}return this.each(D(a,n,l))};var qo=oo.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ts&&qo.forEach(function(e){"on"+e in Ts&&qo.remove(e)});var To,js=0;oo.mouse=function(e){return I(e,m())};var Us=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;oo.touch=function(a,n,l){if(3>arguments.length&&(l=n,n=m().changedTouches),n)for(var o,s=0,d=n.length;d>s;++s)if((o=n[s]).identifier===l)return I(a,o)},oo.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",n)}function t(i,_,t,e,n){return function(){function o(){var t,a,o=_(s,b);o&&(t=o[0]-m[0],a=o[1]-m[1],p|=t|a,m=o,h({type:"drag",x:o[0]+l[0],y:o[1]+l[1],dx:t,dy:a}))}function a(){_(s,b)&&(d.on(e+v,null).on(n+v,null),y(p),h({type:"dragend"}))}var l,u=this,f=oo.event.target.correspondingElement||oo.event.target,s=u.parentNode,h=x.of(u,arguments),p=0,b=i(),v=".drag"+(null==b?"":"-"+b),d=oo.select(t(f)).on(e+v,o).on(n+v,a),y=H(f),m=_(s,b);r?(l=r.apply(u,arguments),l=[l.x-m[0],l.y-m[1]]):l=[0,0],h({type:"dragstart"})}}var x=S(a,"drag","dragstart","dragend"),r=null,e=t(p,oo.mouse,jt,"mousemove","mouseup"),n=t(Y,oo.touch,qr,"touchmove","touchend");return a.origin=function(e){return arguments.length?(r=e,a):r},oo.rebind(a,x,"on")},oo.touches=function(a,e){return 2>arguments.length&&(e=m().touches),e?lo(e).map(function(n){var t=I(a,n);return t.identifier=n.identifier,t}):[]};var Ds=1e-6,Uo=Ds*Ds,jo=Math.PI,Fo=2*jo,Ho=jo/2,Io=jo/180,Yo=180/jo,Zo=Math.SQRT2;oo.interpolateZoom=function(m,n){var t,x,_=m[0],i=m[1],u=m[2],o=n[0],a=n[1],l=n[2],c=o-_,f=a-i,s=c*c+f*f;if(Uo>s)x=Math.log(l/u)/Zo,t=function(e){return[_+e*c,i+e*f,u*Math.exp(Zo*e*x)]};else{var h=Math.sqrt(s),p=(l*l-u*u+4*s)/(2*u*2*h),g=(l*l-u*u-4*s)/(2*l*2*h),b=Math.log(Math.sqrt(p*p+1)-p),d=Math.log(Math.sqrt(g*g+1)-g);x=(d-b)/Zo,t=function(l){var n=l*x,t=W(b),e=u/(2*h)*(t*$(Zo*n+b)-X(b));return[_+e*c,i+e*f,u*t/W(Zo*n+b)]}}return t.duration=1e3*x,t},oo.behavior.zoom=function(){function P(e){e.on(W,a).on(Os+".zoom",t).on("dblclick.zoom",i).on(T,s)}function N(e){return[(e[0]-B.x)/B.k,(e[1]-B.y)/B.k]}function e(e){return[e[0]*B.k+B.x,e[1]*B.k+B.y]}function j(e){B.k=Math.max(Z[0],Math.min(Z[1],e))}function U(a,n){n=e(n),B.x+=a[0]-n[0],B.y+=a[1]-n[1]}function r(n,a,e,l){n.__chart__={x:B.x,y:B.y,k:B.k},j(Math.pow(2,l)),U(g=a,e),n=oo.select(n),0<G&&(n=n.transition().duration(G)),n.call(P.event)}function o(){f&&f.domain(n.range().map(function(e){return(e-B.x)/B.k}).map(n.invert)),Y&&Y.domain(I.range().map(function(e){return(e-B.y)/B.k}).map(I.invert))}function u(e){X++||e({type:"zoomstart"})}function O(e){o(),e({type:"zoom",scale:B.k,translate:[B.x,B.y]})}function l(e){--X||(e({type:"zoomend"}),g=null)}function a(){function e(){o.on(L,null).on(q,null),s(r),l(n)}var t=this,n=R.of(t,arguments),r=0,o=oo.select(jt(t)).on(L,function(){r=1,U(oo.mouse(t),i),O(n)}).on(q,e),i=N(oo.mouse(t)),s=H(t);fd.call(t),u(n)}function s(){function o(){var e=oo.touches(c);return i=B.k,e.forEach(function(e){e.identifier in h&&(h[e.identifier]=N(e))}),e}function e(){var a=oo.event.target;oo.select(a).on(m,n).on(v,E),b.push(a);for(var t=oo.event.changedTouches,e=0,g=t.length;g>e;++e)h[t[e].identifier]=null;var u=o(),l=Date.now();if(1===u.length){if(500>l-F){var y=u[0];r(c,y,h[y.identifier],Math.floor(Math.log(B.k)/Math.LN2)+1),x()}F=l}else if(1<u.length){var y=u[0],_=u[1],s=y[0]-_[0],w=y[1]-_[1];d=s*s+w*w}}function n(){var p,u,y,m,x=oo.touches(c);fd.call(c);for(var o=0,_=x.length;_>o;++o,m=null)if(y=x[o],m=h[y.identifier]){if(u)break;p=y,u=m}if(m){var l=(l=y[0]-p[0])*l+(l=y[1]-p[1])*l,b=d&&Math.sqrt(l/d);p=[(p[0]+y[0])/2,(p[1]+y[1])/2],u=[(u[0]+m[0])/2,(u[1]+m[1])/2],j(b*i)}F=null,U(p,u),O(g)}function E(){if(oo.event.touches.length){for(var n=oo.event.changedTouches,t=0,d=n.length;d>t;++t)delete h[n[t].identifier];for(var r in h)return void o()}oo.selectAll(b).on(f,null),_.on(W,a).on(T,s),w(),l(g)}var i,c=this,g=R.of(c,arguments),h={},d=0,f=".zoom-"+oo.event.changedTouches[0].identifier,m="touchmove"+f,v="touchend"+f,b=[],_=oo.select(c),w=H(c);e(),u(g),_.on(W,null).on(T,e)}function t(){var e=R.of(this,arguments);p?clearTimeout(p):(fd.call(this),c=N(g=h||oo.mouse(this)),u(e)),p=setTimeout(function(){p=null,l(e)},50),x(),j(Math.pow(2,.002*Vo())*B.k),U(g,c),O(e)}function i(){var e=oo.mouse(this),n=Math.log(B.k)/Math.LN2;r(this,e,N(e),oo.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var c,g,h,p,F,n,f,I,Y,B={x:0,y:0,k:1},V=[960,500],Z=Fs,G=250,X=0,W="mousedown.zoom",L="mousemove.zoom",q="mouseup.zoom",T="touchstart.zoom",R=S(P,"zoomstart","zoom","zoomend");return Os||(Os="onwheel"in Ts?(Vo=function(){return-oo.event.deltaY*(oo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ts?(Vo=function(){return oo.event.wheelDelta},"mousewheel"):(Vo=function(){return-oo.event.detail},"MozMousePixelScroll")),P.event=function(e){e.each(function(){var s=R.of(this,arguments),n=B;Fl?oo.select(this).transition().each("start.zoom",function(){B=this.__chart__||{x:0,y:0,k:1},u(s)}).tween("zoom:zoom",function(){var l=V[0],e=V[1],d=g?g[0]:l/2,i=g?g[1]:e/2,c=oo.interpolateZoom([(d-B.x)/B.k,(i-B.y)/B.k,l/B.k],[(d-n.x)/n.k,(i-n.y)/n.k,l/n.k]);return function(e){var t=c(e),n=l/t[2];this.__chart__=B={x:d-t[0]*n,y:i-t[1]*n,k:n},O(s)}}).each("interrupt.zoom",function(){l(s)}).each("end.zoom",function(){l(s)}):(this.__chart__=B,u(s),O(s),l(s))})},P.translate=function(e){return arguments.length?(B={x:+e[0],y:+e[1],k:B.k},o(),P):[B.x,B.y]},P.scale=function(e){return arguments.length?(B={x:B.x,y:B.y,k:null},j(+e),o(),P):B.k},P.scaleExtent=function(e){return arguments.length?(Z=null==e?Fs:[+e[0],+e[1]],P):Z},P.center=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],P):h},P.size=function(e){return arguments.length?(V=e&&[+e[0],+e[1]],P):V},P.duration=function(e){return arguments.length?(G=+e,P):G},P.x=function(e){return arguments.length?(f=e,n=e.copy(),B={x:0,y:0,k:1},P):f},P.y=function(e){return arguments.length?(Y=e,I=e.copy(),B={x:0,y:0,k:1},P):Y},oo.rebind(P,R,"on")};var Vo,Os,Fs=[0,1/0];oo.color=K,K.prototype.toString=function(){return this.rgb()+""},oo.hsl=Q;var Jo=Q.prototype=new K;Jo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Q(this.h,this.s,this.l/e)},Jo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Q(this.h,this.s,e*this.l)},Jo.rgb=function(){return en(this.h,this.s,this.l)},oo.hcl=tn;var Go=tn.prototype=new K;Go.brighter=function(e){return new tn(this.h,this.c,Math.min(100,this.l+Ko*(arguments.length?e:1)))},Go.darker=function(e){return new tn(this.h,this.c,Math.max(0,this.l-Ko*(arguments.length?e:1)))},Go.rgb=function(){return nn(this.h,this.c,this.l).rgb()},oo.lab=an;var Ko=18,Qo=.95047,na=1,ta=1.08883,ea=an.prototype=new K;ea.brighter=function(e){return new an(Math.min(100,this.l+18*(arguments.length?e:1)),this.a,this.b)},ea.darker=function(e){return new an(Math.max(0,this.l-18*(arguments.length?e:1)),this.a,this.b)},ea.rgb=function(){return ln(this.l,this.a,this.b)},oo.rgb=cn;var ra=cn.prototype=new K;ra.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var l=this.r,o=this.g,i=this.b;return l||o||i?(l&&30>l&&(l=30),o&&30>o&&(o=30),i&&30>i&&(i=30),new cn(Math.min(255,l/a),Math.min(255,o/a),Math.min(255,i/a))):new cn(30,30,30)},ra.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new cn(e*this.r,e*this.g,e*this.b)},ra.hsl=function(){return yn(this.r,this.g,this.b)},ra.toString=function(){return"#"+pn(this.r)+pn(this.g)+pn(this.b)};var ia=oo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ia.forEach(function(e,n){ia.set(e,gn(n))}),oo.functor=_n,oo.xhr=bn(qr),oo.dsv=function(s,c){function g(a,l,n){3>arguments.length&&(n=l,l=null);var i=vn(a,c,null==l?t:r(l),n);return i.row=function(e){return arguments.length?i.response(null==(l=e)?t:r(e)):l},i}function t(e){return g.parse(e.responseText)}function r(e){return function(n){return g.parse(n.responseText,e)}}function e(e){return e.map(h).join(s)}function h(e){return o.test(e)?"\""+e.replace(/\"/g,"\"\"")+"\"":e}var o=new RegExp("[\""+s+"\n]"),i=s.charCodeAt(0);return g.parse=function(e,a){var t;return g.parseRows(e,function(l,n){if(t)return t(l,n-1);var r=new Function("d","return {"+l.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}");t=a?function(t,n){return a(r(t),n)}:r})},g.parseRows=function(l,n){function t(){if(c>=u)return p;if(d)return d=!1,g;var n=c;if(34===l.charCodeAt(n)){for(var t=n;t++<u;)if(34===l.charCodeAt(t)){if(34!==l.charCodeAt(t+1))break;++t}c=t+2;var o=l.charCodeAt(t+1);return 13===o?(d=!0,10===l.charCodeAt(t+2)&&++c):10===o&&(d=!0),l.slice(n+1,t).replace(/""/g,"\"")}for(;u>c;){var o=l.charCodeAt(c++),i=1;if(10===o)d=!0;else if(13===o)d=!0,10===l.charCodeAt(c)&&(++c,++i);else if(o!==i)continue;return l.slice(n,c-i)}return l.slice(n)}for(var e,d,g={},p={},o=[],u=l.length,c=0,a=0;(e=t())!==p;){for(var y=[];e!==g&&e!==p;)y.push(e),e=t();n&&null==(y=n(y,a++))||o.push(y)}return o},g.format=function(e){if(Array.isArray(e[0]))return g.formatRows(e);var a=new d,l=[];return e.forEach(function(e){for(var n in e)a.has(n)||l.push(a.add(n))}),[l.map(h).join(s)].concat(e.map(function(e){return l.map(function(t){return h(e[t])}).join(s)})).join("\n")},g.formatRows=function(t){return t.map(e).join("\n")},g},oo.csv=oo.dsv(",","text/csv"),oo.tsv=oo.dsv("\t","text/tab-separated-values");var ua,Hs,Is,Ys,Bs=this[h(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};oo.timer=function(){Sn.apply(this,arguments)},oo.timer.flush=function(){Cn(),An()},oo.round=function(e,n){return n?Math.round(e*(n=Math.pow(10,n)))/n:Math.round(e)};var fa=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(a,n){var t=Math.pow(10,3*Mo(8-n));return{scale:8<n?function(e){return e/t}:function(e){return e*t},symbol:a}});oo.formatPrefix=function(a,l){var t=0;return(a=+a)&&(0>a&&(a*=-1),l&&(a=oo.round(a,Ln(a,l))),t=1+Math.floor(1e-12+Math.log(a)/Math.LN10),t=Math.max(-24,Math.min(24,3*Math.floor((t-1)/3)))),fa[8+t/3]};var sa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ha=oo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,n){return e.toPrecision(n)},e:function(e,n){return e.toExponential(n)},f:function(e,n){return e.toFixed(n)},r:function(e,a){return(e=oo.round(e,Ln(e,a))).toFixed(Math.max(0,Math.min(20,Ln(e*(1+1e-15),a))))}}),pa=oo.time={},ga=Date;zn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Vs.setUTCDate.apply(this._,arguments)},setDay:function(){Vs.setUTCDay.apply(this._,arguments)},setFullYear:function(){Vs.setUTCFullYear.apply(this._,arguments)},setHours:function(){Vs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Vs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Vs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Vs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Vs.setUTCSeconds.apply(this._,arguments)},setTime:function(){Vs.setTime.apply(this._,arguments)}};var Vs=Date.prototype;pa.year=Tn(function(e){return e=pa.day(e),e.setMonth(0,1),e},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e){return e.getFullYear()}),pa.years=pa.year.range,pa.years.utc=pa.year.utc.range,pa.day=Tn(function(e){var n=new ga(2e3,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n},function(e,n){e.setDate(e.getDate()+n)},function(e){return e.getDate()-1}),pa.days=pa.day.range,pa.days.utc=pa.day.utc.range,pa.dayOfYear=function(e){var n=pa.year(e);return Math.floor((e-n-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,l){l=7-l;var n=pa[a]=Tn(function(e){return(e=pa.day(e)).setDate(e.getDate()-(e.getDay()+l)%7),e},function(e,n){e.setDate(e.getDate()+7*Math.floor(n))},function(t){var n=pa.year(t).getDay();return Math.floor((pa.dayOfYear(t)+(n+l)%7)/7)-(n!==l)});pa[a+"s"]=n.range,pa[a+"s"].utc=n.utc.range,pa[a+"OfYear"]=function(t){var n=pa.year(t).getDay();return Math.floor((pa.dayOfYear(t)+(n+l)%7)/7)}}),pa.week=pa.sunday,pa.weeks=pa.sunday.range,pa.weeks.utc=pa.sunday.utc.range,pa.weekOfYear=pa.sundayOfYear;var da={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,ma=/^%/;oo.locale=function(e){return{numberFormat:Mn(e),timeFormat:Rn(e)}};var Ma=oo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});oo.format=Ma.numberFormat,oo.geo={},ct.prototype={s:0,t:0,add:function(e){ft(e,this.t,xa),ft(xa.s,this.s,this),this.s?this.t+=xa.t:this.s=xa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xa=new ct;oo.geo.stream=function(e,n){e&&ba.hasOwnProperty(e.type)?ba[e.type](e,n):st(e,n)};var ba={Feature:function(e,n){st(e.geometry,n)},FeatureCollection:function(a,n){for(var t=a.features,e=-1,l=t.length;++e<l;)st(t[e].geometry,n)}},_a={Sphere:function(e,n){n.sphere()},Point:function(e,a){e=e.coordinates,a.point(e[0],e[1],e[2])},MultiPoint:function(a,l){for(var t=a.coordinates,e=-1,o=t.length;++e<o;)a=t[e],l.point(a[0],a[1],a[2])},LineString:function(e,n){ht(e.coordinates,n,0)},MultiLineString:function(a,n){for(var t=a.coordinates,e=-1,l=t.length;++e<l;)ht(t[e],n,0)},Polygon:function(e,n){pt(e.coordinates,n)},MultiPolygon:function(a,n){for(var t=a.coordinates,e=-1,l=t.length;++e<l;)pt(t[e],n)},GeometryCollection:function(a,n){for(var t=a.geometries,e=-1,l=t.length;++e<l;)st(t[e],n)}};oo.geo.area=function(e){return wa=0,oo.geo.stream(e,ka),wa};var wa,Zs=new ct,ka={sphere:function(){wa+=4*jo},point:p,lineStart:p,lineEnd:p,polygonStart:function(){Zs.reset(),ka.lineStart=gt},polygonEnd:function(){var e=2*Zs;wa+=0>e?4*jo+e:e,ka.lineStart=ka.lineEnd=ka.point=p}};oo.geo.bounds=function(){function _(e,n){z.push(T=[S=e,C=e]),k>n&&(k=n),n>A&&(A=n)}function E(n,t){var e=vt([n*Io,t*Io]);if(P){var a=yt(P,e),r=[a[1],-a[0],0],i=yt(r,a);xt(i),i=bt(i);var s=n-L,l=0<s?1:-1,c=i[0]*Yo*l,g=180<Mo(s);if(g^(c>l*L&&l*n>c)){var d=i[1]*Yo;d>A&&(A=d)}else if(c=(c+360)%360-180,g^(c>l*L&&l*n>c)){var d=-i[1]*Yo;k>d&&(k=d)}else k>t&&(k=t),t>A&&(A=t);g?L>n?w(S,n)>w(S,C)&&(C=n):w(n,C)>w(S,C)&&(S=n):C>=S?(S>n&&(S=n),n>C&&(C=n)):n>L?w(S,n)>w(S,C)&&(C=n):w(n,C)>w(S,C)&&(S=n)}else _(n,t);P=e,L=n}function t(){q.point=E}function e(){T[0]=S,T[1]=C,q.point=_,P=null}function n(t,n){if(P){var e=t-L;u+=180<Mo(e)?e+(0<e?360:-360):e}else o=t,c=n;ka.point(t,n),E(t,n)}function r(){ka.lineStart()}function i(){n(o,c),ka.lineEnd(),Mo(u)>Ds&&(S=-(C=180)),T[0]=S,T[1]=C,P=null}function w(e,n){return 0>(n-=e)?n+360:n}function a(e,n){return e[0]-n[0]}function l(e,n){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}var S,k,C,A,L,o,c,P,u,z,T,q={point:_,lineStart:t,lineEnd:e,polygonStart:function(){q.point=n,q.lineStart=r,q.lineEnd=i,u=0,ka.polygonStart()},polygonEnd:function(){ka.polygonEnd(),q.point=_,q.lineStart=t,q.lineEnd=e,0>Zs?(S=-(C=180),k=-(A=90)):u>Ds?A=90:-Ds>u&&(k=-90),T[0]=S,T[1]=C}};return function(s){A=C=-(S=k=1/0),z=[],oo.geo.stream(s,q);var n=z.length;if(n){z.sort(a);for(var d,c=1,h=z[0],p=[h];n>c;++c)d=z[c],l(d[0],h)||l(d[1],h)?(w(h[0],d[1])>w(h[0],h[1])&&(h[1]=d[1]),w(d[0],h[1])>w(h[0],h[1])&&(h[0]=d[0])):p.push(h=d);for(var u,d,y=-(1/0),n=p.length-1,c=0,h=p[n];n>=c;h=d,++c)d=p[c],(u=w(h[1],d[0]))>y&&(y=u,S=d[0],C=h[1])}return z=T=null,S===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[S,k],[C,A]]}}(),oo.geo.centroid=function(a){Na=Gs=Xs=Ws=$s=Js=Ks=Qs=ed=td=nd=0,oo.geo.stream(a,ad);var n=ed,l=td,o=nd,s=n*n+l*l+o*o;return Uo>s&&(n=Js,l=Ks,o=Qs,Ds>Gs&&(n=Xs,l=Ws,o=$s),s=n*n+l*l+o*o,Uo>s)?[NaN,NaN]:[Math.atan2(l,n)*Yo,G(o/Math.sqrt(s))*Yo]};var Na,Gs,Xs,Ws,$s,Js,Ks,Qs,ed,td,nd,ad={sphere:p,point:wt,lineStart:kt,lineEnd:Nt,polygonStart:function(){ad.lineStart=Et},polygonEnd:function(){ad.lineStart=kt}},ja=Tt(Ct,function(s){var n,d=NaN,c=NaN,g=NaN;return{lineStart:function(){s.lineStart(),n=1},point:function(e,t){var r=0<e?jo:-jo,a=Mo(e-d);Mo(a-jo)<Ds?(s.point(d,c=0<(c+t)/2?Ho:-Ho),s.point(g,c),s.lineEnd(),s.lineStart(),s.point(r,c),s.point(e,c),n=0):g!==r&&a>=jo&&(Mo(d-g)<Ds&&(d-=g*Ds),Mo(e-r)<Ds&&(e-=r*Ds),c=Ut(d,c,e,t),s.point(g,c),s.lineEnd(),s.lineStart(),s.point(r,c),n=0),s.point(d=e,c=t),g=r},lineEnd:function(){s.lineEnd(),d=c=NaN},clean:function(){return 2-n}}},function(a,n,t,e){var l;if(null==a)l=t*Ho,e.point(-jo,l),e.point(0,l),e.point(jo,l),e.point(jo,0),e.point(jo,-l),e.point(0,-l),e.point(-jo,-l),e.point(-jo,0),e.point(-jo,l);else if(Mo(a[0]-n[0])>Ds){var r=a[0]<n[0]?jo:-jo;l=t*r/2,e.point(-r,l),e.point(0,l),e.point(r,l)}else e.point(n[0],n[1])},[-jo,-jo/2]),Fa=1e9;oo.geo.clipExtent=function(){var l,s,d,c,g,h,p={stream:function(e){return g&&(g.valid=!1),g=h(e),g.valid=!0,g},extent:function(e){return arguments.length?(h=Yt(l=+e[0][0],s=+e[0][1],d=+e[1][0],c=+e[1][1]),g&&(g.valid=!1,g=null),p):[[l,s],[d,c]]}};return p.extent([[0,0],[960,500]])},(oo.geo.conicEqualArea=function(){return Zt(Vt)}).raw=Vt,oo.geo.albers=function(){return oo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},oo.geo.albersUsa=function(){function d(e){var t=e[0],n=e[1];return s=null,g(t,n),s||(h(t,n),s)||p(t,n),s}var s,g,h,p,y=oo.geo.albers(),u=oo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=oo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),n={point:function(t,n){s=[t,n]}};return d.invert=function(a){var n=y.scale(),t=y.translate(),e=(a[0]-t[0])/n,l=(a[1]-t[1])/n;return(.12<=l&&.234>l&&-.425<=e&&-.214>e?u:.166<=l&&.234>l&&-.214<=e&&-.115>e?o:y).invert(a)},d.stream=function(a){var l=y.stream(a),t=u.stream(a),e=o.stream(a);return{point:function(a,n){l.point(a,n),t.point(a,n),e.point(a,n)},sphere:function(){l.sphere(),t.sphere(),e.sphere()},lineStart:function(){l.lineStart(),t.lineStart(),e.lineStart()},lineEnd:function(){l.lineEnd(),t.lineEnd(),e.lineEnd()},polygonStart:function(){l.polygonStart(),t.polygonStart(),e.polygonStart()},polygonEnd:function(){l.polygonEnd(),t.polygonEnd(),e.polygonEnd()}}},d.precision=function(e){return arguments.length?(y.precision(e),u.precision(e),o.precision(e),d):y.precision()},d.scale=function(e){return arguments.length?(y.scale(e),u.scale(.35*e),o.scale(e),d.translate(y.translate())):y.scale()},d.translate=function(e){if(!arguments.length)return y.translate();var t=y.scale(),a=+e[0],l=+e[1];return g=y.translate(e).clipExtent([[a-.455*t,l-.238*t],[a+.455*t,l+.238*t]]).stream(n).point,h=u.translate([a-.307*t,l+.201*t]).clipExtent([[a-.425*t+Ds,l+.12*t+Ds],[a-.214*t-Ds,l+.234*t-Ds]]).stream(n).point,p=o.translate([a-.205*t,l+.212*t]).clipExtent([[a-.214*t+Ds,l+.166*t+Ds],[a-.115*t-Ds,l+.234*t-Ds]]).stream(n).point,d},d.scale(1070)};var Ha,ld,rd,od,id,sd,dd={point:p,lineStart:p,lineEnd:p,polygonStart:function(){ld=0,dd.lineStart=Xt},polygonEnd:function(){dd.lineStart=dd.lineEnd=dd.point=p,Ha+=Mo(ld/2)}},$a={point:$t,lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p},Ba={point:Jt,lineStart:Gt,lineEnd:Kt,polygonStart:function(){Ba.lineStart=Qt},polygonEnd:function(){Ba.point=Jt,Ba.lineStart=Gt,Ba.lineEnd=Kt}};oo.geo.path=function(){function l(e){return e&&("function"==typeof p&&g.pointRadius(+p.apply(this,arguments)),h&&h.valid||(h=c(g)),oo.geo.stream(e,h)),g.result()}function s(){return h=null,l}var t,d,c,g,h,p=4.5;return l.area=function(e){return Ha=0,oo.geo.stream(e,c(dd)),Ha},l.centroid=function(e){return Xs=Ws=$s=Js=Ks=Qs=ed=td=nd=0,oo.geo.stream(e,c(Ba)),nd?[ed/nd,td/nd]:Qs?[Js/Qs,Ks/Qs]:$s?[Xs/$s,Ws/$s]:[NaN,NaN]},l.bounds=function(e){return id=sd=-(rd=od=1/0),oo.geo.stream(e,c($a)),[[rd,od],[id,sd]]},l.projection=function(e){return arguments.length?(c=(t=e)?e.stream||ee(e):qr,s()):t},l.context=function(e){return arguments.length?(g=null==(d=e)?new Bt:new ne(e),"function"!=typeof p&&g.pointRadius(p),s()):d},l.pointRadius=function(e){return arguments.length?(p="function"==typeof e?e:(g.pointRadius(+e),+e),l):p},l.projection(oo.geo.albersUsa()).context(null)},oo.geo.transform=function(t){return{stream:function(n){var a=new re(n);for(var e in t)a[e]=t[e];return a}}},re.prototype={point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},oo.geo.projection=ue,oo.geo.projectionMutator=oe,(oo.geo.equirectangular=function(){return ue(le)}).raw=le.invert=le,oo.geo.rotation=function(e){function a(n){return n=e(n[0]*Io,n[1]*Io),n[0]*=Yo,n[1]*=Yo,n}return e=fe(e[0]%360*Io,e[1]*Io,2<e.length?e[2]*Io:0),a.invert=function(n){return n=e.invert(n[0]*Io,n[1]*Io),n[0]*=Yo,n[1]*=Yo,n},a},ce.invert=le,oo.geo.circle=function(){function a(){var e="function"==typeof o?o.apply(this,arguments):o,a=fe(-e[0]*Io,-e[1]*Io,0).invert,t=[];return l(null,null,1,{point:function(l,r){t.push(l=a(l,r)),l[0]*=Yo,l[1]*=Yo}}),{type:"Polygon",coordinates:[t]}}var n,l,o=[0,0],s=6;return a.origin=function(e){return arguments.length?(o=e,a):o},a.angle=function(e){return arguments.length?(l=ge((n=+e)*Io,s*Io),a):n},a.precision=function(e){return arguments.length?(l=ge(n*Io,(s=+e)*Io),a):s},a.angle(90)},oo.geo.distance=function(d,n){var t,g=(n[0]-d[0])*Io,r=d[1]*Io,i=n[1]*Io,h=Math.sin(g),o=Math.cos(g),a=Math.sin(r),l=Math.cos(r),c=Math.sin(i),p=Math.cos(i);return Math.atan2(Math.sqrt((t=p*h)*t+(t=l*c-a*p*o)*t),a*c+l*p*o)},oo.geo.graticule=function(){function x(){return{type:"MultiLineString",coordinates:n()}}function n(){return oo.range(Math.ceil(w/R)*R,E,R).map(P).concat(oo.range(Math.ceil(A/N)*N,C,N).map(z)).concat(oo.range(Math.ceil(b/T)*T,_,T).filter(function(e){return Mo(e%R)>Ds}).map(L)).concat(oo.range(Math.ceil(k/q)*q,S,q).filter(function(e){return Mo(e%N)>Ds}).map(M))}var _,b,E,w,S,k,C,A,L,M,P,z,T=10,q=T,R=90,N=360,j=2.5;return x.lines=function(){return n().map(function(e){return{type:"LineString",coordinates:e}})},x.outline=function(){return{type:"Polygon",coordinates:[P(w).concat(z(C).slice(1),P(E).reverse().slice(1),z(A).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.majorExtent(e).minorExtent(e):x.minorExtent()},x.majorExtent=function(e){return arguments.length?(w=+e[0][0],E=+e[1][0],A=+e[0][1],C=+e[1][1],w>E&&(e=w,w=E,E=e),A>C&&(e=A,A=C,C=e),x.precision(j)):[[w,A],[E,C]]},x.minorExtent=function(e){return arguments.length?(b=+e[0][0],_=+e[1][0],k=+e[0][1],S=+e[1][1],b>_&&(e=b,b=_,_=e),k>S&&(e=k,k=S,S=e),x.precision(j)):[[b,k],[_,S]]},x.step=function(e){return arguments.length?x.majorStep(e).minorStep(e):x.minorStep()},x.majorStep=function(e){return arguments.length?(R=+e[0],N=+e[1],x):[R,N]},x.minorStep=function(e){return arguments.length?(T=+e[0],q=+e[1],x):[T,q]},x.precision=function(e){return arguments.length?(j=+e,L=de(k,S,90),M=ye(b,_,j),P=de(A,C,90),z=ye(w,E,j),x):j},x.majorExtent([[-180,-90+Ds],[180,90-Ds]]).minorExtent([[-180,-80-Ds],[180,80+Ds]])},oo.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[n||o.apply(this,arguments),l||s.apply(this,arguments)]}}var n,l,o=me,s=Me;return a.distance=function(){return oo.geo.distance(n||o.apply(this,arguments),l||s.apply(this,arguments))},a.source=function(t){return arguments.length?(o=t,n="function"==typeof t?null:t,a):o},a.target=function(e){return arguments.length?(s=e,l="function"==typeof e?null:e,a):s},a.precision=function(){return arguments.length?a:0},a},oo.geo.interpolate=function(e,n){return xe(e[0]*Io,e[1]*Io,n[0]*Io,n[1]*Io)},oo.geo.length=function(e){return Wa=0,oo.geo.stream(e,cd),Wa};var Wa,cd={sphere:p,point:p,lineStart:function(){function a(e,t){var r=Math.sin(t*=Io),g=Math.cos(t),o=Mo((e*=Io)-s),h=Math.cos(o);Wa+=Math.atan2(Math.sqrt((o=g*Math.sin(o))*o+(o=c*r-d*g*h)*o),d*r+c*g*h),s=e,d=r,c=g}var s,d,c;cd.point=function(e,t){s=e*Io,d=Math.sin(t*=Io),c=Math.cos(t),cd.point=a},cd.lineEnd=function(){cd.point=cd.lineEnd=p}},lineEnd:p,polygonStart:p,polygonEnd:p},Ga=be(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(oo.geo.azimuthalEqualArea=function(){return ue(Ga)}).raw=Ga;var Ka=be(function(e){var n=Math.acos(e);return n&&n/Math.sin(n)},qr);(oo.geo.azimuthalEquidistant=function(){return ue(Ka)}).raw=Ka,(oo.geo.conicConformal=function(){return Zt(we)}).raw=we,(oo.geo.conicEquidistant=function(){return Zt(Se)}).raw=Se;var Qa=be(function(e){return 1/e},Math.atan);(oo.geo.gnomonic=function(){return ue(Qa)}).raw=Qa,ke.invert=function(e,n){return[e,2*Math.atan(Math.exp(n))-Ho]},(oo.geo.mercator=function(){return Ne(ke)}).raw=ke;var nl=be(function(){return 1},Math.asin);(oo.geo.orthographic=function(){return ue(nl)}).raw=nl;var tl=be(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(oo.geo.stereographic=function(){return ue(tl)}).raw=tl,Ee.invert=function(e,n){return[-n,2*Math.atan(Math.exp(e))-Ho]},(oo.geo.transverseMercator=function(){var a=Ne(Ee),l=a.center,t=a.rotate;return a.center=function(e){return e?l([-e[1],e[0]]):(e=l(),[e[1],-e[0]])},a.rotate=function(e){return e?t([e[0],e[1],2<e.length?e[2]+90:90]):(e=t(),[e[0],e[1],e[2]-90])},t([0,0,90])}).raw=Ee,oo.geom={},oo.geom.hull=function(a){function l(e){if(3>e.length)return[];var n,r=_n(d),i=_n(g),u=e.length,o=[],a=[];for(n=0;u>n;n++)o.push([+r.call(this,e[n],n),+i.call(this,e[n],n),n]);for(o.sort(Le),n=0;u>n;n++)a.push([o[n][0],-o[n][1]]);var l=ze(o),c=ze(a),y=c[0]===l[0],s=c[c.length-1]===l[l.length-1],h=[];for(n=l.length-1;0<=n;--n)h.push(e[o[l[n]][2]]);for(n=+y;n<c.length-s;++n)h.push(e[o[c[n]][2]]);return h}var d=Ae,g=Ce;return arguments.length?l(a):(l.x=function(e){return arguments.length?(d=e,l):d},l.y=function(e){return arguments.length?(g=e,l):g},l)},oo.geom.polygon=function(e){return So(e,el),e};var el=oo.geom.polygon.prototype=[];el.area=function(){for(var a,l=-1,o=this.length,e=this[o-1],s=0;++l<o;)a=e,e=this[l],s+=a[1]*e[0]-a[0]*e[1];return .5*s},el.centroid=function(l){var s,d,c=-1,g=this.length,i=0,h=0,p=this[g-1];for(arguments.length||(l=-1/(6*this.area()));++c<g;)s=p,p=this[c],d=s[0]*p[1]-p[0]*s[1],i+=(s[0]+p[0])*d,h+=(s[1]+p[1])*d;return[i*l,h*l]},el.clip=function(s){for(var n,d,g,h,p,y,m=Re(s),a=-1,x=this.length-Re(this),c=this[x-1];++a<x;){for(n=s.slice(),s.length=0,h=this[a],p=n[(g=n.length-m)-1],d=-1;++d<g;)y=n[d],qe(y,c,h)?(qe(p,c,h)||s.push(Te(p,y,c,h)),s.push(y)):qe(p,c,h)&&s.push(Te(p,y,c,h)),p=y;m&&s.push(s[0]),c=h}return s};var rl,gd,hd,pd,ud,yd=[],cl=[];Ie.prototype.prepare=function(){for(var a,l=this.edges,t=l.length;t--;)a=l[t].edge,a.b&&a.a||l.splice(t,1);return l.sort(Ze),l.length},Gn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Xn.prototype={insert:function(a,l){var t,o,s;if(a){if(l.P=a,l.N=a.N,a.N&&(a.N.P=l),a.N=l,a.R){for(a=a.R;a.L;)a=a.L;a.L=l}else a.R=l;t=a}else this._?(a=Kn(this._),l.P=null,l.N=a,a.P=a.L=l,t=a):(l.P=l.N=null,this._=l,t=null);for(l.L=l.R=null,l.U=t,l.C=!0,a=l;t&&t.C;)o=t.U,t===o.L?(s=o.R,s&&s.C?(t.C=s.C=!1,o.C=!0,a=o):(a===t.R&&($n(this,t),a=t,t=a.U),t.C=!1,o.C=!0,Jn(this,o))):(s=o.L,s&&s.C?(t.C=s.C=!1,o.C=!0,a=o):(a===t.L&&(Jn(this,t),a=t,t=a.U),t.C=!1,o.C=!0,$n(this,o))),t=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var l,s,d,c=a.U,g=a.L,h=a.R;if(s=g?h?Kn(h):g:h,c?c.L===a?c.L=s:c.R=s:this._=s,g&&h?(d=s.C,s.C=a.C,s.L=g,g.U=s,s===h?(s.U=c,c=s,a=s.R):(c=s.U,s.U=a.U,a=s.R,c.L=a,s.R=h,h.U=s)):(d=a.C,a=s),a&&(a.U=c),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===c.L){if(l=c.R,l.C&&(l.C=!1,c.C=!0,$n(this,c),l=c.R),l.L&&l.L.C||l.R&&l.R.C){l.R&&l.R.C||(l.L.C=!1,l.C=!0,Jn(this,l),l=c.R),l.C=c.C,c.C=l.R.C=!1,$n(this,c),a=this._;break}}else if(l=c.L,l.C&&(l.C=!1,c.C=!0,Jn(this,c),l=c.L),l.L&&l.L.C||l.R&&l.R.C){l.L&&l.L.C||(l.R.C=!1,l.C=!0,$n(this,l),l=c.L),l.C=c.C,c.C=l.L.C=!1,Jn(this,c),a=this._;break}l.C=!0,a=c,c=c.U}while(!a.C);a&&(a.C=!1)}}},oo.geom.voronoi=function(l){function s(s){var n=Array(s.length),t=h[0][0],r=h[0][1],i=h[1][0],g=h[1][1];return Qn(d(s),h).cells.forEach(function(o,e){var a=o.edges,l=o.site,d=n[e]=a.length?a.map(function(e){var n=e.start();return[n.x,n.y]}):l.x>=t&&l.x<=i&&l.y>=r&&l.y<=g?[[t,g],[i,g],[i,r],[t,r]]:[];d.point=s[e]}),n}function d(e){return e.map(function(e,n){return{x:Math.round(c(e,n)/Ds)*Ds,y:Math.round(g(e,n)/Ds)*Ds,i:n}})}var e=Ae,t=Ce,c=e,g=t,h=fl;return l?s(l):(s.links=function(e){return Qn(d(e)).edges.filter(function(e){return e.l&&e.r}).map(function(n){return{source:e[n.l.i],target:e[n.r.i]}})},s.triangles=function(i){var n=[];return Qn(d(i)).cells.forEach(function(t,e){for(var r,d,g=t.site,o=t.edges.sort(Ze),a=-1,h=o.length,c=o[h-1].edge,p=c.l===g?c.r:c.l;++a<h;)r=c,d=p,c=o[a].edge,p=c.l===g?c.r:c.l,e<d.i&&e<p.i&&0>tr(g,d,p)&&n.push([i[e],i[d.i],i[p.i]])}),n},s.x=function(t){return arguments.length?(c=_n(e=t),s):e},s.y=function(e){return arguments.length?(g=_n(t=e),s):t},s.clipExtent=function(e){return arguments.length?(h=null==e?fl:e,s):h===fl?null:h},s.size=function(e){return arguments.length?s.clipExtent(e&&[[0,0],e]):h===fl?null:h&&h[1]},s)};var fl=[[-1e6,-1e6],[1e6,1e6]];oo.geom.delaunay=function(e){return oo.geom.voronoi().triangles(e)},oo.geom.quadtree=function(s,E,C,A,L){function d(e){function q(d,n,t,e,r,i,c,o){if(!isNaN(t)&&!isNaN(e))if(d.leaf){var a=d.x,l=d.y;if(!(null!=a))d.x=t,d.y=e,d.point=n;else if(.01>Mo(a-t)+Mo(l-e))R(d,n,t,e,r,i,c,o);else{var g=d.point;d.x=d.y=d.point=null,R(d,g,a,l,r,i,c,o),R(d,n,t,e,r,i,c,o)}}else R(d,n,t,e,r,i,c,o)}function R(d,g,t,e,r,u,y,m){var x=.5*(r+y),c=.5*(u+m),f=t>=x,s=e>=c,h=s<<1|f;d.leaf=!1,d=d.nodes[h]||(d.nodes[h]=lr()),f?r=x:y=x,s?u=c:m=c,q(d,g,t,e,r,u,y,m)}var t,a,l,r,o,i,c,u,N,j=_n(z),M=_n(T);if(null!=E)i=E,c=C,u=A,N=L;else if(u=N=-(i=c=1/0),a=[],l=[],o=e.length,P)for(r=0;o>r;++r)t=e[r],t.x<i&&(i=t.x),t.y<c&&(c=t.y),t.x>u&&(u=t.x),t.y>N&&(N=t.y),a.push(t.x),l.push(t.y);else for(r=0;o>r;++r){var x=+j(t=e[r],r),b=+M(t,r);i>x&&(i=x),c>b&&(c=b),x>u&&(u=x),b>N&&(N=b),a.push(x),l.push(b)}var _=u-i,w=N-c;_>w?N=c+_:u=i+w;var S=lr();if(S.add=function(e){q(S,e,+j(e,++r),+M(e,r),i,c,u,N)},S.visit=function(e){rr(e,S,i,c,u,N)},S.find=function(e){return or(S,e[0],e[1],i,c,u,N)},r=-1,null==E){for(;++r<o;)q(S,e[r],a[r],l[r],i,c,u,N);--r}else e.forEach(S.add);return a=l=e=t=null,S}var P,z=Ae,T=Ce;return(P=arguments.length)?(z=nr,T=ar,3===P&&(L=C,A=E,C=E=0),d(s)):(d.x=function(e){return arguments.length?(z=e,d):z},d.y=function(e){return arguments.length?(T=e,d):T},d.extent=function(e){return arguments.length?(null==e?E=C=A=L=null:(E=+e[0][0],C=+e[0][1],A=+e[1][0],L=+e[1][1]),d):null==E?null:[[E,C],[A,L]]},d.size=function(e){return arguments.length?(null==e?E=C=A=L=null:(E=C=0,A=+e[0],L=+e[1]),d):null==E?null:[A-E,L-C]},d)},oo.interpolateRgb=ir,oo.interpolateObject=sr,oo.interpolateNumber=dr,oo.interpolateString=cr;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(sl.source,"g");oo.interpolate=gr,oo.interpolators=[function(a,n){var t=typeof n;return("string"==t?ia.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?ir:cr:n instanceof K?ir:Array.isArray(n)?hr:"object"==t&&isNaN(n)?sr:dr)(a,n)}],oo.interpolateArray=hr;var pl=function(){return qr},gl=oo.map({linear:pl,poly:function(e){return function(n){return Math.pow(n,e)}},quad:function(){return mr},cubic:function(){return fr},sin:function(){return _r},exp:function(){return br},circle:function(){return vr},elastic:function(a,l){var o;return 2>arguments.length&&(l=.45),arguments.length?o=l/Fo*Math.asin(1/a):(a=1,o=l/4),function(e){return 1+a*Math.pow(2,-10*e)*Math.sin((e-o)*Fo/l)}},back:function(e){return e||(e=1.70158),function(n){return n*n*((e+1)*n-e)}},bounce:function(){return wr}}),vl=oo.map({in:qr,out:ur,"in-out":yr,"out-in":function(e){return yr(ur(e))}});oo.ease=function(a){var n=a.indexOf("-"),t=0<=n?a.slice(0,n):a,l=0<=n?a.slice(n+1):"in";return t=gl.get(t)||pl,l=vl.get(l)||qr,pr(l(t.apply(null,ao.call(arguments,1))))},oo.interpolateHcl=function(l,s){l=oo.hcl(l),s=oo.hcl(s);var d=l.h,c=l.c,g=l.l,i=s.h-d,h=s.c-c,p=s.l-g;return isNaN(h)&&(h=0,c=isNaN(c)?s.c:c),isNaN(i)?(i=0,d=isNaN(d)?s.h:d):180<i?i-=360:-180>i&&(i+=360),function(e){return nn(d+i*e,c+h*e,g+p*e)+""}},oo.interpolateHsl=function(l,s){l=oo.hsl(l),s=oo.hsl(s);var d=l.h,c=l.s,g=l.l,i=s.h-d,h=s.s-c,p=s.l-g;return isNaN(h)&&(h=0,c=isNaN(c)?s.s:c),isNaN(i)?(i=0,d=isNaN(d)?s.h:d):180<i?i-=360:-180>i&&(i+=360),function(e){return en(d+i*e,c+h*e,g+p*e)+""}},oo.interpolateLab=function(l,s){l=oo.lab(l),s=oo.lab(s);var d=l.l,e=l.a,r=l.b,i=s.l-d,c=s.a-e,o=s.b-r;return function(t){return ln(d+i*t,e+c*t,r+o*t)+""}},oo.interpolateRound=Sr,oo.transform=function(e){var a=Ts.createElementNS(oo.ns.prefix.svg,"g");return(oo.transform=function(t){if(null!=t){a.setAttribute("transform",t);var n=a.transform.baseVal.consolidate()}return new kr(n?n.matrix:dl)})(e)},kr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dl={a:1,b:0,c:0,d:1,e:0,f:0};oo.interpolateTransform=Ur,oo.layout={},oo.layout.bundle=function(){return function(a){for(var n=[],t=-1,l=a.length;++t<l;)n.push(Fr(a[t]));return n}},oo.layout.chord=function(){function s(){var e,a,l,r,o,i={},g=[],u=oo.range(k),d=[];for(t=[],w=[],e=0,r=-1;++r<k;){for(a=0,o=-1;++o<k;)a+=v[r][o];g.push(a),d.push(oo.range(k)),e+=a}for(S&&u.sort(function(e,n){return S(g[e],g[n])}),C&&d.forEach(function(e,a){e.sort(function(t,n){return C(v[a][t],v[a][n])})}),e=(Fo-L*k)/e,a=0,r=-1;++r<k;){for(l=a,o=-1;++o<k;){var y=u[r],m=d[y][o],f=v[y][m],x=a,b=a+=f*e;i[y+"-"+m]={index:y,subindex:m,startAngle:x,endAngle:b,value:f}}w[y]={index:y,startAngle:l,endAngle:a,value:g[y]},a+=L}for(r=-1;++r<k;)for(o=r-1;++o<k;){var _=i[r+"-"+o],M=i[o+"-"+r];(_.value||M.value)&&t.push(_.value<M.value?{source:M,target:_}:{source:_,target:M})}A&&E()}function E(){t.sort(function(e,n){return A((e.source.value+e.target.value)/2,(n.source.value+n.target.value)/2)})}var t,w,v,k,S,C,A,d={},L=0;return d.matrix=function(e){return arguments.length?(k=(v=e)&&v.length,t=w=null,d):v},d.padding=function(e){return arguments.length?(L=e,t=w=null,d):L},d.sortGroups=function(e){return arguments.length?(S=e,t=w=null,d):S},d.sortSubgroups=function(e){return arguments.length?(C=e,t=null,d):C},d.sortChords=function(e){return arguments.length?(A=e,t&&E(),d):A},d.chords=function(){return t||s(),t},d.groups=function(){return w||s(),w},d},oo.layout.force=function(){function m(s){return function(n,t,e,r){if(n.point!==s){var i=n.cx-s.x,d=n.cy-s.y,o=r-t,a=i*i+d*d;if(a>o*o/q){if(z>a){var l=n.charge/a;s.px-=i*l,s.py-=d*l}return!0}if(n.point&&a&&z>a){var l=n.pointCharge/a;s.px-=i*l,s.py-=d*l}}return!n.charge}}function n(e){e.px=oo.event.x,e.py=oo.event.y,w.resume()}var E,t,S,_,k,b,w={},C=oo.dispatch("start","tick","end"),A=[1,1],c=.9,l=yl,L=ml,P=-30,z=Ml,T=.1,q=.64,R=[],N=[];return w.tick=function(){if(.005>(S*=.99))return E=null,C.end({type:"end",alpha:S=0}),!0;var e,n,a,o,i,s,d,g,u,f=R.length,x=N.length;for(n=0;x>n;++n)a=N[n],o=a.source,i=a.target,g=i.x-o.x,u=i.y-o.y,(s=g*g+u*u)&&(s=S*k[n]*((s=Math.sqrt(s))-_[n])/s,g*=s,u*=s,i.x-=g*(d=o.weight+i.weight?o.weight/(o.weight+i.weight):.5),i.y-=u*d,o.x+=g*(d=1-d),o.y+=u*d);if((d=S*T)&&(g=A[0]/2,u=A[1]/2,n=-1,d))for(;++n<f;)a=R[n],a.x+=(g-a.x)*d,a.y+=(u-a.y)*d;if(P)for(Gr(e=oo.geom.quadtree(R),S,b),n=-1;++n<f;)(a=R[n]).fixed||e.visit(m(a));for(n=-1;++n<f;)a=R[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*c,a.y-=(a.py-(a.py=a.y))*c);C.tick({type:"tick",alpha:S})},w.nodes=function(e){return arguments.length?(R=e,w):R},w.links=function(e){return arguments.length?(N=e,w):N},w.size=function(e){return arguments.length?(A=e,w):A},w.linkDistance=function(e){return arguments.length?(l="function"==typeof e?e:+e,w):l},w.distance=w.linkDistance,w.linkStrength=function(e){return arguments.length?(L="function"==typeof e?e:+e,w):L},w.friction=function(e){return arguments.length?(c=+e,w):c},w.charge=function(e){return arguments.length?(P="function"==typeof e?e:+e,w):P},w.chargeDistance=function(e){return arguments.length?(z=e*e,w):Math.sqrt(z)},w.gravity=function(e){return arguments.length?(T=+e,w):T},w.theta=function(e){return arguments.length?(q=e*e,w):Math.sqrt(q)},w.alpha=function(e){return arguments.length?(e=+e,S?0<e?S=e:(E.c=null,E.t=NaN,E=null,C.end({type:"end",alpha:S=0})):0<e&&(C.start({type:"start",alpha:S=e}),E=Sn(w.tick)),w):S},w.start=function(){function a(e,t){if(!g){for(g=Array(o),a=0;o>a;++a)g[a]=[];for(a=0;i>a;++a){var n=N[a];g[n.source.index].push(n.target),g[n.target.index].push(n.source)}}for(var r,s=g[d],a=-1,c=s.length;++a<c;)if(!isNaN(r=s[a][e]))return r;return Math.random()*t}var d,g,n,o=R.length,i=N.length,c=A[0],s=A[1];for(d=0;o>d;++d)(n=R[d]).index=d,n.weight=0;for(d=0;i>d;++d)n=N[d],"number"==typeof n.source&&(n.source=R[n.source]),"number"==typeof n.target&&(n.target=R[n.target]),++n.source.weight,++n.target.weight;for(d=0;o>d;++d)n=R[d],isNaN(n.x)&&(n.x=a("x",c)),isNaN(n.y)&&(n.y=a("y",s)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(_=[],"function"==typeof l)for(d=0;i>d;++d)_[d]=+l.call(this,N[d],d);else for(d=0;i>d;++d)_[d]=l;if(k=[],"function"==typeof L)for(d=0;i>d;++d)k[d]=+L.call(this,N[d],d);else for(d=0;i>d;++d)k[d]=L;if(b=[],"function"==typeof P)for(d=0;o>d;++d)b[d]=+P.call(this,R[d],d);else for(d=0;o>d;++d)b[d]=P;return w.resume()},w.resume=function(){return w.alpha(.1)},w.stop=function(){return w.alpha(0)},w.drag=function(){return t||(t=oo.behavior.drag().origin(qr).on("dragstart.force",Yr).on("drag.force",n).on("dragend.force",Br)),arguments.length?void this.on("mouseover.force",Vr).on("mouseout.force",Zr).call(t):t},oo.rebind(w,C,"on")};var yl=20,ml=1,Ml=1/0;oo.layout.hierarchy=function(){function s(e){var t,r=[e],o=[];for(e.depth=0;null!=(t=r.pop());)if(o.push(t),(g=n.call(s,t,t.depth))&&(i=g.length)){for(var i,g,h;0<=--i;)r.push(h=g[i]),h.parent=t,h.depth=t.depth+1;d&&(t.value=0),t.children=g}else d&&(t.value=+d.call(s,t,t.depth)||0),delete t.children;return $r(e,function(t){var n,l;a&&(n=t.children)&&n.sort(a),d&&(l=t.parent)&&(l.value+=t.value)}),o}var a=Qr,n=Jr,d=Kr;return s.sort=function(t){return arguments.length?(a=t,s):a},s.children=function(e){return arguments.length?(n=e,s):n},s.value=function(e){return arguments.length?(d=e,s):d},s.revalue=function(e){return d&&(Wr(e,function(e){e.children&&(e.value=0)}),$r(e,function(n){var t;n.children||(n.value=+d.call(s,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),e},s},oo.layout.partition=function(){function s(n,t,d,g){var i=n.children;if(n.x=t,n.y=n.depth*g,n.dx=d,n.dy=g,i&&(h=i.length)){var h,p,u,y=-1;for(d=n.value?d/n.value:0;++y<h;)s(p=i[y],t,u=p.value*d,g),t+=u}}function n(t){var a=t.children,e=0;if(a&&(l=a.length))for(var l,o=-1;++o<l;)e=Math.max(e,n(a[o]));return 1+e}function t(t,e){var r=a.call(this,t,e);return s(r[0],0,l[0],l[1]/n(r[0])),r}var a=oo.layout.hierarchy(),l=[1,1];return t.size=function(e){return arguments.length?(l=e,t):l},Xr(t,a)},oo.layout.pie=function(){function a(e){var t,r=e.length,l=e.map(function(t,e){return+n.call(a,t,e)}),o=+("function"==typeof x?x.apply(this,arguments):x),i=("function"==typeof _?_.apply(this,arguments):_)-o,s=Math.min(Math.abs(i)/r,+("function"==typeof b?b.apply(this,arguments):b)),c=s*(0>i?-1:1),h=oo.sum(l),g=h?(i-r*c)/h:0,p=oo.range(r),d=[];return null!=m&&p.sort(m===xl?function(e,n){return l[n]-l[e]}:function(a,n){return m(e[a],e[n])}),p.forEach(function(a){d[a]={data:e[a],value:t=l[a],startAngle:o,endAngle:o+=t*g+c,padAngle:s}}),d}var n=Number,m=xl,x=0,_=Fo,b=0;return a.value=function(t){return arguments.length?(n=t,a):n},a.sort=function(e){return arguments.length?(m=e,a):m},a.startAngle=function(e){return arguments.length?(x=e,a):x},a.endAngle=function(e){return arguments.length?(_=e,a):_},a.padAngle=function(e){return arguments.length?(b=e,a):b},a};var xl={};oo.layout.stack=function(){function m(e,t){if(!(u=e.length))return e;var r=e.map(function(t,e){return n.call(m,t,e)}),o=r.map(function(e){return e.map(function(n,t){return[l.call(m,n,t),s.call(m,n,t)]})}),i=x.call(m,o,t);r=oo.permute(r,i),o=oo.permute(o,i);var u,b,E,w,S=_.call(m,o,t),d=r[0].length;for(E=0;d>E;++E)for(a.call(m,r[0][E],w=S[E],o[0][E][1]),b=1;u>b;++b)a.call(m,r[b][E],w+=o[b-1][E][1],o[b][E][1]);return e}var n=qr,x=$o,_=ei,a=Xo,l=ho,s=Oo;return m.values=function(t){return arguments.length?(n=t,m):n},m.order=function(e){return arguments.length?(x="function"==typeof e?e:bl.get(e)||$o,m):x},m.offset=function(e){return arguments.length?(_="function"==typeof e?e:_l.get(e)||ei,m):_},m.x=function(e){return arguments.length?(l=e,m):l},m.y=function(e){return arguments.length?(s=e,m):s},m.out=function(e){return arguments.length?(a=e,m):a},m};var bl=oo.map({"inside-out":function(s){var n,d,g=s.length,r=s.map(ti),i=s.map(ni),h=oo.range(g).sort(function(e,n){return r[e]-r[n]}),o=0,p=0,u=[],c=[];for(n=0;g>n;++n)d=h[n],p>o?(o+=i[d],u.push(d)):(p+=i[d],c.push(d));return c.reverse().concat(u)},reverse:function(e){return oo.range(e.length).reverse()},default:$o}),_l=oo.map({silhouette:function(s){var n,d,c,g=s.length,i=s[0].length,h=[],o=0,p=[];for(d=0;i>d;++d){for(n=0,c=0;g>n;n++)c+=s[n][d][1];c>o&&(o=c),h.push(c)}for(d=0;i>d;++d)p[d]=(o-h[d])/2;return p},wiggle:function(d){var n,g,y,m,x,_,b,v,E,w=d.length,f=d[0],s=f.length,h=[];for(h[0]=v=E=0,g=1;s>g;++g){for(n=0,m=0;w>n;++n)m+=d[n][g][1];for(n=0,x=0,b=f[g][0]-f[g-1][0];w>n;++n){for(y=0,_=(d[n][g][1]-d[n][g-1][1])/(2*b);n>y;++y)_+=(d[y][g][1]-d[y][g-1][1])/b;x+=_*d[n][g][1]}h[g]=v-=m?x/m*b:0,E>v&&(E=v)}for(g=0;s>g;++g)h[g]-=E;return h},expand:function(l){var n,o,s,d=l.length,i=l[0].length,c=[];for(o=0;i>o;++o){for(n=0,s=0;d>n;n++)s+=l[n][o][1];if(s)for(n=0;d>n;n++)l[n][o][1]/=s;else for(n=0;d>n;n++)l[n][o][1]=1/d}for(o=0;i>o;++o)c[o]=0;return c},zero:ei});oo.layout.histogram=function(){function a(e,t){for(var n,r,i=[],l=e.map(g,this),c=y.call(this,l,t),f=m.call(this,c,l,t),t=-1,s=l.length,h=f.length-1,p=d?1:1/s;++t<h;)n=i[t]=[],n.dx=f[t+1]-(n.x=f[t]),n.y=0;if(0<h)for(t=-1;++t<s;)r=l[t],r>=c[0]&&r<=c[1]&&(n=i[oo.bisect(f,r,1,h)-1],n.y+=p,n.push(e[t]));return i}var d=!0,g=Number,y=oi,m=li;return a.value=function(e){return arguments.length?(g=e,a):g},a.range=function(e){return arguments.length?(y=_n(e),a):y},a.bins=function(e){return arguments.length?(m="number"==typeof e?function(t){return ri(t,e)}:_n(e),a):m},a.frequency=function(t){return arguments.length?(d=!!t,a):d},a},oo.layout.pack=function(){function a(t,n){var r=g.call(this,t,n),o=r[0],a=h[0],l=h[1],i=null==d?Math.sqrt:"function"==typeof d?d:function(){return d};if(o.x=o.y=0,$r(o,function(e){e.r=+i(e.value)}),$r(o,gi),e){var c=e*(d?1:Math.max(2*o.r/a,2*o.r/l))/2;$r(o,function(e){e.r+=c}),$r(o,gi),$r(o,function(e){e.r-=c})}return ui(o,a/2,l/2,d?1:1/Math.max(2*o.r/a,2*o.r/l)),r}var d,g=oo.layout.hierarchy().sort(ii),e=0,h=[1,1];return a.size=function(e){return arguments.length?(h=e,a):h},a.radius=function(t){return arguments.length?(d=null==t||"function"==typeof t?t:+t,a):d},a.padding=function(n){return arguments.length?(e=+n,a):e},Xr(a,g)},oo.layout.tree=function(){function s(a,n){var l=u.call(this,a,n),i=l[0],s=x(i);if($r(s,t),s.parent.m=-s.z,Wr(s,e),_)Wr(i,r);else{var c=i,f=i,b=i;Wr(i,function(e){e.x<c.x&&(c=e),e.x>f.x&&(f=e),e.depth>b.depth&&(b=e)});var E=h(c,f)/2-c.x,d=o[0]/(f.x+h(f,c)/2+E),y=o[1]/(b.depth||1);Wr(i,function(e){e.x=(e.x+E)*d,e.y=e.depth*y})}return l}function x(l){for(var n,s={A:null,children:[l]},e=[s];null!=(n=e.pop());)for(var r,d=n.children,c=0,g=d.length;g>c;++c)e.push((d[c]=r={_:d[c],parent:n,children:(r=d[c].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:c}).a=r);return s.children[0]}function t(a){var n=a.children,t=a.parent.children,e=a.i?t[a.i-1]:null;if(n.length){bi(a);var l=(n[0].z+n[n.length-1].z)/2;e?(a.z=e.z+h(a._,e._),a.m=a.z-l):a.z=l}else e&&(a.z=e.z+h(a._,e._));a.parent.A=d(a,e,a.parent.A||t[0])}function e(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function d(a,n,t){if(n){for(var d,g=a,p=a,y=n,m=g.parent.children[0],x=g.m,_=p.m,b=y.m,v=m.m;y=xi(y),g=fi(g),y&&g;)m=fi(m),p=xi(p),p.a=a,d=y.z+b-g.z-x+h(y._,g._),0<d&&(_i(vi(y,a,t),a,d),x+=d,_+=d),b+=y.m,x+=g.m,v+=m.m,_+=p.m;y&&!xi(p)&&(p.t=y,p.m+=b-_),g&&!fi(m)&&(m.t=g,m.m+=x-v,t=a)}return t}function r(e){e.x*=o[0],e.y=e.depth*o[1]}var u=oo.layout.hierarchy().sort(null).value(null),h=mi,o=[1,1],_=null;return s.separation=function(e){return arguments.length?(h=e,s):h},s.size=function(e){return arguments.length?(_=null==(o=e)?r:null,s):_?null:o},s.nodeSize=function(e){return arguments.length?(_=null==(o=e)?null:r,s):_?o:null},Xr(s,u)},oo.layout.cluster=function(){function a(e,t){var r,n=d.call(this,e,t),a=n[0],l=0;$r(a,function(e){var n=e.children;n&&n.length?(e.x=wi(n),e.y=Ei(n)):(e.x=r?l+=g(e,r):0,e.y=0,r=e)});var i=Si(a),u=ki(a),s=i.x-g(i,u)/2,h=u.x+g(u,i)/2;return $r(a,y?function(e){e.x=(e.x-a.x)*o[0],e.y=(a.y-e.y)*o[1]}:function(e){e.x=(e.x-s)/(h-s)*o[0],e.y=(1-(a.y?e.y/a.y:1))*o[1]}),n}var d=oo.layout.hierarchy().sort(null).value(null),g=mi,o=[1,1],y=!1;return a.separation=function(e){return arguments.length?(g=e,a):g},a.size=function(e){return arguments.length?(y=null==(o=e),a):y?null:o},a.nodeSize=function(e){return arguments.length?(y=null!=(o=e),a):y?o:null},Xr(a,d)},oo.layout.treemap=function(){function d(a,n){for(var t,l,o=-1,s=a.length;++o<s;)l=(t=a[o]).value*(0>n?0:n),t.area=isNaN(l)||0>=l?0:l}function n(i){var e=i.children;if(e&&e.length){var s,p,u,y=_(i),c=[],m=e.slice(),h=1/0,f="slice"===E?y.dx:"dice"===E?y.dy:"slice-dice"===E?1&i.depth?y.dy:y.dx:Math.min(y.dx,y.dy);for(d(m,y.dx*y.dy/i.value),c.area=0;0<(u=m.length);)c.push(s=m[u-1]),c.area+=s.area,"squarify"!==E||(p=t(c,f))<=h?(m.pop(),h=p):(c.area-=c.pop().area,r(c,f,y,!1),f=Math.min(y.dx,y.dy),c.length=c.area=0,h=1/0);c.length&&(r(c,f,y,!0),c.length=c.area=0),e.forEach(n)}}function y(e){var t=e.children;if(t&&t.length){var n,i=_(e),o=t.slice(),a=[];for(d(o,i.dx*i.dy/e.value),a.area=0;n=o.pop();)a.push(n),a.area+=n.area,null!=n.z&&(r(a,n.z?i.dx:i.dy,i,!o.length),a.length=a.area=0);t.forEach(y)}}function t(l,n){for(var s,d=l.area,c=0,g=1/0,h=-1,p=l.length;++h<p;)(s=l[h].area)&&(g>s&&(g=s),s>c&&(c=s));return d*=d,n*=n,d?Math.max(n*c*v/d,d/(n*g*v)):1/0}function r(l,n,t,e){var r,s=-1,d=l.length,o=t.x,g=t.y,h=n?x(l.area/n):0;if(n==t.dx){for((e||h>t.dy)&&(h=t.dy);++s<d;)r=l[s],r.x=o,r.y=g,r.dy=h,o+=r.dx=Math.min(t.x+t.dx-o,h?x(r.area/h):0);r.z=!0,r.dx+=t.x+t.dx-o,t.y+=h,t.dy-=h}else{for((e||h>t.dx)&&(h=t.dx);++s<d;)r=l[s],r.x=o,r.y=g,r.dx=h,g+=r.dy=Math.min(t.y+t.dy-g,h?x(r.area/h):0);r.z=!1,r.dy+=t.y+t.dy-g,t.x+=h,t.dx-=h}}function i(t){var l=e||m(t),r=l[0];return r.x=r.y=0,r.value?(r.dx=a[0],r.dy=a[1]):r.dx=r.dy=0,e&&m.revalue(r),d([r],r.dx*r.dy/r.value),(e?y:n)(r),b&&(e=l),l}var e,m=oo.layout.hierarchy(),x=Math.round,a=[1,1],u=null,_=Ci,b=!1,E="squarify",v=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(a=e,i):a},i.padding=function(a){function l(n){var t=a.call(i,n,n.depth);return null==t?Ci(n):Ai(n,"number"==typeof t?[t,t,t,t]:t)}function t(e){return Ai(e,a)}if(!arguments.length)return u;var e;return _=null==(u=a)?Ci:"function"==(e=typeof a)?l:"number"===e?(a=[a,a,a,a],t):t,i},i.round=function(e){return arguments.length?(x=e?Math.round:Number,i):x!=Number},i.sticky=function(t){return arguments.length?(b=t,e=null,i):b},i.ratio=function(e){return arguments.length?(v=e,i):v},i.mode=function(e){return arguments.length?(E=e+"",i):E},Xr(i,m)},oo.random={normal:function(a,l){var r=arguments.length;return 2>r&&(l=1),1>r&&(a=0),function(){var t,n,o;do t=2*Math.random()-1,n=2*Math.random()-1,o=t*t+n*n;while(!o||1<o);return a+l*t*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var e=oo.random.normal.apply(oo,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=oo.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(t){return function(){for(var n=0,a=0;t>a;a++)n+=Math.random();return n}}},oo.scale={};var wl={floor:qr,ceil:qr};oo.scale.linear=function(){return Ri([0,1],[0,1],gr,!1)};var Sl={s:1,g:1,p:1,r:1,e:1};oo.scale.log=function(){return Ii(oo.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=oo.format(".0e"),Nl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};oo.scale.pow=function(){return Yi(oo.scale.linear(),1,[0,1])},oo.scale.sqrt=function(){return oo.scale.pow().exponent(.5)},oo.scale.ordinal=function(){return Vi([],{t:"range",a:[[]]})},oo.scale.category10=function(){return oo.scale.ordinal().range(El)},oo.scale.category20=function(){return oo.scale.ordinal().range(Al)},oo.scale.category20b=function(){return oo.scale.ordinal().range(Cl)},oo.scale.category20c=function(){return oo.scale.ordinal().range(zl)};var El=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(hn),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(hn),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(hn),zl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(hn);oo.scale.quantile=function(){return Zi([],[])},oo.scale.quantize=function(){return Gi(0,1,[0,1])},oo.scale.threshold=function(){return Xi([.5],[0,1])},oo.scale.identity=function(){return Wi([0,1])},oo.svg={},oo.svg.arc=function(){function s(){var e=Math.max(0,+X.apply(this,arguments)),t=Math.max(0,+W.apply(this,arguments)),a=K.apply(this,arguments)-Ho,l=Q.apply(this,arguments)-Ho,r=Math.abs(l-a),o=a>l?0:1;if(e>t&&(i=t,t=e,e=i),r>=Fo-Ds)return B(t,o)+(e?B(e,1-o):"")+"Z";var i,s,h,p,u,f,te,ne,ae,le,re,oe,ie=0,se=0,de=[];if((p=(+ee.apply(this,arguments)||0)/2)&&(h=J===Ll?Math.sqrt(e*e+t*t):+J.apply(this,arguments),o||(se*=-1),t&&(se=G(h/t*Math.sin(p))),e&&(ie=G(h/e*Math.sin(p)))),t){u=t*Math.cos(a+se),f=t*Math.sin(a+se),te=t*Math.cos(l-se),ne=t*Math.sin(l-se);var A=Math.abs(l-a-2*se)<=jo?0:1;if(se&&ns(u,f,te,ne)===o^A){var C=(a+l)/2;u=t*Math.cos(C),f=t*Math.sin(C),te=ne=null}}else u=f=0;if(e){ae=e*Math.cos(l-ie),le=e*Math.sin(l-ie),re=e*Math.cos(a+ie),oe=e*Math.sin(a+ie);var z=Math.abs(a-l+2*ie)<=jo?0:1;if(ie&&ns(ae,le,re,oe)===1-o^z){var L=(a+l)/2;ae=e*Math.cos(L),le=e*Math.sin(L),re=oe=null}}else ae=le=0;if(r>Ds&&.001<(i=Math.min(Math.abs(t-e)/2,+$.apply(this,arguments)))){s=t>e^o?0:1;var q=i,ce=i;if(jo>r){var ge=null==re?[ae,le]:null==te?[u,f]:Te([u,f],[re,oe],[te,ne],[ae,le]),D=u-ge[0],P=f-ge[1],U=te-ge[0],j=ne-ge[1],F=1/Math.sin(Math.acos((D*U+P*j)/(Math.sqrt(D*D+P*P)*Math.sqrt(U*U+j*j)))/2),H=Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1]);ce=Math.min(i,(e-H)/(F-1)),q=Math.min(i,(t-H)/(F+1))}if(null!=te){var O=as(null==re?[ae,le]:[re,oe],[u,f],t,q,o),I=as([te,ne],[ae,le],t,q,o);i===q?de.push("M",O[0],"A",q,",",q," 0 0,",s," ",O[1],"A",t,",",t," 0 ",1-o^ns(O[1][0],O[1][1],I[1][0],I[1][1]),",",o," ",I[1],"A",q,",",q," 0 0,",s," ",I[0]):de.push("M",O[0],"A",q,",",q," 0 1,",s," ",I[0])}else de.push("M",u,",",f);if(null!=re){var Y=as([u,f],[re,oe],e,-ce,o),Z=as([ae,le],null==te?[u,f]:[te,ne],e,-ce,o);i===ce?de.push("L",Z[0],"A",ce,",",ce," 0 0,",s," ",Z[1],"A",e,",",e," 0 ",o^ns(Z[1][0],Z[1][1],Y[1][0],Y[1][1]),",",1-o," ",Y[1],"A",ce,",",ce," 0 0,",s," ",Y[0]):de.push("L",Z[0],"A",ce,",",ce," 0 0,",s," ",Y[0])}else de.push("L",ae,",",le)}else de.push("M",u,",",f),null!=te&&de.push("A",t,",",t," 0 ",A,",",o," ",te,",",ne),de.push("L",ae,",",le),null!=re&&de.push("A",e,",",e," 0 ",z,",",1-o," ",re,",",oe);return de.push("Z"),de.join("")}function B(e,n){return"M0,"+e+"A"+e+","+e+" 0 1,"+n+" 0,"+-e+"A"+e+","+e+" 0 1,"+n+" 0,"+e}var X=Ji,W=Ki,$=$i,J=Ll,K=Qi,Q=es,ee=ts;return s.innerRadius=function(e){return arguments.length?(X=_n(e),s):X},s.outerRadius=function(e){return arguments.length?(W=_n(e),s):W},s.cornerRadius=function(e){return arguments.length?($=_n(e),s):$},s.padRadius=function(e){return arguments.length?(J=e==Ll?Ll:_n(e),s):J},s.startAngle=function(e){return arguments.length?(K=_n(e),s):K},s.endAngle=function(e){return arguments.length?(Q=_n(e),s):Q},s.padAngle=function(e){return arguments.length?(ee=_n(e),s):ee},s.centroid=function(){var e=(+X.apply(this,arguments)+ +W.apply(this,arguments))/2,n=(+K.apply(this,arguments)+ +Q.apply(this,arguments))/2-Ho;return[Math.cos(n)*e,Math.sin(n)*e]},s};var Ll="auto";oo.svg.line=function(){return ls(qr)};var ql=oo.map({linear:rs,"linear-closed":os,step:function(a){for(var n=0,l=a.length,e=a[0],o=[e[0],",",e[1]];++n<l;)o.push("H",(e[0]+(e=a[n])[0])/2,"V",e[1]);return 1<l&&o.push("H",e[0]),o.join("")},"step-before":is,"step-after":ss,basis:gs,"basis-open":function(a){if(4>a.length)return rs(a);for(var n,l=[],e=-1,s=a.length,i=[0],d=[0];3>++e;)n=a[e],i.push(n[0]),d.push(n[1]);for(l.push(hs(Dl,i)+","+hs(Dl,d)),--e;++e<s;)n=a[e],i.shift(),i.push(n[0]),d.shift(),d.push(n[1]),ps(l,i,d);return l.join("")},"basis-closed":function(l){for(var n,s,d=-1,c=l.length,i=c+4,g=[],o=[];4>++d;)s=l[d%c],g.push(s[0]),o.push(s[1]);for(n=[hs(Dl,g),",",hs(Dl,o)],--d;++d<i;)s=l[d%c],g.shift(),g.push(s[0]),o.shift(),o.push(s[1]),ps(n,g,o);return n.join("")},bundle:function(s,n){var t=s.length-1;if(t)for(var e,d,g=s[0][0],h=s[0][1],o=s[t][0]-g,a=s[t][1]-h,l=-1;++l<=t;)e=s[l],d=l/t,e[0]=n*e[0]+(1-n)*(g+d*o),e[1]=n*e[1]+(1-n)*(h+d*a);return gs(s)},cardinal:function(e,n){return 3>e.length?rs(e):e[0]+ds(e,cs(e,n))},"cardinal-open":function(e,n){return 4>e.length?rs(e):e[1]+ds(e.slice(1,-1),cs(e,n))},"cardinal-closed":function(e,n){return 3>e.length?os(e):e[0]+ds((e.push(e[0]),e),cs([e[e.length-2]].concat(e,[e[1]]),n))},monotone:function(e){return 3>e.length?rs(e):e[0]+ds(e,ms(e))}});ql.forEach(function(e,n){n.key=e,n.closed=/-closed$/.test(e)});var Tl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Dl=[0,1/6,2/3,1/6];oo.svg.line.radial=function(){var e=ls(fs);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},is.reverse=ss,ss.reverse=is,oo.svg.area=function(){return xs(qr)},oo.svg.area.radial=function(){var e=xs(fs);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},oo.svg.chord=function(){function s(o,n){var a=d(this,i,o,n),l=d(this,g,o,n);return"M"+a.p0+e(a.r,a.p1,a.a1-a.a0)+(t(a,l)?r(a.r,a.p1,a.r,a.p0):r(a.r,a.p1,l.r,l.p0)+e(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,a.r,a.p0))+"Z"}function d(a,n,t,e){var l=n.call(a,t,e),r=h.call(a,l,e),i=p.call(a,l,e)-Ho,o=y.call(a,l,e)-Ho;return{r:r,a0:i,a1:o,p0:[r*Math.cos(i),r*Math.sin(i)],p1:[r*Math.cos(o),r*Math.sin(o)]}}function t(e,n){return e.a0==n.a0&&e.a1==n.a1}function e(a,n,t){return"A"+a+","+a+" 0 "+ +(t>jo)+",1 "+n}function r(a,n,t,e){return"Q 0,0 "+e}var i=me,g=Me,h=_s,p=Qi,y=es;return s.radius=function(e){return arguments.length?(h=_n(e),s):h},s.source=function(e){return arguments.length?(i=_n(e),s):i},s.target=function(e){return arguments.length?(g=_n(e),s):g},s.startAngle=function(e){return arguments.length?(p=_n(e),s):p},s.endAngle=function(e){return arguments.length?(y=_n(e),s):y},s},oo.svg.diagonal=function(){function a(e,t){var n=s.call(this,e,t),r=d.call(this,e,t),o=(n.y+r.y)/2,a=[n,{x:n.x,y:o},{x:r.x,y:o},r];return a=a.map(c),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var s=me,d=Me,c=bs;return a.source=function(t){return arguments.length?(s=_n(t),a):s},a.target=function(e){return arguments.length?(d=_n(e),a):d},a.projection=function(e){return arguments.length?(c=e,a):c},a},oo.svg.diagonal.radial=function(){var a=oo.svg.diagonal(),l=bs,r=a.projection;return a.projection=function(e){return arguments.length?r(vs(l=e)):l},a},oo.svg.symbol=function(){function a(e,t){return(Pl.get(l.call(this,e,t))||Ss)(o.call(this,e,t))}var l=ws,o=Es;return a.type=function(t){return arguments.length?(l=_n(t),a):l},a.size=function(e){return arguments.length?(o=_n(e),a):o},a};var Pl=oo.map({circle:Ss,cross:function(e){var n=Math.sqrt(e/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(a){var n=Math.sqrt(a/(2*jl)),t=n*jl;return"M0,"+-n+"L"+t+",0 0,"+n+" "+-t+",0Z"},square:function(e){var n=Math.sqrt(e)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(a){var n=Math.sqrt(a/Ul),t=n*Ul/2;return"M0,"+t+"L"+n+","+-t+" "+-n+","+-t+"Z"},"triangle-up":function(a){var n=Math.sqrt(a/Ul),t=n*Ul/2;return"M0,"+-t+"L"+n+","+t+" "+-n+","+t+"Z"}});oo.svg.symbolTypes=Pl.keys();var Ul=Math.sqrt(3),jl=Math.tan(30*Io);Ns.transition=function(d){for(var n,g,h=Fl||++Yl,r=Ms(d),i=[],p=md||{time:Date.now(),ease:xr,delay:0,duration:250},o=-1,u=this.length;++o<u;){i.push(n=[]);for(var l=this[o],c=-1,y=l.length;++c<y;)(g=l[c])&&Ps(g,c,r,h,p),n.push(g)}return Cs(i,r,h)},Ns.interrupt=function(e){return this.each(null==e?fd:ks(Ms(e)))};var Fl,md,fd=ks(Ms()),Il=[],Yl=0;Il.call=Ns.call,Il.empty=Ns.empty,Il.node=Ns.node,Il.size=Ns.size,oo.transition=function(e,n){return e&&e.transition?Fl?e.transition(n):e:oo.selection().transition(e)},oo.transition.prototype=Il,Il.select=function(d){var g,h,p,y=this.id,i=this.namespace,u=[];d=b(d);for(var o=-1,m=this.length;++o<m;){u.push(g=[]);for(var l=this[o],c=-1,x=l.length;++c<x;)(p=l[c])&&(h=d.call(p,p.__data__,c,o))?("__data__"in p&&(h.__data__=p.__data__),Ps(h,c,i,y,p[i][y]),g.push(h)):g.push(null)}return Cs(u,i,y)},Il.selectAll=function(d){var y,m,x,_,b,w=this.id,o=this.namespace,a=[];d=E(d);for(var l=-1,S=this.length;++l<S;)for(var f=this[l],s=-1,k=f.length;++s<k;)if(x=f[s]){b=x[o][w],m=d.call(x,x.__data__,s,l),a.push(y=[]);for(var p=-1,C=m.length;++p<C;)(_=m[p])&&Ps(_,p,o,w,b),y.push(_)}return Cs(a,o,w)},Il.filter=function(s){var d,c,g,h=[];"function"!=typeof s&&(s=q(s));for(var i=0,p=this.length;p>i;i++){h.push(d=[]);for(var c=this[i],o=0,y=c.length;y>o;o++)(g=c[o])&&s.call(g,g.__data__,o,i)&&d.push(g)}return Cs(h,this.namespace,this.id)},Il.tween=function(a,n){var l=this.id,e=this.namespace;return 2>arguments.length?this.node()[e][l].tween.get(a):N(this,null==n?function(n){n[e][l].tween.remove(a)}:function(t){t[e][l].tween.set(a,n)})},Il.attr=function(l,n){function i(){this.removeAttribute(o)}function e(){this.removeAttributeNS(o.space,o.local)}if(2>arguments.length){for(n in l)this.attr(n,l[n]);return this}var r="transform"==l?Ur:gr,o=oo.ns.qualify(l);return As(this,"attr."+l,n,o.local?function(a){return null==a?e:(a+="",function(){var l,n=this.getAttributeNS(o.space,o.local);return n!==a&&(l=r(n,a),function(e){this.setAttributeNS(o.space,o.local,l(e))})})}:function(a){return null==a?i:(a+="",function(){var l,n=this.getAttribute(o);return n!==a&&(l=r(n,a),function(e){this.setAttribute(o,l(e))})})})},Il.attrTween=function(a,l){function t(t,n){var e=l.call(this,t,n,this.getAttribute(o));return e&&function(t){this.setAttribute(o,e(t))}}function e(t,n){var e=l.call(this,t,n,this.getAttributeNS(o.space,o.local));return e&&function(t){this.setAttributeNS(o.space,o.local,e(t))}}var o=oo.ns.qualify(a);return this.tween("attr."+a,o.local?e:t)},Il.style=function(a,t,n){function l(){this.style.removeProperty(a)}function i(t){return null==t?l:(t+="",function(){var e,l=jt(this).getComputedStyle(this,null).getPropertyValue(a);return l!==t&&(e=gr(l,t),function(l){this.style.setProperty(a,e(l),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof a){for(n in 2>s&&(t=""),a)this.style(n,a[n],t);return this}n=""}return As(this,"style."+a,t,i)},Il.styleTween=function(a,t,e){function n(n,l){var r=t.call(this,n,l,jt(this).getComputedStyle(this,null).getPropertyValue(a));return r&&function(n){this.style.setProperty(a,r(n),e)}}return 3>arguments.length&&(e=""),this.tween("style."+a,n)},Il.text=function(e){return As(this,"text",e,Ls)},Il.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var n;2>this[e].count&&(n=this.parentNode)&&n.removeChild(this)})},Il.ease=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].ease:("function"!=typeof a&&(a=oo.ease.apply(oo,arguments)),N(this,function(e){e[t][l].ease=a}))},Il.delay=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].delay:N(this,"function"==typeof a?function(e,n,r){e[t][l].delay=+a.call(e,e.__data__,n,r)}:(a=+a,function(e){e[t][l].delay=a}))},Il.duration=function(a){var l=this.id,t=this.namespace;return 1>arguments.length?this.node()[t][l].duration:N(this,"function"==typeof a?function(e,n,r){e[t][l].duration=Math.max(1,a.call(e,e.__data__,n,r))}:(a=Math.max(1,a),function(e){e[t][l].duration=a}))},Il.each=function(a,n){var l=this.id,e=this.namespace;if(2>arguments.length){var t=md,r=Fl;try{Fl=l,N(this,function(n,t,r){md=n[e][l],a.call(n,n.__data__,t,r)})}finally{md=t,Fl=r}}else N(this,function(t){var r=t[e][l];(r.event||(r.event=oo.dispatch("start","end","interrupt"))).on(a,n)});return this},Il.transition=function(){for(var d,g,h,p,y=this.id,i=++Yl,u=this.namespace,o=[],a=0,m=this.length;m>a;a++){o.push(d=[]);for(var g=this[a],c=0,x=g.length;x>c;c++)(h=g[c])&&(p=h[u][y],Ps(h,c,u,i,{time:p.time,ease:p.ease,delay:p.delay+p.duration,duration:p.duration})),d.push(h)}return Cs(o,u,i)},oo.svg.axis=function(){function s(e){e.each(function(){var e,t=oo.select(this),a=this.__chart__||P,l=this.__chart__=P.copy(),r=null==H?l.ticks?l.ticks.apply(l,F):l.domain():H,o=null==m?l.tickFormat?l.tickFormat.apply(l,F):qr:m,i=t.selectAll(".tick").data(r,l),c=i.enter().insert("g",".domain").attr("class","tick").style("opacity",Ds),g=oo.transition(i.exit()).style("opacity",Ds).remove(),d=oo.transition(i.order()).style("opacity",1),h=Math.max(U,0)+O,p=Mi(l),u=t.selectAll(".domain").data([0]),y=(u.enter().append("path").attr("class","domain"),oo.transition(u));c.append("line"),c.append("text");var x,_,b,v,M=c.select("line"),E=d.select("line"),A=i.select("text").text(o),C=c.select("text"),z=d.select("text"),L="top"===j||"left"===j?-1:1;if("bottom"===j||"top"===j?(e=zs,x="x",b="y",_="x2",v="y2",A.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),y.attr("d","M"+p[0]+","+L*D+"V0H"+p[1]+"V"+L*D)):(e=no,x="y",b="x",_="y2",v="x2",A.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),y.attr("d","M"+L*D+","+p[0]+"H0V"+p[1]+"H"+L*D)),M.attr(v,L*U),C.attr(b,L*h),E.attr(_,0).attr(v,L*U),z.attr(x,0).attr(b,L*h),l.rangeBand){var q=l,T=q.rangeBand()/2;a=l=function(e){return q(e)+T}}else a.rangeBand?a=l:g.call(e,l,a);c.call(e,a,l),d.call(e,l,l)})}var m,P=oo.scale.linear(),j=xd,U=6,D=6,O=3,F=[10],H=null;return s.scale=function(e){return arguments.length?(P=e,s):P},s.orient=function(e){return arguments.length?(j=e in Vl?e+"":xd,s):j},s.ticks=function(){return arguments.length?(F=lo(arguments),s):F},s.tickValues=function(e){return arguments.length?(H=e,s):H},s.tickFormat=function(t){return arguments.length?(m=t,s):m},s.tickSize=function(n){var t=arguments.length;return t?(U=+n,D=+arguments[t-1],s):U},s.innerTickSize=function(e){return arguments.length?(U=+e,s):U},s.outerTickSize=function(e){return arguments.length?(D=+e,s):D},s.tickPadding=function(e){return arguments.length?(O=+e,s):O},s.tickSubdivide=function(){return arguments.length&&s},s};var xd="bottom",Vl={top:1,right:1,bottom:1,left:1};oo.svg.brush=function(){function y(a){a.each(function(){var i=oo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",n).on("touchstart.brush",n),t=i.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=i.selectAll(".resize").data(u,qr);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Xl[e]}).append("rect").attr("x",function(e){return /[ew]$/.test(e)?-3:null}).attr("y",function(e){return /^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",y.empty()?"none":null);var a,c=oo.transition(i),s=oo.transition(t);P&&(a=Mi(P),s.attr("x",a[0]).attr("width",a[1]-a[0]),e(c)),j&&(a=Mi(j),s.attr("y",a[0]).attr("height",a[1]-a[0]),r(c)),d(c)})}function d(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+U[+/e$/.test(e)]+","+D[+/^s/.test(e)]+")"})}function e(e){e.select(".extent").attr("x",U[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",U[1]-U[0])}function r(e){e.select(".extent").attr("y",D[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",D[1]-D[0])}function n(){function t(){32==oo.event.keyCode&&(S||(s=null,A[0]-=U[1],A[1]-=D[1],S=2),x())}function n(){32==oo.event.keyCode&&2==S&&(A[0]+=U[1],A[1]+=D[1],S=0,x())}function a(){var a=oo.mouse(g),n=!1;c&&(a[0]+=c[0],a[1]+=c[1]),S||(oo.event.altKey?(s||(s=[(U[0]+U[1])/2,(D[0]+D[1])/2]),A[0]=U[+(a[0]<s[0])],A[1]=D[+(a[1]<s[1])]):s=null),v&&l(a,P,0)&&(e(u),n=!0),w&&l(a,j,1)&&(r(u),n=!0),n&&(d(u),p({type:"brush",mode:S?"move":"resize"}))}function l(a,n,t){var e,o,g=Mi(n),h=g[0],p=g[1],u=A[t],y=t?D:U,x=y[1]-y[0];return S&&(h-=u,p-=x+u),e=(t?E:b)?Math.max(h,Math.min(p,a[t])):a[t],S?o=(e+=u)+x:(s&&(u=Math.max(h,Math.min(p,2*s[t]-e))),e>u?(o=e,e=u):o=u),y[0]!=e||y[1]!=o?(t?_=null:m=null,y[0]=e,y[1]=o,!0):void 0}function o(){a(),u.style("pointer-events","all").selectAll(".resize").style("display",y.empty()?"none":null),oo.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),p({type:"brushend"})}var s,c,g=this,h=oo.select(oo.event.target),p=i.of(g,arguments),u=oo.select(g),f=h.datum(),v=!/^(n|s)$/.test(f)&&P,w=!/^(e|w)$/.test(f)&&j,S=h.classed("extent"),k=H(g),A=oo.mouse(g),L=oo.select(jt(g)).on("keydown.brush",t).on("keyup.brush",n);if(oo.event.changedTouches?L.on("touchmove.brush",a).on("touchend.brush",o):L.on("mousemove.brush",a).on("mouseup.brush",o),u.interrupt().selectAll("*").interrupt(),S)A[0]=U[0]-A[0],A[1]=D[0]-A[1];else if(f){var z=+/w$/.test(f),T=+/^n/.test(f);c=[U[1-z]-A[0],D[1-T]-A[1]],A[0]=U[z],A[1]=D[T]}else oo.event.altKey&&(s=A.slice());u.style("pointer-events","none").selectAll(".resize").style("display",null),oo.select("body").style("cursor",h.style("cursor")),p({type:"brushstart"}),a()}var m,_,i=S(y,"brushstart","brush","brushend"),P=null,j=null,U=[0,0],D=[0,0],b=!0,E=!0,u=$l[0];return y.event=function(e){e.each(function(){var a=i.of(this,arguments),n={x:U,y:D,i:m,j:_},t=this.__chart__||n;this.__chart__=n,Fl?oo.select(this).transition().each("start.brush",function(){m=t.i,_=t.j,U=t.x,D=t.y,a({type:"brushstart"})}).tween("brush:brush",function(){var t=hr(U,n.x),e=hr(D,n.y);return m=_=null,function(l){U=n.x=t(l),D=n.y=e(l),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){m=n.i,_=n.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},y.x=function(e){return arguments.length?(P=e,u=$l[!P<<1|!j],y):P},y.y=function(e){return arguments.length?(j=e,u=$l[!P<<1|!j],y):j},y.clamp=function(e){return arguments.length?(P&&j?(b=!!e[0],E=!!e[1]):P?b=!!e:j&&(E=!!e),y):P&&j?[b,E]:P?b:j?E:null},y.extent=function(n){var t,a,o,s,d;return arguments.length?(P&&(t=n[0],a=n[1],j&&(t=t[0],a=a[0]),m=[t,a],P.invert&&(t=P(t),a=P(a)),t>a&&(d=t,t=a,a=d),t==U[0]&&a==U[1]||(U=[t,a])),j&&(o=n[0],s=n[1],P&&(o=o[1],s=s[1]),_=[o,s],j.invert&&(o=j(o),s=j(s)),o>s&&(d=o,o=s,s=d),o==D[0]&&s==D[1]||(D=[o,s])),y):(P&&(m?(t=m[0],a=m[1]):(t=U[0],a=U[1],P.invert&&(t=P.invert(t),a=P.invert(a)),t>a&&(d=t,t=a,a=d))),j&&(_?(o=_[0],s=_[1]):(o=D[0],s=D[1],j.invert&&(o=j.invert(o),s=j.invert(s)),o>s&&(d=o,o=s,s=d))),P&&j?[[t,o],[a,s]]:P?[t,a]:j&&[o,s])},y.clear=function(){return y.empty()||(U=[0,0],D=[0,0],m=_=null),y},y.empty=function(){return!!P&&U[0]==U[1]||!!j&&D[0]==D[1]},oo.rebind(y,i,"on")};var Xl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bl=pa.format=Ma.timeFormat,Wl=Bl.utc,Jl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Bl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?to:Jl,to.parse=function(e){var n=new Date(e);return isNaN(n)?null:n},to.toString=Jl.toString,pa.second=Tn(function(e){return new ga(1e3*Math.floor(e/1e3))},function(e,n){e.setTime(e.getTime()+1e3*Math.floor(n))},function(e){return e.getSeconds()}),pa.seconds=pa.second.range,pa.seconds.utc=pa.second.utc.range,pa.minute=Tn(function(e){return new ga(6e4*Math.floor(e/6e4))},function(e,n){e.setTime(e.getTime()+6e4*Math.floor(n))},function(e){return e.getMinutes()}),pa.minutes=pa.minute.range,pa.minutes.utc=pa.minute.utc.range,pa.hour=Tn(function(e){var n=e.getTimezoneOffset()/60;return new ga(36e5*(Math.floor(e/36e5-n)+n))},function(e,n){e.setTime(e.getTime()+36e5*Math.floor(n))},function(e){return e.getHours()}),pa.hours=pa.hour.range,pa.hours.utc=pa.hour.utc.range,pa.month=Tn(function(e){return e=pa.day(e),e.setDate(1),e},function(e,n){e.setMonth(e.getMonth()+n)},function(e){return e.getMonth()}),pa.months=pa.month.range,pa.months.utc=pa.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[pa.second,1],[pa.second,5],[pa.second,15],[pa.second,30],[pa.minute,1],[pa.minute,5],[pa.minute,15],[pa.minute,30],[pa.hour,1],[pa.hour,3],[pa.hour,6],[pa.hour,12],[pa.day,1],[pa.day,2],[pa.week,1],[pa.month,1],[pa.month,3],[pa.year,1]],Ql=Bl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ct]]),_d={range:function(a,n,t){return oo.range(Math.ceil(a/t)*t,+n,t).map(ro)},floor:qr,ceil:qr};Kl.year=pa.year,pa.scale=function(){return eo(oo.scale.linear(),Kl,Ql)};var bd=Kl.map(function(e){return[e[0].utc,e[1]]}),vd=Wl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ct]]);bd.year=pa.year.utc,pa.scale.utc=function(){return eo(oo.scale.linear(),bd,vd)},oo.text=bn(function(e){return e.responseText}),oo.json=function(e,n){return vn(e,"application/json",io,n)},oo.html=function(e,n){return vn(e,"text/html",uo,n)},oo.xml=bn(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=oo,define(oo)):"object"==typeof module&&module.exports?module.exports=oo:this.d3=oo}();(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.topojson=e.topojson||{})})(this,function(w){"use strict";function n(t,n,a,e){P(t,n,a),P(t,n,n+e),P(t,n+e,a)}function P(a,n,l){for(var i,s=n+(l-- -n>>1);n<s;++n,--l)i=a[n],a[n]=a[l],a[l]=i}function t(e){return(e&&T.hasOwnProperty(e.type)?T[e.type]:o)(e)}function e(e){var t=e.geometry;return null==t?e.type=null:(o(t),e.type=t.type,t.geometries?e.geometries=t.geometries:t.coordinates&&(e.coordinates=t.coordinates),t.bbox&&(e.bbox=t.bbox)),delete e.geometry,e}function o(e){return e?(U.hasOwnProperty(e.type)&&U[e.type](e),e):{type:null}}function D(a){var n,l=a[0],o=a[1];return o<l&&(n=l,l=o,o=n),l+31*o}function i(l,n){var r,s=l[0],d=l[1],c=n[0],g=n[1];return d<s&&(r=s,s=d,d=r),g<c&&(r=c,c=g,g=r),s===c&&d===g}function a(){return!0}function r(e){return e}function c(e){return null!=e.type}function l(l,n){var r=n.id,t=n.bbox,e=null==n.properties?{}:n.properties,o=s(l,n);return null==r&&null==t?{type:"Feature",properties:e,geometry:o}:null==t?{type:"Feature",id:r,properties:e,geometry:o}:{type:"Feature",id:r,bbox:t,properties:e,geometry:o}}function s(l,n){function s(a,n){n.length&&n.pop();for(var l=d[0>a?~a:a],t=0,r=l.length;t<r;++t)n.push(i(l[t].slice(),t));0>a&&B(n,r)}function r(e){return i(e.slice())}function e(t){for(var n=[],a=0,l=t.length;a<l;++a)s(t[a],n);return 2>n.length&&n.push(n[0].slice()),n}function t(t){for(var n=e(t);4>n.length;)n.push(n[0].slice());return n}function a(e){return e.map(t)}function o(l){var n,i=l.type;switch(i){case"GeometryCollection":return{type:i,geometries:l.geometries.map(o)};case"Point":n=r(l.coordinates);break;case"MultiPoint":n=l.coordinates.map(r);break;case"LineString":n=e(l.arcs);break;case"MultiLineString":n=l.arcs.map(e);break;case"Polygon":n=a(l.arcs);break;case"MultiPolygon":n=l.arcs.map(a);break;default:return null;}return{type:i,coordinates:n}}var i=H(l),d=l.arcs;return o(n)}function h(l,n,r){var t,i,s;if(1<arguments.length)t=g(l,n,r);else for(i=0,t=Array(s=l.arcs.length);i<s;++i)t[i]=i;return{type:"MultiLineString",arcs:G(l,t)}}function g(s,n,r){function t(e){var t=0>e?~e:e;(g[t]||(g[t]=[])).push({i:e,g:d})}function e(e){e.forEach(t)}function o(t){t.forEach(e)}function a(e){e.forEach(o)}function i(t){switch(d=t,t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"LineString":e(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":a(t.arcs);}}var d,c=[],g=[];return i(n),g.forEach(null==r?function(e){c.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&c.push(e[0].i)}),c}function u(l){for(var n,i=-1,s=l.length,e=l[s-1],d=0;++i<s;)n=e,e=l[i],d+=n[0]*e[1]-n[1]*e[0];return Math.abs(d)}function p(l,n){function r(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(r);break;case"Polygon":t(e.arcs);break;case"MultiPolygon":e.arcs.forEach(t);}}function t(t){t.forEach(function(e){e.forEach(function(e){(o[e=0>e?~e:e]||(o[e]=[])).push(t)})}),e.push(t)}function d(e){return u(s(l,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},e=[],a=[];return n.forEach(r),e.forEach(function(e){if(!e._){var l=[],r=[e];for(e._=1,a.push(l);e=r.pop();)l.push(e),e.forEach(function(e){e.forEach(function(e){o[0>e?~e:e].forEach(function(e){e._||(e._=1,r.push(e))})})})}}),e.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:a.map(function(n){var a,r=[];if(n.forEach(function(e){e.forEach(function(e){e.forEach(function(e){2>o[0>e?~e:e].length&&r.push(e)})})}),r=G(l,r),1<(a=r.length))for(var s,g,h=1,p=d(r[0]);h<a;++h)(s=d(r[h]))>p&&(g=r[0],r[0]=r[h],r[h]=g,p=s);return r})}}function y(a){var n=a[0],l=a[1],t=a[2];return Math.abs((n[0]-t[0])*(l[1]-n[1])-(n[0]-l[0])*(t[1]-n[1]))}function d(l){for(var n,i=-1,s=l.length,e=l[s-1],d=0;++i<s;)n=e,e=l[i],d+=n[0]*e[1]-n[1]*e[0];return Math.abs(d)/2}function m(e,t){return e[1][2]-t[1][2]}function f(l,n){if(s=l.length){if(0>=(n=+n)||2>s)return l[0];if(1<=n)return l[s-1];var s,d=(s-1)*n,e=Math.floor(d),o=l[e],a=l[e+1];return o+(a-o)*(d-e)}}function b(e,t){return t-e}function E(s,n,r,t,e,o){var a=Q(t-s),i=ne(a),d=le(a),c=o*d,g=r*e-n*o*i;return te(re(c*c+g*g),n*e+r*o*i)}var v=function(s){function d(e){e&&y.hasOwnProperty(e.type)&&y[e.type](e)}function r(e){var n=e[0],a=e[1];n<o&&(o=n),n>h&&(h=n),a<g&&(g=a),a>p&&(p=a)}function t(e){e.forEach(r)}function e(e){e.forEach(t)}var o=1/0,g=1/0,h=-(1/0),p=-(1/0),y={GeometryCollection:function(e){e.geometries.forEach(d)},Point:function(e){r(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(r)},LineString:function(e){t(e.coordinates)},MultiLineString:function(e){e.coordinates.forEach(t)},Polygon:function(e){e.coordinates.forEach(t)},MultiPolygon:function(t){t.coordinates.forEach(e)}};for(var n in s)d(s[n]);return h>=o&&p>=g?[o,g,h,p]:void 0},V=function(s,d,r,t,g){function h(t){for(var e=d(t)&u,n=p[e],l=0;n!=g;){if(r(n,t))return!0;if(++l>=s)throw new Error("full hashset");n=p[e=e+1&u]}return p[e]=t,!0}function a(t){for(var e=d(t)&u,n=p[e],l=0;n!=g;){if(r(n,t))return!0;if(++l>=s)break;n=p[e=e+1&u]}return!1}function i(){for(var a,l=[],n=0,o=p.length;n<o;++n)a=p[n],a!=g&&l.push(a);return l}3===arguments.length&&(t=Array,g=null);for(var p=new t(s=1<<Math.max(4,Math.ceil(Math.log(s)/Math.LN2))),u=s-1,c=0;c<s;++c)p[c]=g;return{add:h,has:a,values:i}},x=function(d,p,r,t,y,m){function x(t,e){for(var n=p(t)&s,a=f[n],o=0;a!=y;){if(r(a,t))return l[n]=e;if(++o>=d)throw new Error("full hashmap");a=f[n=n+1&s]}return f[n]=t,l[n]=e,e}function i(t,e){for(var n=p(t)&s,a=f[n],o=0;a!=y;){if(r(a,t))return l[n];if(++o>=d)throw new Error("full hashmap");a=f[n=n+1&s]}return f[n]=t,l[n]=e,e}function c(t,e){for(var n=p(t)&s,a=f[n],o=0;a!=y;){if(r(a,t))return l[n];if(++o>=d)break;a=f[n=n+1&s]}return e}function u(){for(var a,l=[],n=0,o=f.length;n<o;++n)a=f[n],a!=y&&l.push(a);return l}3===arguments.length&&(t=m=Array,y=null);for(var f=new t(d=1<<Math.max(4,Math.ceil(Math.log(d)/Math.LN2))),l=new m(d),s=d-1,h=0;h<d;++h)f[h]=y;return{set:x,maybeSet:i,get:c,keys:u}},A=function(e,t){return e[0]===t[0]&&e[1]===t[1]},S=new ArrayBuffer(16),k=new Float64Array(S),_=new Uint32Array(S),L=function(e){k[0]=e[0],k[1]=e[1];var t=_[0]^_[1];return t=t<<5^t>>7^_[2]^_[3],2147483647&t},C=function(_){function n(l,n,r,t){if(g[r]!==l){g[r]=l;var e=N[r];if(0<=e){var o=j[r];e===n&&o===t||e===t&&o===n||(++d,U[r]=1)}else N[r]=n,j[r]=t}}function r(){for(var l=x(1.4*R.length,S,e,Int32Array,-1,Int32Array),n=new Int32Array(R.length),r=0,o=R.length;r<o;++r)n[r]=l.maybeSet(r,r);return n}function S(e){return L(R[e])}function e(e,t){return A(R[e],R[t])}var t,o,z,T,q,R=_.coordinates,l=_.lines,s=_.rings,h=r(),g=new Int32Array(R.length),N=new Int32Array(R.length),j=new Int32Array(R.length),U=new Int8Array(R.length),d=0;for(t=0,o=R.length;t<o;++t)g[t]=N[t]=j[t]=-1;for(t=0,o=l.length;t<o;++t){var D=l[t],b=D[0],O=D[1];for(T=h[b],q=h[++b],++d,U[T]=1;++b<=O;)n(t,z=T,T=q,q=h[b]);++d,U[q]=1}for(t=0,o=R.length;t<o;++t)g[t]=-1;for(t=0,o=s.length;t<o;++t){var M=s[t],P=M[0]+1,F=M[1];for(z=h[F-1],T=h[P-1],q=h[P],n(t,z,T,q);++P<=F;)n(t,z=T,T=q,q=h[P])}g=N=j=null;var k,H=V(1.4*d,L,A);for(t=0,o=R.length;t<o;++t)U[k=h[t]]&&H.add(R[k]);return H},M=function(r){var d,m,x,_=C(r),a=r.coordinates,i=r.lines,c=r.rings;for(m=0,x=i.length;m<x;++m)for(var u=i[m],b=u[0],E=u[1];++b<E;)_.has(a[b])&&(d={0:b,1:u[1]},u[1]=b,u=u.next=d);for(m=0,x=c.length;m<x;++m)for(var s=c[m],w=s[0],g=w,S=s[1],p=_.has(a[w]);++g<S;)_.has(a[g])&&(p?(d={0:g,1:s[1]},s[1]=g,s=s.next=d):(n(a,w,S,S-g),a[S]=a[w],p=!0,g=w));return r},j=function(m){function n(o){var n,s,d,g,h,p,m,x;if(d=S.get(n=w[o[0]]))for(m=0,x=d.length;m<x;++m)if(g=d[m],t(g,o))return o[0]=g[0],void(o[1]=g[1]);if(h=S.get(s=w[o[1]]))for(m=0,x=h.length;m<x;++m)if(p=h[m],e(p,o))return o[1]=p[0],void(o[0]=p[1]);d?d.push(o):S.set(n,[o]),h?h.push(o):S.set(s,[o]),y.push(o)}function r(l){var n,i,s,d,c;if(i=S.get(n=w[l[0]]))for(d=0,c=i.length;d<c;++d){if(s=i[d],_(s,l))return l[0]=s[0],void(l[1]=s[1]);if(a(s,l))return l[0]=s[1],void(l[1]=s[0])}if(i=S.get(n=w[l[0]+b(l)]))for(d=0,c=i.length;d<c;++d){if(s=i[d],_(s,l))return l[0]=s[0],void(l[1]=s[1]);if(a(s,l))return l[0]=s[1],void(l[1]=s[0])}i?i.push(l):S.set(n,[l]),y.push(l)}function t(l,n){var r=l[0],i=n[0],s=l[1],o=n[1];if(r-s!=i-o)return!1;for(;r<=s;++r,++i)if(!A(w[r],w[i]))return!1;return!0}function e(l,n){var r=l[0],i=n[0],e=l[1],o=n[1];if(r-e!=i-o)return!1;for(;r<=e;++r,--o)if(!A(w[r],w[o]))return!1;return!0}function _(s,n){var r=s[0],t=n[0],e=s[1],o=n[1],a=e-r;if(a!=o-t)return!1;for(var i=b(s),d=b(n),c=0;c<a;++c)if(!A(w[r+(c+i)%a],w[t+(c+d)%a]))return!1;return!0}function a(s,n){var r=s[0],t=n[0],e=s[1],o=n[1],a=e-r;if(a!=o-t)return!1;for(var i=b(s),d=a-b(n),c=0;c<a;++c)if(!A(w[r+(c+i)%a],w[o-(c+d)%a]))return!1;return!0}function b(l){for(var n,s=l[0],r=l[1],t=s,d=t,c=w[t];++t<r;)n=w[t],(n[0]<c[0]||n[0]===c[0]&&n[1]<c[1])&&(d=t,c=n);return d-s}var o,i,c,E,w=m.coordinates,h=m.lines,g=m.rings,v=h.length+g.length;for(delete m.lines,delete m.rings,c=0,E=h.length;c<E;++c)for(o=h[c];o=o.next;)++v;for(c=0,E=g.length;c<E;++c)for(i=g[c];i=i.next;)++v;var S=x(1.4*(2*v),L,A),y=m.arcs=[];for(c=0,E=h.length;c<E;++c){o=h[c];do n(o);while(o=o.next)}for(c=0,E=g.length;c<E;++c)if(i=g[c],i.next)do n(i);while(i=i.next);else r(i);return m},O=function(d){for(var n=d.arcs,r=-1,g=n.length;++r<g;)for(var e,h,p=n[r],i=0,y=p.length,u=p[0],m=u[0],x=u[1];++i<y;)u=p[i],e=u[0],h=u[1],p[i]=[e-m,h-x],m=e,x=h;return d},N=function(s){function d(e){e&&h.hasOwnProperty(e.type)&&h[e.type](e)}function r(a){for(var n=0,l=a.length;n<l;++n)c[++o]=a[n];var t={0:o-l+1,1:o};return g.push(t),t}function t(a){for(var n=0,l=a.length;n<l;++n)c[++o]=a[n];var t={0:o-l+1,1:o};return i.push(t),t}function e(e){return e.map(t)}var o=-1,g=[],i=[],c=[],h={GeometryCollection:function(e){e.geometries.forEach(d)},LineString:function(e){e.arcs=r(e.coordinates),delete e.coordinates},MultiLineString:function(e){e.arcs=e.coordinates.map(r),delete e.coordinates},Polygon:function(e){e.arcs=e.coordinates.map(t),delete e.coordinates},MultiPolygon:function(t){t.arcs=t.coordinates.map(e),delete t.coordinates}};for(var n in s)d(s[n]);return{type:"Topology",coordinates:c,lines:g,rings:i,objects:s}},q=function(e){for(var n in e)e[n]=t(e[n]);return e},T={Feature:e,FeatureCollection:function(t){return t.type="GeometryCollection",t.geometries=t.features,t.features.forEach(e),delete t.features,t}},U={GeometryCollection:function(a){for(var n=a.geometries,l=-1,r=n.length;++l<r;)n[l]=o(n[l])},MultiPoint:function(e){e.coordinates.length?2>e.coordinates.length&&(e.type="Point",e.coordinates=e.coordinates[0]):(e.type=null,delete e.coordinates)},LineString:function(e){e.coordinates.length||(e.type=null,delete e.coordinates)},MultiLineString:function(l){for(var n,i=l.coordinates,r=0,s=0,d=i.length;r<d;++r)n=i[r],n.length&&(i[s++]=n);s?2>s?(l.type="LineString",l.coordinates=i[0]):l.coordinates.length=s:(l.type=null,delete l.coordinates)},Polygon:function(l){for(var n,i=l.coordinates,r=0,s=0,d=i.length;r<d;++r)n=i[r],n.length&&(i[s++]=n);s?l.coordinates.length=s:(l.type=null,delete l.coordinates)},MultiPolygon:function(l){for(var n=l.coordinates,r=0,s=0,d=n.length;r<d;++r){for(var o,g=n[r],a=0,h=0,p=g.length;a<p;++a)o=g[a],o.length&&(g[h++]=o);h&&(g.length=h,n[s++]=g)}s?2>s?(l.type="Polygon",l.coordinates=n[0]):n.length=s:(l.type=null,delete l.coordinates)}},z=function(d,n,r){function p(e){return e[0]=Math.round((e[0]-t)*c),e[1]=Math.round((e[1]-a)*l),e}function y(e){for(var n,s,d,g=0,h=1,y=e.length,c=p(e[0]),m=c[0],x=c[1];++g<y;)c=p(e[g]),s=c[0],d=c[1],s===m&&d===x||(n=e[h++],n[0]=m=s,n[1]=x=d);e.length=h}function e(e){e&&s.hasOwnProperty(e.type)&&s[e.type](e)}var t=n[0],a=n[1],o=n[2],i=n[3],c=o-t?(r-1)/(o-t):1,l=i-a?(r-1)/(i-a):1,s={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(e){p(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(p)},LineString:function(e){var t=e.coordinates;y(t),2>t.length&&(t[1]=t[0])},MultiLineString:function(l){for(var n,o=l.coordinates,r=0,i=o.length;r<i;++r)n=o[r],y(n),2>n.length&&(n[1]=n[0])},Polygon:function(l){for(var n,o=l.coordinates,r=0,i=o.length;r<i;++r)for(n=o[r],y(n);4>n.length;)n.push(n[0])},MultiPolygon:function(l){for(var n=l.coordinates,r=0,o=n.length;r<o;++r)for(var e,s=n[r],a=0,d=s.length;a<d;++a)for(e=s[a],y(e);4>e.length;)e.push(e[0])}};for(var h in d)e(d[h]);return{scale:[1/c,1/l],translate:[t,a]}},R=function(l){function s(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":r(e.arcs);break;case"MultiLineString":e.arcs.forEach(r);break;case"Polygon":e.arcs.forEach(r);break;case"MultiPolygon":e.arcs.forEach(t);}}function r(l){for(var n=0,s=l.length;n<s;++n){var t,c=l[n],h=0>c&&(c=~c,!0);null==(t=g[c])&&(g[c]=t=++i,a[t]=d[c]),l[n]=h?~t:t}}function t(e){e.forEach(r)}var e,d=l.arcs,a=l.arcs=[],i=-1,g=Array(d.length);for(e in l.objects)s(l.objects[e]);return l},F=function(e){return e},H=function(l){if(null==(n=l.transform))return F;var n,s,d,g=n.scale[0],o=n.scale[1],a=n.translate[0],i=n.translate[1];return function(e,t){return t||(s=d=0),e[0]=(s+=e[0])*g+a,e[1]=(d+=e[1])*o+i,e}},I=function(d){function g(e){i[0]=e[0],i[1]=e[1],p(i),i[0]<c&&(c=i[0]),i[0]>m&&(m=i[0]),i[1]<y&&(y=i[1]),i[1]>x&&(x=i[1])}function r(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(r);break;case"Point":g(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(g);}}var t=d.bbox;if(!t){var h,n,p=H(d),i=[,,],c=1/0,y=c,m=-c,x=-c;for(n in d.arcs.forEach(function(e){for(var n=-1,a=e.length;++n<a;)h=e[n],i[0]=h[0],i[1]=h[1],p(i,n),i[0]<c&&(c=i[0]),i[0]>m&&(m=i[0]),i[1]<y&&(y=i[1]),i[1]>x&&(x=i[1])}),d.objects)r(d.objects[n]);t=d.bbox=[c,y,m,x]}return t},B=function(a,n){for(var l,r=a.length,i=r-n;i<--r;)l=a[i],a[i++]=a[r],a[r]=l},Z=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return l(e,t)})}:l(e,t)},G=function(l,n){function s(n){var a,r=l.arcs[0>n?~n:n],e=r[0];return l.transform?(a=[0,0],r.forEach(function(e){a[0]+=e[0],a[1]+=e[1]})):a=r[r.length-1],0>n?[a,e]:[e,a]}function t(a,n){for(var l in a){var t=a[l];delete n[t.start],delete t.start,delete t.end,t.forEach(function(t){e[0>t?~t:t]=1}),o.push(t)}}var e={},d={},a={},o=[],r=-1;return n.forEach(function(i,t){var e,s=l.arcs[0>i?~i:i];!(3>s.length)||s[1][0]||s[1][1]||(e=n[++r],n[r]=i,n[t]=e)}),n.forEach(function(t){var n,i,g=s(t),o=g[0],c=g[1];if(n=a[o]){if(delete a[n.end],n.push(t),n.end=c,i=d[c]){delete d[i.start];var h=i===n?n:n.concat(i);d[h.start=n.start]=a[h.end=i.end]=h}else d[n.start]=a[n.end]=n;}else if(!(n=d[c]))n=[t],d[n.start=o]=a[n.end=c]=n;else if(delete d[n.start],n.unshift(t),n.start=o,i=a[o]){delete a[i.end];var p=i===n?n:i.concat(n);d[p.start=i.start]=a[p.end=n.end]=p}else d[n.start]=a[n.end]=n}),t(a,d),t(d,a),n.forEach(function(t){e[0>t?~t:t]||o.push([t])}),o},Y=function(a,n){for(var l,r=0,i=a.length;r<i;)l=r+i>>>1,a[l]<n?r=l+1:i=l;return r},X=function(l){if(null==(n=l.transform))return F;var n,s,d,g=n.scale[0],o=n.scale[1],a=n.translate[0],i=n.translate[1];return function(e,t){t||(s=d=0);var n=Math.round((e[0]-a)/g),l=Math.round((e[1]-i)/o);return e[0]=n-s,s=n,e[1]=l-d,d=l,e}},W=function(){function l(e,n){for(;0<n;){var a=(n+1>>1)-1,t=d[a];if(0<=m(e,t))break;d[t._=n]=t,d[e._=n=a]=e}}function s(l,n){for(;;){var o=n+1<<1,t=o-1,a=n,s=d[a];if(t<e&&0>m(d[t],s)&&(s=d[a=t]),o<e&&0>m(d[o],s)&&(s=d[a=o]),a===n)break;d[s._=n]=s,d[l._=n=a]=l}}var n={},d=[],e=0;return n.push=function(t){return l(d[t._=e]=t,e++),e},n.pop=function(){if(!(0>=e)){var a,l=d[0];return 0<--e&&(a=d[e],s(d[a._=0]=a,0)),l}},n.remove=function(n){var t,r=n._;if(d[r]===n)return r!==--e&&(t=d[e],(0>m(t,n)?l:s)(d[t._=r]=t,r)),r},n},$=Math.PI,J=2*$,K=$/180,Q=Math.abs,ee=Math.atan,te=Math.atan2,ne=Math.cos,ae=Math.max,le=Math.sin,re=Math.sqrt,oe=Math.tan;w.topology=function(d,c){function r(e){e&&s.hasOwnProperty(e.type)&&s[e.type](e)}function t(e){var a=[];do{var l=y.get(e);a.push(e[0]<e[1]?l:~l)}while(e=e.next);return a}function e(e){return e.map(t)}var o=v(q(d)),a=0<c&&o&&z(d,o,c),p=j(M(N(d))),u=p.coordinates,y=x(1.4*p.arcs.length,D,i);d=p.objects,p.bbox=o,p.arcs=p.arcs.map(function(e,t){return y.set(e,t),u.slice(e[0],e[1]+1)}),delete p.coordinates,u=null;var s={GeometryCollection:function(e){e.geometries.forEach(r)},LineString:function(e){e.arcs=t(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(t)},Polygon:function(e){e.arcs=e.arcs.map(t)},MultiPolygon:function(t){t.arcs=t.arcs.map(e)}};for(var h in d)r(d[h]);return a&&(p.transform=a,O(p)),p},w.filter=function(l,s){function d(e){switch(e.type){case"Polygon":e.arcs=t(e.arcs),e.arcs||(e.type=null,delete e.arcs);break;case"MultiPolygon":e.arcs=e.arcs.map(t).filter(r),e.arcs.length||(e.type=null,delete e.arcs);break;case"GeometryCollection":e.geometries.forEach(d),e.geometries=e.geometries.filter(c),e.geometries.length||(e.type=null,delete e.geometries);}}function t(t){return t.length&&e(t[0])?[t.shift()].concat(t.filter(o)):null}function e(e){return s(e,!1)}function o(e){return s(e,!0)}for(var n in null==s&&(s=a),l.objects)d(l.objects[n]);return R(l)},w.filterAttached=function(l){function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r);}}function r(a){for(var n=0,l=a.length;n<l;++n,++o)for(var t,d=a[n],e=0,g=d.length;e<g;++e){t=d[e],0>t&&(t=~t);var c=s[t];s[t]=0<=c&&c!==o?-1:o}}var t,s={},o=0;for(t in l.objects)i(l.objects[t]);return function(a){for(var n,l=0,o=a.length;l<o;++l)if(n=a[l],0>s[0>n?~n:n])return!0;return!1}},w.filterWeight=function(a,n,l){return n=null==n?Number.MIN_VALUE:+n,null==l&&(l=d),function(t,e){return l(Z(a,{type:"Polygon",arcs:[t]}).geometry.coordinates[0],e)>=n}},w.planarRingArea=d,w.planarTriangleArea=y,w.presimplify=function(l,s){function n(e){o.remove(e),e[1][2]=s(e),o.push(e)}var t=H(l),e=X(l),o=W();return null==s&&(s=y),l.arcs.forEach(function(a){var r,d,g,p=[],y=0;for(a.forEach(t),d=1,g=a.length-1;d<g;++d)r=a.slice(d-1,d+2),r[1][2]=s(r),p.push(r),o.push(r);for(a[0][2]=a[g][2]=1/0,d=0,g=p.length;d<g;++d)r=p[d],r.previous=p[d-1],r.next=p[d+1];for(;r=o.pop();){var m=r.previous,f=r.next;r[1][2]<y?r[1][2]=y:y=r[1][2],m&&(m.next=f,m[2]=r[2],n(m)),f&&(f.previous=m,f[0]=r[0],n(f))}a.forEach(e)}),l},w.quantile=function(e,n){var a=[];return e.arcs.forEach(function(e){e.forEach(function(e){isFinite(e[2])&&a.push(e[2])})}),a.length&&f(a.sort(b),n)},w.simplify=function(e,l){return l=null==l?Number.MIN_VALUE:+l,e.arcs.forEach(e.transform?function(r){for(var n,s,d=0,g=0,h=-1,p=-1,y=r.length;++h<y;)n=r[h],n[2]>=l?(s=r[++p],s[0]=n[0]+d,s[1]=n[1]+g,d=g=0):(d+=n[0],g+=n[1]);r.length=++p}:function(r){for(var n,i=-1,s=-1,d=r.length;++i<d;)n=r[i],n[2]>=l&&(r[++s]=n);r.length=++s}),e.arcs.forEach(e.transform?function(a){var n=0,l=0,i=a.length,e=a[0];for(e.length=2;++n<i;)e=a[n],e.length=2,(e[0]||e[1])&&(a[++l]=e);a.length=(l||1)+1}:function(l){var n,s,d=0,g=0,h=l.length,a=l[0],p=a[0],y=a[1];for(a.length=2;++d<h;)a=l[d],n=a[0],s=a[1],a.length=2,p===n&&y===s||(l[++g]=a,p=n,y=s);l.length=(g||1)+1}),e},w.sphericalRingArea=function(d,n){if(!d.length)return 0;var r,p,y,m,x,_,b,E=0,w=d[0],S=w[0]*K,k=(w[1]*K+J)/2,C=ne(k),A=le(k);for(x=1,_=d.length;x<_;++x)w=d[x],r=S,S=w[0]*K,p=S-r,k=(w[1]*K+J)/2,y=C,C=ne(k),m=A,A=le(k),b=m*A,E+=te(b*le(p),y*C+b*ne(p));return E=2*(E>$?E-J:E<-$?E+J:E),n&&(E*=-1),0>E?E+4*$:E},w.sphericalTriangleArea=function(d){var n=d[0][0]*K,r=d[0][1]*K,t=ne(r),e=le(r),o=d[1][0]*K,a=d[1][1]*K,i=ne(a),c=le(a),u=d[2][0]*K,m=d[2][1]*K,l=ne(m),s=le(m),h=E(n,t,e,o,i,c),g=E(o,i,c,u,l,s),f=E(u,l,s,n,t,e),p=(h+g+f)/2;return 4*ee(re(ae(0,oe(p/2)*oe((p-h)/2)*oe((p-g)/2)*oe((p-f)/2))))},w.bbox=I,w.feature=Z,w.merge=function(e){return s(e,p.apply(this,arguments))},w.mergeArcs=p,w.mesh=function(e){return s(e,h.apply(this,arguments))},w.meshArcs=h,w.neighbors=function(d){function p(t,a){t.forEach(function(l){0>l&&(l=~l);var r=e[l];r?r.push(a):e[l]=[a]})}function y(e,a){e.forEach(function(e){p(e,a)})}function t(e,l){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,l)}):e.type in a&&a[e.type](e.arcs,l)}var e={},n=d.map(function(){return[]}),a={LineString:p,MultiLineString:y,Polygon:y,MultiPolygon:function(e,t){e.forEach(function(e){y(e,t)})}};for(var r in d.forEach(t),e)for(var o=e[r],i=o.length,u=0;u<i;++u)for(var m=u+1;m<i;++m){var f,x=o[u],g=o[m];(f=n[x])[r=Y(f,g)]!==g&&f.splice(r,0,g),(f=n[g])[r=Y(f,x)]!==x&&f.splice(r,0,x)}return n},w.quantize=function(l,n){function s(e){e[0]=Math.round((e[0]-p)/i),e[1]=Math.round((e[1]-c)/u)}function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Point":s(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(s);}}if(!(2<=(n=Math.floor(n))))throw new Error("n must be \u22652");if(l.transform)throw new Error("already quantized");var e,d=I(l),p=d[0],i=(d[2]-p)/(n-1)||1,c=d[1],u=(d[3]-c)/(n-1)||1;for(e in l.arcs.forEach(function(d){for(var n,y,m,f=1,x=1,_=d.length,l=d[0],b=l[0]=Math.round((l[0]-p)/i),v=l[1]=Math.round((l[1]-c)/u);f<_;++f)l=d[f],y=Math.round((l[0]-p)/i),m=Math.round((l[1]-c)/u),y===b&&m===v||(n=d[x++],n[0]=y-b,b=y,n[1]=m-v,v=m);2>x&&(n=d[x++],n[0]=0,n[1]=0),d.length=x}),l.objects)t(l.objects[e]);return l.transform={scale:[i,u],translate:[p,c]},l},w.transform=H,w.untransform=X,Object.defineProperty(w,"__esModule",{value:!0})});!function t(n,a,l){function r(o,s){if(!a[o]){if(!n[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(e)return e(o,!0);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}var c=a[o]={exports:{}};n[o][0].call(c.exports,function(e){var t=n[o][1][e];return r(t?t:e)},c,c.exports,t,n,a,l)}return a[o].exports}for(var e="function"==typeof require&&require,o=0;o<l.length;o++)r(l[o]);return r}({1:[function(e,t){var _=e("./legend");t.exports=function(){function y(e){var t=_.d3_calcType(d,Z,R,N,H,Y),n=e.selectAll("g").data([d]);n.enter().append("g").attr("class",U+"legendCells");var a=n.selectAll("."+U+"cell").data(t.data),l=a.enter().append("g",".cell").attr("class",U+"cell").style("opacity",1e-6),r=(l.append(L).attr("class",U+"swatch"),a.select("g."+U+"cell "+L));_.d3_addEvents(l,G),a.exit().transition().style("opacity",0).remove(),_.d3_drawShapes(L,r,P,M,T,S),_.d3_addText(n,l,t.labels,U);var o=a.select("text"),i=r[0].map(function(e){return e.getBBox()});O?r.attr("class",function(e){return U+"swatch "+t.feature(e)}):"line"==L?r.style("stroke",t.feature):r.style("fill",t.feature);var s,c,g="start"==I?0:"middle"==I?.5:1;"vertical"===V?(s=function(e,t){return"translate(0, "+t*(i[t].height+x)+")"},c=function(e,t){return"translate("+(i[t].width+i[t].x+v)+","+(i[t].y+i[t].height/2+5)+")"}):"horizontal"===V&&(s=function(e,t){return"translate("+t*(i[t].width+x)+",0)"},c=function(e,t){return"translate("+(i[t].width*g+i[t].x)+","+(i[t].height+i[t].y+v+8)+")"}),_.d3_placement(V,a,s,o,c,I),_.d3_title(e,n,F,U),a.transition().style("opacity",1)}var S,d=d3.scale.linear(),L="rect",M=15,P=15,T=10,x=2,R=[5],N=[],U="",O=!1,F="",H=d3.format(".01f"),v=10,I="middle",Y="to",V="vertical",Z=!1,G=d3.dispatch("cellover","cellout","cellclick");return y.scale=function(e){return arguments.length?(d=e,y):d},y.cells=function(e){return arguments.length?((1<e.length||2<=e)&&(R=e),y):R},y.shape=function(e,t){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof t)&&(L=e,S=t),y):L},y.shapeWidth=function(e){return arguments.length?(M=+e,y):M},y.shapeHeight=function(e){return arguments.length?(P=+e,y):P},y.shapeRadius=function(e){return arguments.length?(T=+e,y):T},y.shapePadding=function(e){return arguments.length?(x=+e,y):x},y.labels=function(e){return arguments.length?(N=e,y):N},y.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(I=e),y):I},y.labelFormat=function(e){return arguments.length?(H=e,y):H},y.labelOffset=function(e){return arguments.length?(v=+e,y):v},y.labelDelimiter=function(e){return arguments.length?(Y=e,y):Y},y.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(O=e),y):O},y.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(V=e),y):V},y.ascending=function(e){return arguments.length?(Z=!!e,y):Z},y.classPrefix=function(e){return arguments.length?(U=e,y):U},y.title=function(e){return arguments.length?(F=e,y):F},d3.rebind(y,G,"on"),y}},{"./legend":2}],2:[function(e,t){t.exports={d3_identity:function(e){return e},d3_mergeLabels:function(e,t){if(0===t.length)return e;e=e?e:[];for(var n=t.length;n<e.length;n++)t.push(e[n]);return t},d3_linearLegend:function(t,n,a){var l=[];if(1<n.length)l=n;else for(var r=t.domain(),e=(r[r.length-1]-r[0])/(n-1),o=0;o<n;o++)l.push(r[0]+o*e);var i=l.map(a);return{data:l,labels:i,feature:function(e){return t(e)}}},d3_quantLegend:function(t,n,a){var e=t.range().map(function(l){var r=t.invertExtent(l);return n(r[0]),n(r[1]),n(r[0])+" "+a+" "+n(r[1])});return{data:t.range(),labels:e,feature:this.d3_identity}},d3_ordinalLegend:function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}},d3_drawShapes:function(t,n,a,l,r,e){"rect"===t?n.attr("height",a).attr("width",l):"circle"===t?n.attr("r",r):"line"===t?n.attr("x1",0).attr("x2",l).attr("y1",0).attr("y2",0):"path"==t&&n.attr("d",e)},d3_addText:function(e,t,n,a){t.append("text").attr("class",a+"label"),e.selectAll("g."+a+"cell text."+a+"label").data(n).text(this.d3_identity)},d3_calcType:function(t,n,a,l,r,e){var o=t.ticks?this.d3_linearLegend(t,a,r):t.invertExtent?this.d3_quantLegend(t,r,e):this.d3_ordinalLegend(t);return o.labels=this.d3_mergeLabels(o.labels,l),n&&(o.labels=this.d3_reverse(o.labels),o.data=this.d3_reverse(o.data)),o},d3_reverse:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t[n]=e[a-n-1];return t},d3_placement:function(t,n,a,l,r,e){n.attr("transform",a),l.attr("transform",r),"horizontal"===t&&l.style("text-anchor",e)},d3_addEvents:function(e,t){var n=this;e.on("mouseover.legend",function(e){n.d3_cellOver(t,e,this)}).on("mouseout.legend",function(e){n.d3_cellOut(t,e,this)}).on("click.legend",function(e){n.d3_cellClick(t,e,this)})},d3_cellOver:function(e,t,n){e.cellover.call(n,t)},d3_cellOut:function(e,t,n){e.cellout.call(n,t)},d3_cellClick:function(e,t,n){e.cellclick.call(n,t)},d3_title:function(t,n,a,l){if(""!==a){var r=t.selectAll("text."+l+"legendTitle");r.data([a]).enter().append("text").attr("class",l+"legendTitle"),t.selectAll("text."+l+"legendTitle").text(a);var e=t.select("."+l+"legendTitle").map(function(e){return e[0].getBBox().height})[0],o=-n.map(function(e){return e[0].getBBox().x})[0];n.attr("transform","translate("+o+","+(e+10)+")")}}}},{}],3:[function(e,t){var _=e("./legend");t.exports=function(){function t(e){var n=_.d3_calcType(S,H,M,P,N,O),a=e.selectAll("g").data([S]);a.enter().append("g").attr("class",T+"legendCells");var t=a.selectAll("."+T+"cell").data(n.data),l=t.enter().append("g",".cell").attr("class",T+"cell").style("opacity",1e-6),r=(l.append(L).attr("class",T+"swatch"),t.select("g."+T+"cell "+L));_.d3_addEvents(l,I),t.exit().transition().style("opacity",0).remove(),"line"===L?(_.d3_drawShapes(L,r,0,d),r.attr("stroke-width",n.feature)):_.d3_drawShapes(L,r,n.feature,n.feature,n.feature,E),_.d3_addText(a,l,n.labels,T);var o,i,c=t.select("text"),g=r[0].map(function(e,t){var a=e.getBBox(),l=S(n.data[t]);return"line"===L&&"horizontal"===F?a.height+=l:"line"===L&&"vertical"===F&&(a.width=a.width),a}),h=d3.max(g,function(e){return e.height+e.y}),p=d3.max(g,function(e){return e.width+e.x}),m="start"==U?0:"middle"==U?.5:1;"vertical"===F?(o=function(e,t){var n=d3.sum(g.slice(0,t+1),function(e){return e.height});return"translate(0, "+(n+t*s)+")"},i=function(e,t){return"translate("+(p+u)+","+(g[t].y+g[t].height/2+5)+")"}):"horizontal"===F&&(o=function(e,t){var n=d3.sum(g.slice(0,t+1),function(e){return e.width});return"translate("+(n+t*s)+",0)"},i=function(e,t){return"translate("+(g[t].width*m+g[t].x)+","+(h+u)+")"}),_.d3_placement(F,t,o,c,i,U),_.d3_title(e,a,R,T),t.transition().style("opacity",1)}var E,S=d3.scale.linear(),L="rect",d=15,s=2,M=[5],P=[],T="",R="",N=d3.format(".01f"),u=10,U="middle",O="to",F="vertical",H=!1,I=d3.dispatch("cellover","cellout","cellclick");return t.scale=function(e){return arguments.length?(S=e,t):S},t.cells=function(e){return arguments.length?((1<e.length||2<=e)&&(M=e),t):M},t.shape=function(e,n){return arguments.length?("rect"!=e&&"circle"!=e&&"line"!=e||(L=e,E=n),t):L},t.shapeWidth=function(e){return arguments.length?(d=+e,t):d},t.shapePadding=function(e){return arguments.length?(s=+e,t):s},t.labels=function(e){return arguments.length?(P=e,t):P},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(U=e),t):U},t.labelFormat=function(e){return arguments.length?(N=e,t):N},t.labelOffset=function(e){return arguments.length?(u=+e,t):u},t.labelDelimiter=function(e){return arguments.length?(O=e,t):O},t.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(F=e),t):F},t.ascending=function(e){return arguments.length?(H=!!e,t):H},t.classPrefix=function(e){return arguments.length?(T=e,t):T},t.title=function(e){return arguments.length?(R=e,t):R},d3.rebind(t,I,"on"),t}},{"./legend":2}],4:[function(e,t){var _=e("./legend");t.exports=function(){function t(n){var a=_.d3_calcType(d,F,L,M,R,U),t=n.selectAll("g").data([d]);t.enter().append("g").attr("class",P+"legendCells");var l=t.selectAll("."+P+"cell").data(a.data),r=l.enter().append("g",".cell").attr("class",P+"cell").style("opacity",1e-6),o=(r.append(S).attr("class",P+"swatch"),l.select("g."+P+"cell "+S));_.d3_addEvents(r,H),l.exit().transition().style("opacity",0).remove(),_.d3_drawShapes(S,o,e,c,f,a.feature),_.d3_addText(t,r,a.labels,P);var i,s,h=l.select("text"),p=o[0].map(function(e){return e.getBBox()}),m=d3.max(p,function(e){return e.height}),x=d3.max(p,function(e){return e.width}),v="start"==N?0:"middle"==N?.5:1;"vertical"===O?(i=function(e,t){return"translate(0, "+t*(m+g)+")"},s=function(e,t){return"translate("+(x+u)+","+(p[t].y+p[t].height/2+5)+")"}):"horizontal"===O&&(i=function(e,t){return"translate("+t*(x+g)+",0)"},s=function(e,t){return"translate("+(p[t].width*v+p[t].x)+","+(m+u)+")"}),_.d3_placement(O,l,i,h,s,N),_.d3_title(n,t,T,P),l.transition().style("opacity",1)}var d=d3.scale.linear(),S="path",c=15,e=15,f=10,g=5,L=[5],M=[],P="",T="",R=d3.format(".01f"),N="middle",u=10,U="to",O="vertical",F=!1,H=d3.dispatch("cellover","cellout","cellclick");return t.scale=function(e){return arguments.length?(d=e,t):d},t.cells=function(e){return arguments.length?((1<e.length||2<=e)&&(L=e),t):L},t.shapePadding=function(e){return arguments.length?(g=+e,t):g},t.labels=function(e){return arguments.length?(M=e,t):M},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(N=e),t):N},t.labelFormat=function(e){return arguments.length?(R=e,t):R},t.labelOffset=function(e){return arguments.length?(u=+e,t):u},t.labelDelimiter=function(e){return arguments.length?(U=e,t):U},t.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(O=e),t):O},t.ascending=function(e){return arguments.length?(F=!!e,t):F},t.classPrefix=function(e){return arguments.length?(P=e,t):P},t.title=function(e){return arguments.length?(T=e,t):T},d3.rebind(t,H,"on"),t}},{"./legend":2}],5:[function(e){d3.legend={color:e("./color"),size:e("./size"),symbol:e("./symbol")}},{"./color":1,"./size":3,"./symbol":4}]},{},[5]);